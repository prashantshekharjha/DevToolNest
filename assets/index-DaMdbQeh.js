var iD=Object.defineProperty;var E1=t=>{throw TypeError(t)};var sD=(t,e,n)=>e in t?iD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nn=(t,e,n)=>sD(t,typeof e!="symbol"?e+"":e,n),ev=(t,e,n)=>e.has(t)||E1("Cannot "+n);var ue=(t,e,n)=>(ev(t,e,"read from private field"),n?n.call(t):e.get(t)),Nt=(t,e,n)=>e.has(t)?E1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),it=(t,e,n,r)=>(ev(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hr=(t,e,n)=>(ev(t,e,"access private method"),n);var jd=(t,e,n,r)=>({set _(i){it(t,e,i,n)},get _(){return ue(t,e,r)}});function oD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EE={exports:{}},jm={},TE={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=Symbol.for("react.element"),aD=Symbol.for("react.portal"),lD=Symbol.for("react.fragment"),cD=Symbol.for("react.strict_mode"),uD=Symbol.for("react.profiler"),hD=Symbol.for("react.provider"),dD=Symbol.for("react.context"),fD=Symbol.for("react.forward_ref"),pD=Symbol.for("react.suspense"),mD=Symbol.for("react.memo"),gD=Symbol.for("react.lazy"),T1=Symbol.iterator;function vD(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var ME={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NE=Object.assign,RE={};function ru(t,e,n){this.props=t,this.context=e,this.refs=RE,this.updater=n||ME}ru.prototype.isReactComponent={};ru.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ru.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LE(){}LE.prototype=ru.prototype;function rx(t,e,n){this.props=t,this.context=e,this.refs=RE,this.updater=n||ME}var ix=rx.prototype=new LE;ix.constructor=rx;NE(ix,ru.prototype);ix.isPureReactComponent=!0;var M1=Array.isArray,$E=Object.prototype.hasOwnProperty,sx={current:null},OE={key:!0,ref:!0,__self:!0,__source:!0};function _E(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$E.call(e,r)&&!OE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:od,type:t,key:s,ref:o,props:i,_owner:sx.current}}function yD(t,e){return{$$typeof:od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ox(t){return typeof t=="object"&&t!==null&&t.$$typeof===od}function bD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var N1=/\/+/g;function tv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bD(""+t.key):e.toString(36)}function Pf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case od:case aD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tv(o,0):r,M1(i)?(n="",t!=null&&(n=t.replace(N1,"$&/")+"/"),Pf(i,e,n,"",function(u){return u})):i!=null&&(ox(i)&&(i=yD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",M1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+tv(s,a);o+=Pf(s,e,n,l,i)}else if(l=vD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+tv(s,a++),o+=Pf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dd(t,e,n){if(t==null)return t;var r=[],i=0;return Pf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $r={current:null},If={transition:null},wD={ReactCurrentDispatcher:$r,ReactCurrentBatchConfig:If,ReactCurrentOwner:sx};function jE(){throw Error("act(...) is not supported in production builds of React.")}Lt.Children={map:Dd,forEach:function(t,e,n){Dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!ox(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lt.Component=ru;Lt.Fragment=lD;Lt.Profiler=uD;Lt.PureComponent=rx;Lt.StrictMode=cD;Lt.Suspense=pD;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wD;Lt.act=jE;Lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$E.call(e,l)&&!OE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:od,type:t.type,key:i,ref:s,props:r,_owner:o}};Lt.createContext=function(t){return t={$$typeof:dD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hD,_context:t},t.Consumer=t};Lt.createElement=_E;Lt.createFactory=function(t){var e=_E.bind(null,t);return e.type=t,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:fD,render:t}};Lt.isValidElement=ox;Lt.lazy=function(t){return{$$typeof:gD,_payload:{_status:-1,_result:t},_init:xD}};Lt.memo=function(t,e){return{$$typeof:mD,type:t,compare:e===void 0?null:e}};Lt.startTransition=function(t){var e=If.transition;If.transition={};try{t()}finally{If.transition=e}};Lt.unstable_act=jE;Lt.useCallback=function(t,e){return $r.current.useCallback(t,e)};Lt.useContext=function(t){return $r.current.useContext(t)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(t){return $r.current.useDeferredValue(t)};Lt.useEffect=function(t,e){return $r.current.useEffect(t,e)};Lt.useId=function(){return $r.current.useId()};Lt.useImperativeHandle=function(t,e,n){return $r.current.useImperativeHandle(t,e,n)};Lt.useInsertionEffect=function(t,e){return $r.current.useInsertionEffect(t,e)};Lt.useLayoutEffect=function(t,e){return $r.current.useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return $r.current.useMemo(t,e)};Lt.useReducer=function(t,e,n){return $r.current.useReducer(t,e,n)};Lt.useRef=function(t){return $r.current.useRef(t)};Lt.useState=function(t){return $r.current.useState(t)};Lt.useSyncExternalStore=function(t,e,n){return $r.current.useSyncExternalStore(t,e,n)};Lt.useTransition=function(){return $r.current.useTransition()};Lt.version="18.3.1";TE.exports=Lt;var j=TE.exports;const Vi=nx(j),Dm=oD({__proto__:null,default:Vi},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD=j,CD=Symbol.for("react.element"),kD=Symbol.for("react.fragment"),AD=Object.prototype.hasOwnProperty,ED=SD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TD={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AD.call(e,r)&&!TD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CD,type:t,key:s,ref:o,props:i,_owner:ED.current}}jm.Fragment=kD;jm.jsx=DE;jm.jsxs=DE;EE.exports=jm;var v=EE.exports,PE={exports:{}},vi={},IE={exports:{}},FE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,P){var I=O.length;O.push(P);e:for(;0<I;){var B=I-1>>>1,Y=O[B];if(0<i(Y,P))O[B]=P,O[I]=Y,I=B;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var P=O[0],I=O.pop();if(I!==P){O[0]=I;e:for(var B=0,Y=O.length,H=Y>>>1;B<H;){var U=2*(B+1)-1,q=O[U],K=U+1,Q=O[K];if(0>i(q,I))K<Y&&0>i(Q,q)?(O[B]=Q,O[K]=I,B=K):(O[B]=q,O[U]=I,B=U);else if(K<Y&&0>i(Q,I))O[B]=Q,O[K]=I,B=K;else break e}}return P}function i(O,P){var I=O.sortIndex-P.sortIndex;return I!==0?I:O.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=O)r(u),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(u)}}function x(O){if(m=!1,C(O),!p)if(n(l)!==null)p=!0,$(S);else{var P=n(u);P!==null&&D(x,P.startTime-O)}}function S(O,P){p=!1,m&&(m=!1,y(L),L=-1),f=!0;var I=d;try{for(C(P),h=n(l);h!==null&&(!(h.expirationTime>P)||O&&!_());){var B=h.callback;if(typeof B=="function"){h.callback=null,d=h.priorityLevel;var Y=B(h.expirationTime<=P);P=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&r(l),C(P)}else r(l);h=n(l)}if(h!==null)var H=!0;else{var U=n(u);U!==null&&D(x,U.startTime-P),H=!1}return H}finally{h=null,d=I,f=!1}}var w=!1,k=null,L=-1,E=5,N=-1;function _(){return!(t.unstable_now()-N<E)}function R(){if(k!==null){var O=t.unstable_now();N=O;var P=!0;try{P=k(!0,O)}finally{P?M():(w=!1,k=null)}}else w=!1}var M;if(typeof b=="function")M=function(){b(R)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,A=T.port2;T.port1.onmessage=R,M=function(){A.postMessage(null)}}else M=function(){g(R,0)};function $(O){k=O,w||(w=!0,M())}function D(O,P){L=g(function(){O(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,$(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var I=d;d=P;try{return O()}finally{d=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=d;d=O;try{return P()}finally{d=I}},t.unstable_scheduleCallback=function(O,P,I){var B=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,O){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=I+Y,O={id:c++,callback:P,priorityLevel:O,startTime:I,expirationTime:Y,sortIndex:-1},I>B?(O.sortIndex=I,e(u,O),n(l)===null&&O===n(u)&&(m?(y(L),L=-1):m=!0,D(x,I-B))):(O.sortIndex=Y,e(l,O),p||f||(p=!0,$(S))),O},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(O){var P=d;return function(){var I=d;d=P;try{return O.apply(this,arguments)}finally{d=I}}}})(FE);IE.exports=FE;var MD=IE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=j,gi=MD;function Te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BE=new Set,hh={};function Cl(t,e){Dc(t,e),Dc(t+"Capture",e)}function Dc(t,e){for(hh[t]=e,t=0;t<e.length;t++)BE.add(e[t])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$0=Object.prototype.hasOwnProperty,RD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R1={},L1={};function LD(t){return $0.call(L1,t)?!0:$0.call(R1,t)?!1:RD.test(t)?L1[t]=!0:(R1[t]=!0,!1)}function $D(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OD(t,e,n,r){if(e===null||typeof e>"u"||$D(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){or[t]=new Or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];or[e]=new Or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){or[t]=new Or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){or[t]=new Or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){or[t]=new Or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){or[t]=new Or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){or[t]=new Or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){or[t]=new Or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){or[t]=new Or(t,5,!1,t.toLowerCase(),null,!1,!1)});var ax=/[\-:]([a-z])/g;function lx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ax,lx);or[e]=new Or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ax,lx);or[e]=new Or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ax,lx);or[e]=new Or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){or[t]=new Or(t,1,!1,t.toLowerCase(),null,!1,!1)});or.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){or[t]=new Or(t,1,!1,t.toLowerCase(),null,!0,!0)});function cx(t,e,n,r){var i=or.hasOwnProperty(e)?or[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OD(e,n,i,r)&&(n=null),r||i===null?LD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yo=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pd=Symbol.for("react.element"),Vl=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),ux=Symbol.for("react.strict_mode"),O0=Symbol.for("react.profiler"),zE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),hx=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),j0=Symbol.for("react.suspense_list"),dx=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),WE=Symbol.for("react.offscreen"),$1=Symbol.iterator;function gu(t){return t===null||typeof t!="object"?null:(t=$1&&t[$1]||t["@@iterator"],typeof t=="function"?t:null)}var Cn=Object.assign,nv;function Ou(t){if(nv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nv=e&&e[1]||""}return`
`+nv+t}var rv=!1;function iv(t,e){if(!t||rv)return"";rv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ou(t):""}function _D(t){switch(t.tag){case 5:return Ou(t.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 2:case 15:return t=iv(t.type,!1),t;case 11:return t=iv(t.type.render,!1),t;case 1:return t=iv(t.type,!0),t;default:return""}}function D0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kl:return"Fragment";case Vl:return"Portal";case O0:return"Profiler";case ux:return"StrictMode";case _0:return"Suspense";case j0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HE:return(t.displayName||"Context")+".Consumer";case zE:return(t._context.displayName||"Context")+".Provider";case hx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dx:return e=t.displayName||null,e!==null?e:D0(t.type)||"Memo";case Lo:e=t._payload,t=t._init;try{return D0(t(e))}catch{}}return null}function jD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D0(e);case 8:return e===ux?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DD(t){var e=UE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Id(t){t._valueTracker||(t._valueTracker=DD(t))}function VE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function P0(t,e){var n=e.checked;return Cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KE(t,e){e=e.checked,e!=null&&cx(t,"checked",e,!1)}function I0(t,e){KE(t,e);var n=ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?F0(t,e.type,n):e.hasOwnProperty("defaultValue")&&F0(t,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function F0(t,e,n){(e!=="number"||mp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _u=Array.isArray;function uc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ua(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function B0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Cn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Te(92));if(_u(n)){if(1<n.length)throw Error(Te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ua(n)}}function GE(t,e){var n=ua(e.value),r=ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fd,YE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fd=Fd||document.createElement("div"),Fd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PD=["Webkit","ms","Moz","O"];Object.keys(qu).forEach(function(t){PD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qu[e]=qu[t]})});function QE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qu.hasOwnProperty(t)&&qu[t]?(""+e).trim():e+"px"}function JE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ID=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H0(t,e){if(e){if(ID[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function W0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U0=null;function fx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var V0=null,hc=null,dc=null;function P1(t){if(t=cd(t)){if(typeof V0!="function")throw Error(Te(280));var e=t.stateNode;e&&(e=zm(e),V0(t.stateNode,t.type,e))}}function XE(t){hc?dc?dc.push(t):dc=[t]:hc=t}function ZE(){if(hc){var t=hc,e=dc;if(dc=hc=null,P1(t),e)for(t=0;t<e.length;t++)P1(e[t])}}function e2(t,e){return t(e)}function t2(){}var sv=!1;function n2(t,e,n){if(sv)return t(e,n);sv=!0;try{return e2(t,e,n)}finally{sv=!1,(hc!==null||dc!==null)&&(t2(),ZE())}}function fh(t,e){var n=t.stateNode;if(n===null)return null;var r=zm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Te(231,e,typeof n));return n}var K0=!1;if(ao)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){K0=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{K0=!1}function FD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Yu=!1,gp=null,vp=!1,G0=null,BD={onError:function(t){Yu=!0,gp=t}};function zD(t,e,n,r,i,s,o,a,l){Yu=!1,gp=null,FD.apply(BD,arguments)}function HD(t,e,n,r,i,s,o,a,l){if(zD.apply(this,arguments),Yu){if(Yu){var u=gp;Yu=!1,gp=null}else throw Error(Te(198));vp||(vp=!0,G0=u)}}function kl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I1(t){if(kl(t)!==t)throw Error(Te(188))}function WD(t){var e=t.alternate;if(!e){if(e=kl(t),e===null)throw Error(Te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return I1(i),t;if(s===r)return I1(i),e;s=s.sibling}throw Error(Te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?t:e}function i2(t){return t=WD(t),t!==null?s2(t):null}function s2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s2(t);if(e!==null)return e;t=t.sibling}return null}var o2=gi.unstable_scheduleCallback,F1=gi.unstable_cancelCallback,UD=gi.unstable_shouldYield,VD=gi.unstable_requestPaint,Ln=gi.unstable_now,KD=gi.unstable_getCurrentPriorityLevel,px=gi.unstable_ImmediatePriority,a2=gi.unstable_UserBlockingPriority,yp=gi.unstable_NormalPriority,GD=gi.unstable_LowPriority,l2=gi.unstable_IdlePriority,Pm=null,$s=null;function qD(t){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(Pm,t,void 0,(t.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:JD,YD=Math.log,QD=Math.LN2;function JD(t){return t>>>=0,t===0?32:31-(YD(t)/QD|0)|0}var Bd=64,zd=4194304;function ju(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ju(a):(s&=o,s!==0&&(r=ju(s)))}else o=n&~i,o!==0?r=ju(o):s!==0&&(r=ju(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qi(e),i=1<<n,r|=t[n],e&=~i;return r}function XD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=XD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function q0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c2(){var t=Bd;return Bd<<=1,!(Bd&4194240)&&(Bd=64),t}function ov(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qi(e),t[e]=n}function eP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Zt=0;function u2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h2,gx,d2,f2,p2,Y0=!1,Hd=[],Zo=null,ea=null,ta=null,ph=new Map,mh=new Map,jo=[],tP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B1(t,e){switch(t){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":ph.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(e.pointerId)}}function yu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&gx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nP(t,e,n,r,i){switch(e){case"focusin":return Zo=yu(Zo,t,e,n,r,i),!0;case"dragenter":return ea=yu(ea,t,e,n,r,i),!0;case"mouseover":return ta=yu(ta,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,yu(ph.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,yu(mh.get(s)||null,t,e,n,r,i)),!0}return!1}function m2(t){var e=Ba(t.target);if(e!==null){var n=kl(e);if(n!==null){if(e=n.tag,e===13){if(e=r2(n),e!==null){t.blockedOn=e,p2(t.priority,function(){d2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ff(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Q0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);U0=r,n.target.dispatchEvent(r),U0=null}else return e=cd(n),e!==null&&gx(e),t.blockedOn=n,!1;e.shift()}return!0}function z1(t,e,n){Ff(t)&&n.delete(e)}function rP(){Y0=!1,Zo!==null&&Ff(Zo)&&(Zo=null),ea!==null&&Ff(ea)&&(ea=null),ta!==null&&Ff(ta)&&(ta=null),ph.forEach(z1),mh.forEach(z1)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Y0||(Y0=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,rP)))}function gh(t){function e(i){return bu(i,t)}if(0<Hd.length){bu(Hd[0],t);for(var n=1;n<Hd.length;n++){var r=Hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zo!==null&&bu(Zo,t),ea!==null&&bu(ea,t),ta!==null&&bu(ta,t),ph.forEach(e),mh.forEach(e),n=0;n<jo.length;n++)r=jo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jo.length&&(n=jo[0],n.blockedOn===null);)m2(n),n.blockedOn===null&&jo.shift()}var fc=yo.ReactCurrentBatchConfig,xp=!0;function iP(t,e,n,r){var i=Zt,s=fc.transition;fc.transition=null;try{Zt=1,vx(t,e,n,r)}finally{Zt=i,fc.transition=s}}function sP(t,e,n,r){var i=Zt,s=fc.transition;fc.transition=null;try{Zt=4,vx(t,e,n,r)}finally{Zt=i,fc.transition=s}}function vx(t,e,n,r){if(xp){var i=Q0(t,e,n,r);if(i===null)gv(t,e,r,wp,n),B1(t,r);else if(nP(i,t,e,n,r))r.stopPropagation();else if(B1(t,r),e&4&&-1<tP.indexOf(t)){for(;i!==null;){var s=cd(i);if(s!==null&&h2(s),s=Q0(t,e,n,r),s===null&&gv(t,e,r,wp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gv(t,e,r,null,n)}}var wp=null;function Q0(t,e,n,r){if(wp=null,t=fx(r),t=Ba(t),t!==null)if(e=kl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=r2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wp=t,null}function g2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KD()){case px:return 1;case a2:return 4;case yp:case GD:return 16;case l2:return 536870912;default:return 16}default:return 16}}var Ko=null,yx=null,Bf=null;function v2(){if(Bf)return Bf;var t,e=yx,n=e.length,r,i="value"in Ko?Ko.value:Ko.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bf=i.slice(t,1<r?1-r:void 0)}function zf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wd(){return!0}function H1(){return!1}function yi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wd:H1,this.isPropagationStopped=H1,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wd)},persist:function(){},isPersistent:Wd}),e}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bx=yi(iu),ld=Cn({},iu,{view:0,detail:0}),oP=yi(ld),av,lv,xu,Im=Cn({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xu&&(xu&&t.type==="mousemove"?(av=t.screenX-xu.screenX,lv=t.screenY-xu.screenY):lv=av=0,xu=t),av)},movementY:function(t){return"movementY"in t?t.movementY:lv}}),W1=yi(Im),aP=Cn({},Im,{dataTransfer:0}),lP=yi(aP),cP=Cn({},ld,{relatedTarget:0}),cv=yi(cP),uP=Cn({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),hP=yi(uP),dP=Cn({},iu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fP=yi(dP),pP=Cn({},iu,{data:0}),U1=yi(pP),mP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vP[t])?!!e[t]:!1}function xx(){return yP}var bP=Cn({},ld,{key:function(t){if(t.key){var e=mP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xx,charCode:function(t){return t.type==="keypress"?zf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xP=yi(bP),wP=Cn({},Im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V1=yi(wP),SP=Cn({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xx}),CP=yi(SP),kP=Cn({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),AP=yi(kP),EP=Cn({},Im,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TP=yi(EP),MP=[9,13,27,32],wx=ao&&"CompositionEvent"in window,Qu=null;ao&&"documentMode"in document&&(Qu=document.documentMode);var NP=ao&&"TextEvent"in window&&!Qu,y2=ao&&(!wx||Qu&&8<Qu&&11>=Qu),K1=" ",G1=!1;function b2(t,e){switch(t){case"keyup":return MP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gl=!1;function RP(t,e){switch(t){case"compositionend":return x2(e);case"keypress":return e.which!==32?null:(G1=!0,K1);case"textInput":return t=e.data,t===K1&&G1?null:t;default:return null}}function LP(t,e){if(Gl)return t==="compositionend"||!wx&&b2(t,e)?(t=v2(),Bf=yx=Ko=null,Gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y2&&e.locale!=="ko"?null:e.data;default:return null}}var $P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$P[t.type]:e==="textarea"}function w2(t,e,n,r){XE(r),e=Sp(e,"onChange"),0<e.length&&(n=new bx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ju=null,vh=null;function OP(t){$2(t,0)}function Fm(t){var e=Ql(t);if(VE(e))return t}function _P(t,e){if(t==="change")return e}var S2=!1;if(ao){var uv;if(ao){var hv="oninput"in document;if(!hv){var Y1=document.createElement("div");Y1.setAttribute("oninput","return;"),hv=typeof Y1.oninput=="function"}uv=hv}else uv=!1;S2=uv&&(!document.documentMode||9<document.documentMode)}function Q1(){Ju&&(Ju.detachEvent("onpropertychange",C2),vh=Ju=null)}function C2(t){if(t.propertyName==="value"&&Fm(vh)){var e=[];w2(e,vh,t,fx(t)),n2(OP,e)}}function jP(t,e,n){t==="focusin"?(Q1(),Ju=e,vh=n,Ju.attachEvent("onpropertychange",C2)):t==="focusout"&&Q1()}function DP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fm(vh)}function PP(t,e){if(t==="click")return Fm(e)}function IP(t,e){if(t==="input"||t==="change")return Fm(e)}function FP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var es=typeof Object.is=="function"?Object.is:FP;function yh(t,e){if(es(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$0.call(e,i)||!es(t[i],e[i]))return!1}return!0}function J1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X1(t,e){var n=J1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J1(n)}}function k2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?k2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A2(){for(var t=window,e=mp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mp(t.document)}return e}function Sx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BP(t){var e=A2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&k2(n.ownerDocument.documentElement,n)){if(r!==null&&Sx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=X1(n,s);var o=X1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zP=ao&&"documentMode"in document&&11>=document.documentMode,ql=null,J0=null,Xu=null,X0=!1;function Z1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;X0||ql==null||ql!==mp(r)||(r=ql,"selectionStart"in r&&Sx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xu&&yh(Xu,r)||(Xu=r,r=Sp(J0,"onSelect"),0<r.length&&(e=new bx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ql)))}function Ud(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yl={animationend:Ud("Animation","AnimationEnd"),animationiteration:Ud("Animation","AnimationIteration"),animationstart:Ud("Animation","AnimationStart"),transitionend:Ud("Transition","TransitionEnd")},dv={},E2={};ao&&(E2=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Bm(t){if(dv[t])return dv[t];if(!Yl[t])return t;var e=Yl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E2)return dv[t]=e[n];return t}var T2=Bm("animationend"),M2=Bm("animationiteration"),N2=Bm("animationstart"),R2=Bm("transitionend"),L2=new Map,eS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(t,e){L2.set(t,e),Cl(e,[t])}for(var fv=0;fv<eS.length;fv++){var pv=eS[fv],HP=pv.toLowerCase(),WP=pv[0].toUpperCase()+pv.slice(1);xa(HP,"on"+WP)}xa(T2,"onAnimationEnd");xa(M2,"onAnimationIteration");xa(N2,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(R2,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function tS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HD(r,e,void 0,t),t.currentTarget=null}function $2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;tS(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;tS(i,a,u),s=l}}}if(vp)throw t=G0,vp=!1,G0=null,t}function dn(t,e){var n=e[ry];n===void 0&&(n=e[ry]=new Set);var r=t+"__bubble";n.has(r)||(O2(e,t,2,!1),n.add(r))}function mv(t,e,n){var r=0;e&&(r|=4),O2(n,t,r,e)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function bh(t){if(!t[Vd]){t[Vd]=!0,BE.forEach(function(n){n!=="selectionchange"&&(UP.has(n)||mv(n,!1,t),mv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vd]||(e[Vd]=!0,mv("selectionchange",!1,e))}}function O2(t,e,n,r){switch(g2(e)){case 1:var i=iP;break;case 4:i=sP;break;default:i=vx}n=i.bind(null,e,n,t),i=void 0,!K0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ba(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}n2(function(){var u=s,c=fx(n),h=[];e:{var d=L2.get(t);if(d!==void 0){var f=bx,p=t;switch(t){case"keypress":if(zf(n)===0)break e;case"keydown":case"keyup":f=xP;break;case"focusin":p="focus",f=cv;break;case"focusout":p="blur",f=cv;break;case"beforeblur":case"afterblur":f=cv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=lP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=CP;break;case T2:case M2:case N2:f=hP;break;case R2:f=AP;break;case"scroll":f=oP;break;case"wheel":f=TP;break;case"copy":case"cut":case"paste":f=fP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=V1}var m=(e&4)!==0,g=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var b=u,C;b!==null;){C=b;var x=C.stateNode;if(C.tag===5&&x!==null&&(C=x,y!==null&&(x=fh(b,y),x!=null&&m.push(xh(b,x,C)))),g)break;b=b.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==U0&&(p=n.relatedTarget||n.fromElement)&&(Ba(p)||p[lo]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Ba(p):null,p!==null&&(g=kl(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=W1,x="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=V1,x="onPointerLeave",y="onPointerEnter",b="pointer"),g=f==null?d:Ql(f),C=p==null?d:Ql(p),d=new m(x,b+"leave",f,n,c),d.target=g,d.relatedTarget=C,x=null,Ba(c)===u&&(m=new m(y,b+"enter",p,n,c),m.target=C,m.relatedTarget=g,x=m),g=x,f&&p)t:{for(m=f,y=p,b=0,C=m;C;C=$l(C))b++;for(C=0,x=y;x;x=$l(x))C++;for(;0<b-C;)m=$l(m),b--;for(;0<C-b;)y=$l(y),C--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=$l(m),y=$l(y)}m=null}else m=null;f!==null&&nS(h,d,f,m,!1),p!==null&&g!==null&&nS(h,g,p,m,!0)}}e:{if(d=u?Ql(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=_P;else if(q1(d))if(S2)S=IP;else{S=DP;var w=jP}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=PP);if(S&&(S=S(t,u))){w2(h,S,n,c);break e}w&&w(t,d,u),t==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&F0(d,"number",d.value)}switch(w=u?Ql(u):window,t){case"focusin":(q1(w)||w.contentEditable==="true")&&(ql=w,J0=u,Xu=null);break;case"focusout":Xu=J0=ql=null;break;case"mousedown":X0=!0;break;case"contextmenu":case"mouseup":case"dragend":X0=!1,Z1(h,n,c);break;case"selectionchange":if(zP)break;case"keydown":case"keyup":Z1(h,n,c)}var k;if(wx)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Gl?b2(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(y2&&n.locale!=="ko"&&(Gl||L!=="onCompositionStart"?L==="onCompositionEnd"&&Gl&&(k=v2()):(Ko=c,yx="value"in Ko?Ko.value:Ko.textContent,Gl=!0)),w=Sp(u,L),0<w.length&&(L=new U1(L,t,null,n,c),h.push({event:L,listeners:w}),k?L.data=k:(k=x2(n),k!==null&&(L.data=k)))),(k=NP?RP(t,n):LP(t,n))&&(u=Sp(u,"onBeforeInput"),0<u.length&&(c=new U1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}$2(h,e)})}function xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fh(t,n),s!=null&&r.unshift(xh(t,s,i)),s=fh(t,e),s!=null&&r.push(xh(t,s,i))),t=t.return}return r}function $l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fh(n,s),l!=null&&o.unshift(xh(n,l,a))):i||(l=fh(n,s),l!=null&&o.push(xh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VP=/\r\n?/g,KP=/\u0000|\uFFFD/g;function rS(t){return(typeof t=="string"?t:""+t).replace(VP,`
`).replace(KP,"")}function Kd(t,e,n){if(e=rS(e),rS(t)!==e&&n)throw Error(Te(425))}function Cp(){}var Z0=null,ey=null;function ty(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ny=typeof setTimeout=="function"?setTimeout:void 0,GP=typeof clearTimeout=="function"?clearTimeout:void 0,iS=typeof Promise=="function"?Promise:void 0,qP=typeof queueMicrotask=="function"?queueMicrotask:typeof iS<"u"?function(t){return iS.resolve(null).then(t).catch(YP)}:ny;function YP(t){setTimeout(function(){throw t})}function vv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gh(e)}function na(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var su=Math.random().toString(36).slice(2),Cs="__reactFiber$"+su,wh="__reactProps$"+su,lo="__reactContainer$"+su,ry="__reactEvents$"+su,QP="__reactListeners$"+su,JP="__reactHandles$"+su;function Ba(t){var e=t[Cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lo]||n[Cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sS(t);t!==null;){if(n=t[Cs])return n;t=sS(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[Cs]||t[lo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ql(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Te(33))}function zm(t){return t[wh]||null}var iy=[],Jl=-1;function wa(t){return{current:t}}function pn(t){0>Jl||(t.current=iy[Jl],iy[Jl]=null,Jl--)}function an(t,e){Jl++,iy[Jl]=t.current,t.current=e}var ha={},br=wa(ha),Kr=wa(!1),il=ha;function Pc(t,e){var n=t.type.contextTypes;if(!n)return ha;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(t){return t=t.childContextTypes,t!=null}function kp(){pn(Kr),pn(br)}function oS(t,e,n){if(br.current!==ha)throw Error(Te(168));an(br,e),an(Kr,n)}function _2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Te(108,jD(t)||"Unknown",i));return Cn({},n,r)}function Ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ha,il=br.current,an(br,t),an(Kr,Kr.current),!0}function aS(t,e,n){var r=t.stateNode;if(!r)throw Error(Te(169));n?(t=_2(t,e,il),r.__reactInternalMemoizedMergedChildContext=t,pn(Kr),pn(br),an(br,t)):pn(Kr),an(Kr,n)}var Xs=null,Hm=!1,yv=!1;function j2(t){Xs===null?Xs=[t]:Xs.push(t)}function XP(t){Hm=!0,j2(t)}function Sa(){if(!yv&&Xs!==null){yv=!0;var t=0,e=Zt;try{var n=Xs;for(Zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xs=null,Hm=!1}catch(i){throw Xs!==null&&(Xs=Xs.slice(t+1)),o2(px,Sa),i}finally{Zt=e,yv=!1}}return null}var Xl=[],Zl=0,Ep=null,Tp=0,Si=[],Ci=0,sl=null,ro=1,io="";function _a(t,e){Xl[Zl++]=Tp,Xl[Zl++]=Ep,Ep=t,Tp=e}function D2(t,e,n){Si[Ci++]=ro,Si[Ci++]=io,Si[Ci++]=sl,sl=t;var r=ro;t=io;var i=32-Qi(r)-1;r&=~(1<<i),n+=1;var s=32-Qi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ro=1<<32-Qi(e)+i|n<<i|r,io=s+t}else ro=1<<s|n<<i|r,io=t}function Cx(t){t.return!==null&&(_a(t,1),D2(t,1,0))}function kx(t){for(;t===Ep;)Ep=Xl[--Zl],Xl[Zl]=null,Tp=Xl[--Zl],Xl[Zl]=null;for(;t===sl;)sl=Si[--Ci],Si[Ci]=null,io=Si[--Ci],Si[Ci]=null,ro=Si[--Ci],Si[Ci]=null}var fi=null,li=null,vn=!1,Gi=null;function P2(t,e){var n=Ti(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fi=t,li=na(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fi=t,li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sl!==null?{id:ro,overflow:io}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ti(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fi=t,li=null,!0):!1;default:return!1}}function sy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oy(t){if(vn){var e=li;if(e){var n=e;if(!lS(t,e)){if(sy(t))throw Error(Te(418));e=na(n.nextSibling);var r=fi;e&&lS(t,e)?P2(r,n):(t.flags=t.flags&-4097|2,vn=!1,fi=t)}}else{if(sy(t))throw Error(Te(418));t.flags=t.flags&-4097|2,vn=!1,fi=t}}}function cS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fi=t}function Gd(t){if(t!==fi)return!1;if(!vn)return cS(t),vn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ty(t.type,t.memoizedProps)),e&&(e=li)){if(sy(t))throw I2(),Error(Te(418));for(;e;)P2(t,e),e=na(e.nextSibling)}if(cS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){li=na(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}li=null}}else li=fi?na(t.stateNode.nextSibling):null;return!0}function I2(){for(var t=li;t;)t=na(t.nextSibling)}function Ic(){li=fi=null,vn=!1}function Ax(t){Gi===null?Gi=[t]:Gi.push(t)}var ZP=yo.ReactCurrentBatchConfig;function wu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,t))}return t}function qd(t,e){throw t=Object.prototype.toString.call(e),Error(Te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uS(t){var e=t._init;return e(t._payload)}function F2(t){function e(y,b){if(t){var C=y.deletions;C===null?(y.deletions=[b],y.flags|=16):C.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=oa(y,b),y.index=0,y.sibling=null,y}function s(y,b,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<b?(y.flags|=2,b):C):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,C,x){return b===null||b.tag!==6?(b=Av(C,y.mode,x),b.return=y,b):(b=i(b,C),b.return=y,b)}function l(y,b,C,x){var S=C.type;return S===Kl?c(y,b,C.props.children,x,C.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lo&&uS(S)===b.type)?(x=i(b,C.props),x.ref=wu(y,b,C),x.return=y,x):(x=qf(C.type,C.key,C.props,null,y.mode,x),x.ref=wu(y,b,C),x.return=y,x)}function u(y,b,C,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=Ev(C,y.mode,x),b.return=y,b):(b=i(b,C.children||[]),b.return=y,b)}function c(y,b,C,x,S){return b===null||b.tag!==7?(b=Za(C,y.mode,x,S),b.return=y,b):(b=i(b,C),b.return=y,b)}function h(y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Av(""+b,y.mode,C),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pd:return C=qf(b.type,b.key,b.props,null,y.mode,C),C.ref=wu(y,null,b),C.return=y,C;case Vl:return b=Ev(b,y.mode,C),b.return=y,b;case Lo:var x=b._init;return h(y,x(b._payload),C)}if(_u(b)||gu(b))return b=Za(b,y.mode,C,null),b.return=y,b;qd(y,b)}return null}function d(y,b,C,x){var S=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return S!==null?null:a(y,b,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Pd:return C.key===S?l(y,b,C,x):null;case Vl:return C.key===S?u(y,b,C,x):null;case Lo:return S=C._init,d(y,b,S(C._payload),x)}if(_u(C)||gu(C))return S!==null?null:c(y,b,C,x,null);qd(y,C)}return null}function f(y,b,C,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(C)||null,a(b,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pd:return y=y.get(x.key===null?C:x.key)||null,l(b,y,x,S);case Vl:return y=y.get(x.key===null?C:x.key)||null,u(b,y,x,S);case Lo:var w=x._init;return f(y,b,C,w(x._payload),S)}if(_u(x)||gu(x))return y=y.get(C)||null,c(b,y,x,S,null);qd(b,x)}return null}function p(y,b,C,x){for(var S=null,w=null,k=b,L=b=0,E=null;k!==null&&L<C.length;L++){k.index>L?(E=k,k=null):E=k.sibling;var N=d(y,k,C[L],x);if(N===null){k===null&&(k=E);break}t&&k&&N.alternate===null&&e(y,k),b=s(N,b,L),w===null?S=N:w.sibling=N,w=N,k=E}if(L===C.length)return n(y,k),vn&&_a(y,L),S;if(k===null){for(;L<C.length;L++)k=h(y,C[L],x),k!==null&&(b=s(k,b,L),w===null?S=k:w.sibling=k,w=k);return vn&&_a(y,L),S}for(k=r(y,k);L<C.length;L++)E=f(k,y,L,C[L],x),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?L:E.key),b=s(E,b,L),w===null?S=E:w.sibling=E,w=E);return t&&k.forEach(function(_){return e(y,_)}),vn&&_a(y,L),S}function m(y,b,C,x){var S=gu(C);if(typeof S!="function")throw Error(Te(150));if(C=S.call(C),C==null)throw Error(Te(151));for(var w=S=null,k=b,L=b=0,E=null,N=C.next();k!==null&&!N.done;L++,N=C.next()){k.index>L?(E=k,k=null):E=k.sibling;var _=d(y,k,N.value,x);if(_===null){k===null&&(k=E);break}t&&k&&_.alternate===null&&e(y,k),b=s(_,b,L),w===null?S=_:w.sibling=_,w=_,k=E}if(N.done)return n(y,k),vn&&_a(y,L),S;if(k===null){for(;!N.done;L++,N=C.next())N=h(y,N.value,x),N!==null&&(b=s(N,b,L),w===null?S=N:w.sibling=N,w=N);return vn&&_a(y,L),S}for(k=r(y,k);!N.done;L++,N=C.next())N=f(k,y,L,N.value,x),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?L:N.key),b=s(N,b,L),w===null?S=N:w.sibling=N,w=N);return t&&k.forEach(function(R){return e(y,R)}),vn&&_a(y,L),S}function g(y,b,C,x){if(typeof C=="object"&&C!==null&&C.type===Kl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Pd:e:{for(var S=C.key,w=b;w!==null;){if(w.key===S){if(S=C.type,S===Kl){if(w.tag===7){n(y,w.sibling),b=i(w,C.props.children),b.return=y,y=b;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lo&&uS(S)===w.type){n(y,w.sibling),b=i(w,C.props),b.ref=wu(y,w,C),b.return=y,y=b;break e}n(y,w);break}else e(y,w);w=w.sibling}C.type===Kl?(b=Za(C.props.children,y.mode,x,C.key),b.return=y,y=b):(x=qf(C.type,C.key,C.props,null,y.mode,x),x.ref=wu(y,b,C),x.return=y,y=x)}return o(y);case Vl:e:{for(w=C.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(y,b.sibling),b=i(b,C.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Ev(C,y.mode,x),b.return=y,y=b}return o(y);case Lo:return w=C._init,g(y,b,w(C._payload),x)}if(_u(C))return p(y,b,C,x);if(gu(C))return m(y,b,C,x);qd(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,C),b.return=y,y=b):(n(y,b),b=Av(C,y.mode,x),b.return=y,y=b),o(y)):n(y,b)}return g}var Fc=F2(!0),B2=F2(!1),Mp=wa(null),Np=null,ec=null,Ex=null;function Tx(){Ex=ec=Np=null}function Mx(t){var e=Mp.current;pn(Mp),t._currentValue=e}function ay(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pc(t,e){Np=t,Ex=ec=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Br=!0),t.firstContext=null)}function Oi(t){var e=t._currentValue;if(Ex!==t)if(t={context:t,memoizedValue:e,next:null},ec===null){if(Np===null)throw Error(Te(308));ec=t,Np.dependencies={lanes:0,firstContext:t}}else ec=ec.next=t;return e}var za=null;function Nx(t){za===null?za=[t]:za.push(t)}function z2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Nx(e)):(n.next=i.next,i.next=n),e.interleaved=n,co(t,r)}function co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $o=!1;function Rx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ra(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,co(t,n)}return i=r.interleaved,i===null?(e.next=e,Nx(r)):(e.next=i.next,i.next=e),r.interleaved=e,co(t,n)}function Hf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mx(t,n)}}function hS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rp(t,e,n,r){var i=t.updateQueue;$o=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Cn({},h,d);break e;case 2:$o=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);al|=o,t.lanes=o,t.memoizedState=h}}function dS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Te(191,i));i.call(r)}}}var ud={},Os=wa(ud),Sh=wa(ud),Ch=wa(ud);function Ha(t){if(t===ud)throw Error(Te(174));return t}function Lx(t,e){switch(an(Ch,e),an(Sh,t),an(Os,ud),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:z0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=z0(e,t)}pn(Os),an(Os,e)}function Bc(){pn(Os),pn(Sh),pn(Ch)}function W2(t){Ha(Ch.current);var e=Ha(Os.current),n=z0(e,t.type);e!==n&&(an(Sh,t),an(Os,n))}function $x(t){Sh.current===t&&(pn(Os),pn(Sh))}var wn=wa(0);function Lp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bv=[];function Ox(){for(var t=0;t<bv.length;t++)bv[t]._workInProgressVersionPrimary=null;bv.length=0}var Wf=yo.ReactCurrentDispatcher,xv=yo.ReactCurrentBatchConfig,ol=0,Sn=null,zn=null,Yn=null,$p=!1,Zu=!1,kh=0,eI=0;function dr(){throw Error(Te(321))}function _x(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!es(t[n],e[n]))return!1;return!0}function jx(t,e,n,r,i,s){if(ol=s,Sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wf.current=t===null||t.memoizedState===null?iI:sI,t=n(r,i),Zu){s=0;do{if(Zu=!1,kh=0,25<=s)throw Error(Te(301));s+=1,Yn=zn=null,e.updateQueue=null,Wf.current=oI,t=n(r,i)}while(Zu)}if(Wf.current=Op,e=zn!==null&&zn.next!==null,ol=0,Yn=zn=Sn=null,$p=!1,e)throw Error(Te(300));return t}function Dx(){var t=kh!==0;return kh=0,t}function vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?Sn.memoizedState=Yn=t:Yn=Yn.next=t,Yn}function _i(){if(zn===null){var t=Sn.alternate;t=t!==null?t.memoizedState:null}else t=zn.next;var e=Yn===null?Sn.memoizedState:Yn.next;if(e!==null)Yn=e,zn=t;else{if(t===null)throw Error(Te(310));zn=t,t={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Yn===null?Sn.memoizedState=Yn=t:Yn=Yn.next=t}return Yn}function Ah(t,e){return typeof e=="function"?e(t):e}function wv(t){var e=_i(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=zn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ol&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Sn.lanes|=c,al|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,es(r,e.memoizedState)||(Br=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Sn.lanes|=s,al|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sv(t){var e=_i(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);es(s,e.memoizedState)||(Br=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function U2(){}function V2(t,e){var n=Sn,r=_i(),i=e(),s=!es(r.memoizedState,i);if(s&&(r.memoizedState=i,Br=!0),r=r.queue,Px(q2.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Yn!==null&&Yn.memoizedState.tag&1){if(n.flags|=2048,Eh(9,G2.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(Te(349));ol&30||K2(n,e,i)}return i}function K2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G2(t,e,n,r){e.value=n,e.getSnapshot=r,Y2(e)&&Q2(t)}function q2(t,e,n){return n(function(){Y2(e)&&Q2(t)})}function Y2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!es(t,n)}catch{return!0}}function Q2(t){var e=co(t,1);e!==null&&Ji(e,t,1,-1)}function fS(t){var e=vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},e.queue=t,t=t.dispatch=rI.bind(null,Sn,t),[e.memoizedState,t]}function Eh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function J2(){return _i().memoizedState}function Uf(t,e,n,r){var i=vs();Sn.flags|=t,i.memoizedState=Eh(1|e,n,void 0,r===void 0?null:r)}function Wm(t,e,n,r){var i=_i();r=r===void 0?null:r;var s=void 0;if(zn!==null){var o=zn.memoizedState;if(s=o.destroy,r!==null&&_x(r,o.deps)){i.memoizedState=Eh(e,n,s,r);return}}Sn.flags|=t,i.memoizedState=Eh(1|e,n,s,r)}function pS(t,e){return Uf(8390656,8,t,e)}function Px(t,e){return Wm(2048,8,t,e)}function X2(t,e){return Wm(4,2,t,e)}function Z2(t,e){return Wm(4,4,t,e)}function eT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tT(t,e,n){return n=n!=null?n.concat([t]):null,Wm(4,4,eT.bind(null,e,t),n)}function Ix(){}function nT(t,e){var n=_i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_x(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rT(t,e){var n=_i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_x(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iT(t,e,n){return ol&21?(es(n,e)||(n=c2(),Sn.lanes|=n,al|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=n)}function tI(t,e){var n=Zt;Zt=n!==0&&4>n?n:4,t(!0);var r=xv.transition;xv.transition={};try{t(!1),e()}finally{Zt=n,xv.transition=r}}function sT(){return _i().memoizedState}function nI(t,e,n){var r=sa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oT(t))aT(e,n);else if(n=z2(t,e,n,r),n!==null){var i=Nr();Ji(n,t,r,i),lT(n,e,r)}}function rI(t,e,n){var r=sa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oT(t))aT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,es(a,o)){var l=e.interleaved;l===null?(i.next=i,Nx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=z2(t,e,i,r),n!==null&&(i=Nr(),Ji(n,t,r,i),lT(n,e,r))}}function oT(t){var e=t.alternate;return t===Sn||e!==null&&e===Sn}function aT(t,e){Zu=$p=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mx(t,n)}}var Op={readContext:Oi,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},iI={readContext:Oi,useCallback:function(t,e){return vs().memoizedState=[t,e===void 0?null:e],t},useContext:Oi,useEffect:pS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4194308,4,eT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uf(4,2,t,e)},useMemo:function(t,e){var n=vs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nI.bind(null,Sn,t),[r.memoizedState,t]},useRef:function(t){var e=vs();return t={current:t},e.memoizedState=t},useState:fS,useDebugValue:Ix,useDeferredValue:function(t){return vs().memoizedState=t},useTransition:function(){var t=fS(!1),e=t[0];return t=tI.bind(null,t[1]),vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Sn,i=vs();if(vn){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=e(),Xn===null)throw Error(Te(349));ol&30||K2(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,pS(q2.bind(null,r,s,t),[t]),r.flags|=2048,Eh(9,G2.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vs(),e=Xn.identifierPrefix;if(vn){var n=io,r=ro;n=(r&~(1<<32-Qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sI={readContext:Oi,useCallback:nT,useContext:Oi,useEffect:Px,useImperativeHandle:tT,useInsertionEffect:X2,useLayoutEffect:Z2,useMemo:rT,useReducer:wv,useRef:J2,useState:function(){return wv(Ah)},useDebugValue:Ix,useDeferredValue:function(t){var e=_i();return iT(e,zn.memoizedState,t)},useTransition:function(){var t=wv(Ah)[0],e=_i().memoizedState;return[t,e]},useMutableSource:U2,useSyncExternalStore:V2,useId:sT,unstable_isNewReconciler:!1},oI={readContext:Oi,useCallback:nT,useContext:Oi,useEffect:Px,useImperativeHandle:tT,useInsertionEffect:X2,useLayoutEffect:Z2,useMemo:rT,useReducer:Sv,useRef:J2,useState:function(){return Sv(Ah)},useDebugValue:Ix,useDeferredValue:function(t){var e=_i();return zn===null?e.memoizedState=t:iT(e,zn.memoizedState,t)},useTransition:function(){var t=Sv(Ah)[0],e=_i().memoizedState;return[t,e]},useMutableSource:U2,useSyncExternalStore:V2,useId:sT,unstable_isNewReconciler:!1};function zi(t,e){if(t&&t.defaultProps){e=Cn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ly(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Um={isMounted:function(t){return(t=t._reactInternals)?kl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=sa(t),s=so(r,i);s.payload=e,n!=null&&(s.callback=n),e=ra(t,s,i),e!==null&&(Ji(e,t,i,r),Hf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=sa(t),s=so(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ra(t,s,i),e!==null&&(Ji(e,t,i,r),Hf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nr(),r=sa(t),i=so(n,r);i.tag=2,e!=null&&(i.callback=e),e=ra(t,i,r),e!==null&&(Ji(e,t,r,n),Hf(e,t,r))}};function mS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yh(n,r)||!yh(i,s):!0}function cT(t,e,n){var r=!1,i=ha,s=e.contextType;return typeof s=="object"&&s!==null?s=Oi(s):(i=Gr(e)?il:br.current,r=e.contextTypes,s=(r=r!=null)?Pc(t,i):ha),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Um,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Um.enqueueReplaceState(e,e.state,null)}function cy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Oi(s):(s=Gr(e)?il:br.current,i.context=Pc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ly(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Um.enqueueReplaceState(i,i.state,null),Rp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zc(t,e){try{var n="",r=e;do n+=_D(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aI=typeof WeakMap=="function"?WeakMap:Map;function uT(t,e,n){n=so(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jp||(jp=!0,xy=r),uy(t,e)},n}function hT(t,e,n){n=so(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){uy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){uy(t,e),typeof r!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wI.bind(null,t,e,n),e.then(t,t))}function yS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=so(-1,1),e.tag=2,ra(n,e,1))),n.lanes|=1),t)}var lI=yo.ReactCurrentOwner,Br=!1;function Ar(t,e,n,r){e.child=t===null?B2(e,null,n,r):Fc(e,t.child,n,r)}function xS(t,e,n,r,i){n=n.render;var s=e.ref;return pc(e,i),r=jx(t,e,n,r,s,i),n=Dx(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uo(t,e,i)):(vn&&n&&Cx(e),e.flags|=1,Ar(t,e,r,i),e.child)}function wS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Kx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dT(t,e,s,r,i)):(t=qf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yh,n(o,r)&&t.ref===e.ref)return uo(t,e,i)}return e.flags|=1,t=oa(s,r),t.ref=e.ref,t.return=e,e.child=t}function dT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yh(s,r)&&t.ref===e.ref)if(Br=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,uo(t,e,i)}return hy(t,e,n,r,i)}function fT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(nc,ii),ii|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,an(nc,ii),ii|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,an(nc,ii),ii|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,an(nc,ii),ii|=r;return Ar(t,e,i,n),e.child}function pT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hy(t,e,n,r,i){var s=Gr(n)?il:br.current;return s=Pc(e,s),pc(e,i),n=jx(t,e,n,r,s,i),r=Dx(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uo(t,e,i)):(vn&&r&&Cx(e),e.flags|=1,Ar(t,e,n,i),e.child)}function SS(t,e,n,r,i){if(Gr(n)){var s=!0;Ap(e)}else s=!1;if(pc(e,i),e.stateNode===null)Vf(t,e),cT(e,n,r),cy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Oi(u):(u=Gr(n)?il:br.current,u=Pc(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&gS(e,o,r,u),$o=!1;var d=e.memoizedState;o.state=d,Rp(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Kr.current||$o?(typeof c=="function"&&(ly(e,n,c,r),l=e.memoizedState),(a=$o||mS(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,H2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zi(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Oi(l):(l=Gr(n)?il:br.current,l=Pc(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&gS(e,o,r,l),$o=!1,d=e.memoizedState,o.state=d,Rp(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Kr.current||$o?(typeof f=="function"&&(ly(e,n,f,r),p=e.memoizedState),(u=$o||mS(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return dy(t,e,n,r,s,i)}function dy(t,e,n,r,i,s){pT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&aS(e,n,!1),uo(t,e,s);r=e.stateNode,lI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fc(e,t.child,null,s),e.child=Fc(e,null,a,s)):Ar(t,e,a,s),e.memoizedState=r.state,i&&aS(e,n,!0),e.child}function mT(t){var e=t.stateNode;e.pendingContext?oS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oS(t,e.context,!1),Lx(t,e.containerInfo)}function CS(t,e,n,r,i){return Ic(),Ax(i),e.flags|=256,Ar(t,e,n,r),e.child}var fy={dehydrated:null,treeContext:null,retryLane:0};function py(t){return{baseLanes:t,cachePool:null,transitions:null}}function gT(t,e,n){var r=e.pendingProps,i=wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),an(wn,i&1),t===null)return oy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gm(o,r,0,null),t=Za(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=py(n),e.memoizedState=fy,t):Fx(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oa(a,s):(s=Za(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?py(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fy,r}return s=t.child,t=s.sibling,r=oa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fx(t,e){return e=Gm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yd(t,e,n,r){return r!==null&&Ax(r),Fc(e,t.child,null,n),t=Fx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cv(Error(Te(422))),Yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gm({mode:"visible",children:r.children},i,0,null),s=Za(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fc(e,t.child,null,o),e.child.memoizedState=py(o),e.memoizedState=fy,s);if(!(e.mode&1))return Yd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Te(419)),r=Cv(s,r,void 0),Yd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Br||a){if(r=Xn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,co(t,i),Ji(r,t,i,-1))}return Vx(),r=Cv(Error(Te(421))),Yd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,li=na(i.nextSibling),fi=e,vn=!0,Gi=null,t!==null&&(Si[Ci++]=ro,Si[Ci++]=io,Si[Ci++]=sl,ro=t.id,io=t.overflow,sl=e),e=Fx(e,r.children),e.flags|=4096,e)}function kS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ay(t.return,e,n)}function kv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ar(t,e,r.children,n),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kS(t,n,e);else if(t.tag===19)kS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(an(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kv(e,!0,n,null,s);break;case"together":kv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),al|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Te(153));if(e.child!==null){for(t=e.child,n=oa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uI(t,e,n){switch(e.tag){case 3:mT(e),Ic();break;case 5:W2(e);break;case 1:Gr(e.type)&&Ap(e);break;case 4:Lx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;an(Mp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(an(wn,wn.current&1),e.flags|=128,null):n&e.child.childLanes?gT(t,e,n):(an(wn,wn.current&1),t=uo(t,e,n),t!==null?t.sibling:null);an(wn,wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,fT(t,e,n)}return uo(t,e,n)}var yT,my,bT,xT;yT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};my=function(){};bT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(Os.current);var s=null;switch(n){case"input":i=P0(t,i),r=P0(t,r),s=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),s=[];break;case"textarea":i=B0(t,i),r=B0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cp)}H0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Su(t,e){if(!vn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hI(t,e,n){var r=e.pendingProps;switch(kx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Gr(e.type)&&kp(),fr(e),null;case 3:return r=e.stateNode,Bc(),pn(Kr),pn(br),Ox(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gi!==null&&(Cy(Gi),Gi=null))),my(t,e),fr(e),null;case 5:$x(e);var i=Ha(Ch.current);if(n=e.type,t!==null&&e.stateNode!=null)bT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Te(166));return fr(e),null}if(t=Ha(Os.current),Gd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cs]=e,r[wh]=s,t=(e.mode&1)!==0,n){case"dialog":dn("cancel",r),dn("close",r);break;case"iframe":case"object":case"embed":dn("load",r);break;case"video":case"audio":for(i=0;i<Du.length;i++)dn(Du[i],r);break;case"source":dn("error",r);break;case"img":case"image":case"link":dn("error",r),dn("load",r);break;case"details":dn("toggle",r);break;case"input":O1(r,s),dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dn("invalid",r);break;case"textarea":j1(r,s),dn("invalid",r)}H0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kd(r.textContent,a,t),i=["children",""+a]):hh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dn("scroll",r)}switch(n){case"input":Id(r),_1(r,s,!0);break;case"textarea":Id(r),D1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cs]=e,t[wh]=r,yT(t,e,!1,!1),e.stateNode=t;e:{switch(o=W0(n,r),n){case"dialog":dn("cancel",t),dn("close",t),i=r;break;case"iframe":case"object":case"embed":dn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Du.length;i++)dn(Du[i],t);i=r;break;case"source":dn("error",t),i=r;break;case"img":case"image":case"link":dn("error",t),dn("load",t),i=r;break;case"details":dn("toggle",t),i=r;break;case"input":O1(t,r),i=P0(t,r),dn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),dn("invalid",t);break;case"textarea":j1(t,r),i=B0(t,r),dn("invalid",t);break;default:i=r}H0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?JE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dh(t,l):typeof l=="number"&&dh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dn("scroll",t):l!=null&&cx(t,s,l,o))}switch(n){case"input":Id(t),_1(t,r,!1);break;case"textarea":Id(t),D1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ua(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?uc(t,!!r.multiple,s,!1):r.defaultValue!=null&&uc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)xT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Te(166));if(n=Ha(Ch.current),Ha(Os.current),Gd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cs]=e,(s=r.nodeValue!==n)&&(t=fi,t!==null))switch(t.tag){case 3:Kd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cs]=e,e.stateNode=r}return fr(e),null;case 13:if(pn(wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vn&&li!==null&&e.mode&1&&!(e.flags&128))I2(),Ic(),e.flags|=98560,s=!1;else if(s=Gd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Te(317));s[Cs]=e}else Ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),s=!1}else Gi!==null&&(Cy(Gi),Gi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wn.current&1?Un===0&&(Un=3):Vx())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return Bc(),my(t,e),t===null&&bh(e.stateNode.containerInfo),fr(e),null;case 10:return Mx(e.type._context),fr(e),null;case 17:return Gr(e.type)&&kp(),fr(e),null;case 19:if(pn(wn),s=e.memoizedState,s===null)return fr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Su(s,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lp(t),o!==null){for(e.flags|=128,Su(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return an(wn,wn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ln()>Hc&&(e.flags|=128,r=!0,Su(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Su(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!vn)return fr(e),null}else 2*Ln()-s.renderingStartTime>Hc&&n!==1073741824&&(e.flags|=128,r=!0,Su(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ln(),e.sibling=null,n=wn.current,an(wn,r?n&1|2:n&1),e):(fr(e),null);case 22:case 23:return Ux(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ii&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function dI(t,e){switch(kx(e),e.tag){case 1:return Gr(e.type)&&kp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bc(),pn(Kr),pn(br),Ox(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $x(e),null;case 13:if(pn(wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));Ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pn(wn),null;case 4:return Bc(),null;case 10:return Mx(e.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var Qd=!1,gr=!1,fI=typeof WeakSet=="function"?WeakSet:Set,Be=null;function tc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){En(t,e,r)}else n.current=null}function gy(t,e,n){try{n()}catch(r){En(t,e,r)}}var AS=!1;function pI(t,e){if(Z0=xp,t=A2(),Sx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ey={focusedElem:t,selectionRange:n},xp=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:zi(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(x){En(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return p=AS,AS=!1,p}function eh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gy(e,n,s)}i=i.next}while(i!==r)}}function Vm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wT(t){var e=t.alternate;e!==null&&(t.alternate=null,wT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cs],delete e[wh],delete e[ry],delete e[QP],delete e[JP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ST(t){return t.tag===5||t.tag===3||t.tag===4}function ES(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ST(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cp));else if(r!==4&&(t=t.child,t!==null))for(yy(t,e,n),t=t.sibling;t!==null;)yy(t,e,n),t=t.sibling}function by(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(by(t,e,n),t=t.sibling;t!==null;)by(t,e,n),t=t.sibling}var er=null,Ki=!1;function ko(t,e,n){for(n=n.child;n!==null;)CT(t,e,n),n=n.sibling}function CT(t,e,n){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(Pm,n)}catch{}switch(n.tag){case 5:gr||tc(n,e);case 6:var r=er,i=Ki;er=null,ko(t,e,n),er=r,Ki=i,er!==null&&(Ki?(t=er,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):er.removeChild(n.stateNode));break;case 18:er!==null&&(Ki?(t=er,n=n.stateNode,t.nodeType===8?vv(t.parentNode,n):t.nodeType===1&&vv(t,n),gh(t)):vv(er,n.stateNode));break;case 4:r=er,i=Ki,er=n.stateNode.containerInfo,Ki=!0,ko(t,e,n),er=r,Ki=i;break;case 0:case 11:case 14:case 15:if(!gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gy(n,e,o),i=i.next}while(i!==r)}ko(t,e,n);break;case 1:if(!gr&&(tc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){En(n,e,a)}ko(t,e,n);break;case 21:ko(t,e,n);break;case 22:n.mode&1?(gr=(r=gr)||n.memoizedState!==null,ko(t,e,n),gr=r):ko(t,e,n);break;default:ko(t,e,n)}}function TS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fI),e.forEach(function(r){var i=CI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:er=a.stateNode,Ki=!1;break e;case 3:er=a.stateNode.containerInfo,Ki=!0;break e;case 4:er=a.stateNode.containerInfo,Ki=!0;break e}a=a.return}if(er===null)throw Error(Te(160));CT(s,o,i),er=null,Ki=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){En(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kT(e,t),e=e.sibling}function kT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),ds(t),r&4){try{eh(3,t,t.return),Vm(3,t)}catch(m){En(t,t.return,m)}try{eh(5,t,t.return)}catch(m){En(t,t.return,m)}}break;case 1:Ii(e,t),ds(t),r&512&&n!==null&&tc(n,n.return);break;case 5:if(Ii(e,t),ds(t),r&512&&n!==null&&tc(n,n.return),t.flags&32){var i=t.stateNode;try{dh(i,"")}catch(m){En(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&KE(i,s),W0(a,o);var u=W0(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?JE(i,h):c==="dangerouslySetInnerHTML"?YE(i,h):c==="children"?dh(i,h):cx(i,c,h,u)}switch(a){case"input":I0(i,s);break;case"textarea":GE(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?uc(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?uc(i,!!s.multiple,s.defaultValue,!0):uc(i,!!s.multiple,s.multiple?[]:"",!1))}i[wh]=s}catch(m){En(t,t.return,m)}}break;case 6:if(Ii(e,t),ds(t),r&4){if(t.stateNode===null)throw Error(Te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){En(t,t.return,m)}}break;case 3:if(Ii(e,t),ds(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gh(e.containerInfo)}catch(m){En(t,t.return,m)}break;case 4:Ii(e,t),ds(t);break;case 13:Ii(e,t),ds(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hx=Ln())),r&4&&TS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gr=(u=gr)||c,Ii(e,t),gr=u):Ii(e,t),ds(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Be=t,c=t.child;c!==null;){for(h=Be=c;Be!==null;){switch(d=Be,f=d.child,d.tag){case 0:case 11:case 14:case 15:eh(4,d,d.return);break;case 1:tc(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){En(r,n,m)}}break;case 5:tc(d,d.return);break;case 22:if(d.memoizedState!==null){NS(h);continue}}f!==null?(f.return=d,Be=f):NS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QE("display",o))}catch(m){En(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){En(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ii(e,t),ds(t),r&4&&TS(t);break;case 21:break;default:Ii(e,t),ds(t)}}function ds(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ST(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dh(i,""),r.flags&=-33);var s=ES(t);by(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ES(t);yy(t,a,o);break;default:throw Error(Te(161))}}catch(l){En(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mI(t,e,n){Be=t,AT(t)}function AT(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Qd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gr;a=Qd;var u=gr;if(Qd=o,(gr=l)&&!u)for(Be=i;Be!==null;)o=Be,l=o.child,o.tag===22&&o.memoizedState!==null?RS(i):l!==null?(l.return=o,Be=l):RS(i);for(;s!==null;)Be=s,AT(s),s=s.sibling;Be=i,Qd=a,gr=u}MS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):MS(t)}}function MS(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||Vm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&gh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}gr||e.flags&512&&vy(e)}catch(d){En(e,e.return,d)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function NS(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function RS(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vm(4,e)}catch(l){En(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){En(e,i,l)}}var s=e.return;try{vy(e)}catch(l){En(e,s,l)}break;case 5:var o=e.return;try{vy(e)}catch(l){En(e,o,l)}}}catch(l){En(e,e.return,l)}if(e===t){Be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Be=a;break}Be=e.return}}var gI=Math.ceil,_p=yo.ReactCurrentDispatcher,Bx=yo.ReactCurrentOwner,Ri=yo.ReactCurrentBatchConfig,Wt=0,Xn=null,jn=null,sr=0,ii=0,nc=wa(0),Un=0,Th=null,al=0,Km=0,zx=0,th=null,jr=null,Hx=0,Hc=1/0,Js=null,jp=!1,xy=null,ia=null,Jd=!1,Go=null,Dp=0,nh=0,wy=null,Kf=-1,Gf=0;function Nr(){return Wt&6?Ln():Kf!==-1?Kf:Kf=Ln()}function sa(t){return t.mode&1?Wt&2&&sr!==0?sr&-sr:ZP.transition!==null?(Gf===0&&(Gf=c2()),Gf):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:g2(t.type)),t):1}function Ji(t,e,n,r){if(50<nh)throw nh=0,wy=null,Error(Te(185));ad(t,n,r),(!(Wt&2)||t!==Xn)&&(t===Xn&&(!(Wt&2)&&(Km|=n),Un===4&&Do(t,sr)),qr(t,r),n===1&&Wt===0&&!(e.mode&1)&&(Hc=Ln()+500,Hm&&Sa()))}function qr(t,e){var n=t.callbackNode;ZD(t,e);var r=bp(t,t===Xn?sr:0);if(r===0)n!==null&&F1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F1(n),e===1)t.tag===0?XP(LS.bind(null,t)):j2(LS.bind(null,t)),qP(function(){!(Wt&6)&&Sa()}),n=null;else{switch(u2(r)){case 1:n=px;break;case 4:n=a2;break;case 16:n=yp;break;case 536870912:n=l2;break;default:n=yp}n=OT(n,ET.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ET(t,e){if(Kf=-1,Gf=0,Wt&6)throw Error(Te(327));var n=t.callbackNode;if(mc()&&t.callbackNode!==n)return null;var r=bp(t,t===Xn?sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pp(t,r);else{e=r;var i=Wt;Wt|=2;var s=MT();(Xn!==t||sr!==e)&&(Js=null,Hc=Ln()+500,Xa(t,e));do try{bI();break}catch(a){TT(t,a)}while(!0);Tx(),_p.current=s,Wt=i,jn!==null?e=0:(Xn=null,sr=0,e=Un)}if(e!==0){if(e===2&&(i=q0(t),i!==0&&(r=i,e=Sy(t,i))),e===1)throw n=Th,Xa(t,0),Do(t,r),qr(t,Ln()),n;if(e===6)Do(t,r);else{if(i=t.current.alternate,!(r&30)&&!vI(i)&&(e=Pp(t,r),e===2&&(s=q0(t),s!==0&&(r=s,e=Sy(t,s))),e===1))throw n=Th,Xa(t,0),Do(t,r),qr(t,Ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Te(345));case 2:ja(t,jr,Js);break;case 3:if(Do(t,r),(r&130023424)===r&&(e=Hx+500-Ln(),10<e)){if(bp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ny(ja.bind(null,t,jr,Js),e);break}ja(t,jr,Js);break;case 4:if(Do(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gI(r/1960))-r,10<r){t.timeoutHandle=ny(ja.bind(null,t,jr,Js),r);break}ja(t,jr,Js);break;case 5:ja(t,jr,Js);break;default:throw Error(Te(329))}}}return qr(t,Ln()),t.callbackNode===n?ET.bind(null,t):null}function Sy(t,e){var n=th;return t.current.memoizedState.isDehydrated&&(Xa(t,e).flags|=256),t=Pp(t,e),t!==2&&(e=jr,jr=n,e!==null&&Cy(e)),t}function Cy(t){jr===null?jr=t:jr.push.apply(jr,t)}function vI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!es(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e){for(e&=~zx,e&=~Km,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qi(e),r=1<<n;t[n]=-1,e&=~r}}function LS(t){if(Wt&6)throw Error(Te(327));mc();var e=bp(t,0);if(!(e&1))return qr(t,Ln()),null;var n=Pp(t,e);if(t.tag!==0&&n===2){var r=q0(t);r!==0&&(e=r,n=Sy(t,r))}if(n===1)throw n=Th,Xa(t,0),Do(t,e),qr(t,Ln()),n;if(n===6)throw Error(Te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ja(t,jr,Js),qr(t,Ln()),null}function Wx(t,e){var n=Wt;Wt|=1;try{return t(e)}finally{Wt=n,Wt===0&&(Hc=Ln()+500,Hm&&Sa())}}function ll(t){Go!==null&&Go.tag===0&&!(Wt&6)&&mc();var e=Wt;Wt|=1;var n=Ri.transition,r=Zt;try{if(Ri.transition=null,Zt=1,t)return t()}finally{Zt=r,Ri.transition=n,Wt=e,!(Wt&6)&&Sa()}}function Ux(){ii=nc.current,pn(nc)}function Xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GP(n)),jn!==null)for(n=jn.return;n!==null;){var r=n;switch(kx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kp();break;case 3:Bc(),pn(Kr),pn(br),Ox();break;case 5:$x(r);break;case 4:Bc();break;case 13:pn(wn);break;case 19:pn(wn);break;case 10:Mx(r.type._context);break;case 22:case 23:Ux()}n=n.return}if(Xn=t,jn=t=oa(t.current,null),sr=ii=e,Un=0,Th=null,zx=Km=al=0,jr=th=null,za!==null){for(e=0;e<za.length;e++)if(n=za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}za=null}return t}function TT(t,e){do{var n=jn;try{if(Tx(),Wf.current=Op,$p){for(var r=Sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$p=!1}if(ol=0,Yn=zn=Sn=null,Zu=!1,kh=0,Bx.current=null,n===null||n.return===null){Un=1,Th=e,jn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=yS(o);if(f!==null){f.flags&=-257,bS(f,o,a,s,e),f.mode&1&&vS(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){vS(s,u,e),Vx();break e}l=Error(Te(426))}}else if(vn&&a.mode&1){var g=yS(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),bS(g,o,a,s,e),Ax(zc(l,a));break e}}s=l=zc(l,a),Un!==4&&(Un=2),th===null?th=[s]:th.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=uT(s,l,e);hS(s,y);break e;case 1:a=l;var b=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ia===null||!ia.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=hT(s,a,e);hS(s,x);break e}}s=s.return}while(s!==null)}RT(n)}catch(S){e=S,jn===n&&n!==null&&(jn=n=n.return);continue}break}while(!0)}function MT(){var t=_p.current;return _p.current=Op,t===null?Op:t}function Vx(){(Un===0||Un===3||Un===2)&&(Un=4),Xn===null||!(al&268435455)&&!(Km&268435455)||Do(Xn,sr)}function Pp(t,e){var n=Wt;Wt|=2;var r=MT();(Xn!==t||sr!==e)&&(Js=null,Xa(t,e));do try{yI();break}catch(i){TT(t,i)}while(!0);if(Tx(),Wt=n,_p.current=r,jn!==null)throw Error(Te(261));return Xn=null,sr=0,Un}function yI(){for(;jn!==null;)NT(jn)}function bI(){for(;jn!==null&&!UD();)NT(jn)}function NT(t){var e=$T(t.alternate,t,ii);t.memoizedProps=t.pendingProps,e===null?RT(t):jn=e,Bx.current=null}function RT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dI(n,e),n!==null){n.flags&=32767,jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,jn=null;return}}else if(n=hI(n,e,ii),n!==null){jn=n;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=t}while(e!==null);Un===0&&(Un=5)}function ja(t,e,n){var r=Zt,i=Ri.transition;try{Ri.transition=null,Zt=1,xI(t,e,n,r)}finally{Ri.transition=i,Zt=r}return null}function xI(t,e,n,r){do mc();while(Go!==null);if(Wt&6)throw Error(Te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eP(t,s),t===Xn&&(jn=Xn=null,sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jd||(Jd=!0,OT(yp,function(){return mc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ri.transition,Ri.transition=null;var o=Zt;Zt=1;var a=Wt;Wt|=4,Bx.current=null,pI(t,n),kT(n,t),BP(ey),xp=!!Z0,ey=Z0=null,t.current=n,mI(n),VD(),Wt=a,Zt=o,Ri.transition=s}else t.current=n;if(Jd&&(Jd=!1,Go=t,Dp=i),s=t.pendingLanes,s===0&&(ia=null),qD(n.stateNode),qr(t,Ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jp)throw jp=!1,t=xy,xy=null,t;return Dp&1&&t.tag!==0&&mc(),s=t.pendingLanes,s&1?t===wy?nh++:(nh=0,wy=t):nh=0,Sa(),null}function mc(){if(Go!==null){var t=u2(Dp),e=Ri.transition,n=Zt;try{if(Ri.transition=null,Zt=16>t?16:t,Go===null)var r=!1;else{if(t=Go,Go=null,Dp=0,Wt&6)throw Error(Te(331));var i=Wt;for(Wt|=4,Be=t.current;Be!==null;){var s=Be,o=s.child;if(Be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Be=u;Be!==null;){var c=Be;switch(c.tag){case 0:case 11:case 15:eh(8,c,s)}var h=c.child;if(h!==null)h.return=c,Be=h;else for(;Be!==null;){c=Be;var d=c.sibling,f=c.return;if(wT(c),c===u){Be=null;break}if(d!==null){d.return=f,Be=d;break}Be=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Be=o;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:eh(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Be=y;break e}Be=s.return}}var b=t.current;for(Be=b;Be!==null;){o=Be;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Be=C;else e:for(o=b;Be!==null;){if(a=Be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vm(9,a)}}catch(S){En(a,a.return,S)}if(a===o){Be=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Be=x;break e}Be=a.return}}if(Wt=i,Sa(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(Pm,t)}catch{}r=!0}return r}finally{Zt=n,Ri.transition=e}}return!1}function $S(t,e,n){e=zc(n,e),e=uT(t,e,1),t=ra(t,e,1),e=Nr(),t!==null&&(ad(t,1,e),qr(t,e))}function En(t,e,n){if(t.tag===3)$S(t,t,n);else for(;e!==null;){if(e.tag===3){$S(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){t=zc(n,t),t=hT(e,t,1),e=ra(e,t,1),t=Nr(),e!==null&&(ad(e,1,t),qr(e,t));break}}e=e.return}}function wI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nr(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(sr&n)===n&&(Un===4||Un===3&&(sr&130023424)===sr&&500>Ln()-Hx?Xa(t,0):zx|=n),qr(t,e)}function LT(t,e){e===0&&(t.mode&1?(e=zd,zd<<=1,!(zd&130023424)&&(zd=4194304)):e=1);var n=Nr();t=co(t,e),t!==null&&(ad(t,e,n),qr(t,n))}function SI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LT(t,n)}function CI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(e),LT(t,n)}var $T;$T=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kr.current)Br=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Br=!1,uI(t,e,n);Br=!!(t.flags&131072)}else Br=!1,vn&&e.flags&1048576&&D2(e,Tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vf(t,e),t=e.pendingProps;var i=Pc(e,br.current);pc(e,n),i=jx(null,e,r,t,i,n);var s=Dx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(r)?(s=!0,Ap(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rx(e),i.updater=Um,e.stateNode=i,i._reactInternals=e,cy(e,r,t,n),e=dy(null,e,r,!0,s,n)):(e.tag=0,vn&&s&&Cx(e),Ar(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AI(r),t=zi(r,t),i){case 0:e=hy(null,e,r,t,n);break e;case 1:e=SS(null,e,r,t,n);break e;case 11:e=xS(null,e,r,t,n);break e;case 14:e=wS(null,e,r,zi(r.type,t),n);break e}throw Error(Te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),hy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),SS(t,e,r,i,n);case 3:e:{if(mT(e),t===null)throw Error(Te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,H2(t,e),Rp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zc(Error(Te(423)),e),e=CS(t,e,r,n,i);break e}else if(r!==i){i=zc(Error(Te(424)),e),e=CS(t,e,r,n,i);break e}else for(li=na(e.stateNode.containerInfo.firstChild),fi=e,vn=!0,Gi=null,n=B2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ic(),r===i){e=uo(t,e,n);break e}Ar(t,e,r,n)}e=e.child}return e;case 5:return W2(e),t===null&&oy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ty(r,i)?o=null:s!==null&&ty(r,s)&&(e.flags|=32),pT(t,e),Ar(t,e,o,n),e.child;case 6:return t===null&&oy(e),null;case 13:return gT(t,e,n);case 4:return Lx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fc(e,null,r,n):Ar(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),xS(t,e,r,i,n);case 7:return Ar(t,e,e.pendingProps,n),e.child;case 8:return Ar(t,e,e.pendingProps.children,n),e.child;case 12:return Ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,an(Mp,r._currentValue),r._currentValue=o,s!==null)if(es(s.value,o)){if(s.children===i.children&&!Kr.current){e=uo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=so(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ay(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ay(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ar(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pc(e,n),i=Oi(i),r=r(i),e.flags|=1,Ar(t,e,r,n),e.child;case 14:return r=e.type,i=zi(r,e.pendingProps),i=zi(r.type,i),wS(t,e,r,i,n);case 15:return dT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zi(r,i),Vf(t,e),e.tag=1,Gr(r)?(t=!0,Ap(e)):t=!1,pc(e,n),cT(e,r,i),cy(e,r,i,n),dy(null,e,r,!0,t,n);case 19:return vT(t,e,n);case 22:return fT(t,e,n)}throw Error(Te(156,e.tag))};function OT(t,e){return o2(t,e)}function kI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,n,r){return new kI(t,e,n,r)}function Kx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AI(t){if(typeof t=="function")return Kx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hx)return 11;if(t===dx)return 14}return 2}function oa(t,e){var n=t.alternate;return n===null?(n=Ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Kx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Kl:return Za(n.children,i,s,e);case ux:o=8,i|=8;break;case O0:return t=Ti(12,n,e,i|2),t.elementType=O0,t.lanes=s,t;case _0:return t=Ti(13,n,e,i),t.elementType=_0,t.lanes=s,t;case j0:return t=Ti(19,n,e,i),t.elementType=j0,t.lanes=s,t;case WE:return Gm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zE:o=10;break e;case HE:o=9;break e;case hx:o=11;break e;case dx:o=14;break e;case Lo:o=16,r=null;break e}throw Error(Te(130,t==null?t:typeof t,""))}return e=Ti(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Za(t,e,n,r){return t=Ti(7,t,r,e),t.lanes=n,t}function Gm(t,e,n,r){return t=Ti(22,t,r,e),t.elementType=WE,t.lanes=n,t.stateNode={isHidden:!1},t}function Av(t,e,n){return t=Ti(6,t,null,e),t.lanes=n,t}function Ev(t,e,n){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ov(0),this.expirationTimes=ov(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ov(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gx(t,e,n,r,i,s,o,a,l){return t=new EI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ti(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rx(s),t}function TI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _T(t){if(!t)return ha;t=t._reactInternals;e:{if(kl(t)!==t||t.tag!==1)throw Error(Te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(t.tag===1){var n=t.type;if(Gr(n))return _2(t,n,e)}return e}function jT(t,e,n,r,i,s,o,a,l){return t=Gx(n,r,!0,t,i,s,o,a,l),t.context=_T(null),n=t.current,r=Nr(),i=sa(n),s=so(r,i),s.callback=e??null,ra(n,s,i),t.current.lanes=i,ad(t,i,r),qr(t,r),t}function qm(t,e,n,r){var i=e.current,s=Nr(),o=sa(i);return n=_T(n),e.context===null?e.context=n:e.pendingContext=n,e=so(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ra(i,e,o),t!==null&&(Ji(t,i,o,s),Hf(t,i,o)),o}function Ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qx(t,e){OS(t,e),(t=t.alternate)&&OS(t,e)}function MI(){return null}var DT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yx(t){this._internalRoot=t}Ym.prototype.render=Yx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Te(409));qm(t,e,null,null)};Ym.prototype.unmount=Yx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ll(function(){qm(null,t,null,null)}),e[lo]=null}};function Ym(t){this._internalRoot=t}Ym.prototype.unstable_scheduleHydration=function(t){if(t){var e=f2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jo.length&&e!==0&&e<jo[n].priority;n++);jo.splice(n,0,t),n===0&&m2(t)}};function Qx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _S(){}function NI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ip(o);s.call(u)}}var o=jT(e,r,t,0,null,!1,!1,"",_S);return t._reactRootContainer=o,t[lo]=o.current,bh(t.nodeType===8?t.parentNode:t),ll(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ip(l);a.call(u)}}var l=Gx(t,0,!1,null,null,!1,!1,"",_S);return t._reactRootContainer=l,t[lo]=l.current,bh(t.nodeType===8?t.parentNode:t),ll(function(){qm(e,l,n,r)}),l}function Jm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ip(o);a.call(l)}}qm(e,o,t,i)}else o=NI(n,e,t,i,r);return Ip(o)}h2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ju(e.pendingLanes);n!==0&&(mx(e,n|1),qr(e,Ln()),!(Wt&6)&&(Hc=Ln()+500,Sa()))}break;case 13:ll(function(){var r=co(t,1);if(r!==null){var i=Nr();Ji(r,t,1,i)}}),qx(t,1)}};gx=function(t){if(t.tag===13){var e=co(t,134217728);if(e!==null){var n=Nr();Ji(e,t,134217728,n)}qx(t,134217728)}};d2=function(t){if(t.tag===13){var e=sa(t),n=co(t,e);if(n!==null){var r=Nr();Ji(n,t,e,r)}qx(t,e)}};f2=function(){return Zt};p2=function(t,e){var n=Zt;try{return Zt=t,e()}finally{Zt=n}};V0=function(t,e,n){switch(e){case"input":if(I0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zm(r);if(!i)throw Error(Te(90));VE(r),I0(r,i)}}}break;case"textarea":GE(t,n);break;case"select":e=n.value,e!=null&&uc(t,!!n.multiple,e,!1)}};e2=Wx;t2=ll;var RI={usingClientEntryPoint:!1,Events:[cd,Ql,zm,XE,ZE,Wx]},Cu={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LI={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i2(t),t===null?null:t.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||MI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Pm=Xd.inject(LI),$s=Xd}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI;vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qx(e))throw Error(Te(200));return TI(t,e,null,n)};vi.createRoot=function(t,e){if(!Qx(t))throw Error(Te(299));var n=!1,r="",i=DT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gx(t,1,!1,null,null,n,!1,r,i),t[lo]=e.current,bh(t.nodeType===8?t.parentNode:t),new Yx(e)};vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Te(188)):(t=Object.keys(t).join(","),Error(Te(268,t)));return t=i2(e),t=t===null?null:t.stateNode,t};vi.flushSync=function(t){return ll(t)};vi.hydrate=function(t,e,n){if(!Qm(e))throw Error(Te(200));return Jm(null,t,e,!0,n)};vi.hydrateRoot=function(t,e,n){if(!Qx(t))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=DT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jT(e,null,t,1,n??null,i,!1,s,o),t[lo]=e.current,bh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ym(e)};vi.render=function(t,e,n){if(!Qm(e))throw Error(Te(200));return Jm(null,t,e,!1,n)};vi.unmountComponentAtNode=function(t){if(!Qm(t))throw Error(Te(40));return t._reactRootContainer?(ll(function(){Jm(null,null,t,!1,function(){t._reactRootContainer=null,t[lo]=null})}),!0):!1};vi.unstable_batchedUpdates=Wx;vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qm(n))throw Error(Te(200));if(t==null||t._reactInternals===void 0)throw Error(Te(38));return Jm(t,e,n,!1,r)};vi.version="18.3.1-next-f1338f8080-20240426";function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(t){console.error(t)}}PT(),PE.exports=vi;var Ca=PE.exports;const $I=nx(Ca);var IT,jS=Ca;IT=jS.createRoot,jS.hydrateRoot;function OI(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var FT={exports:{}},BT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=j;function _I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jI=typeof Object.is=="function"?Object.is:_I,DI=Wc.useState,PI=Wc.useEffect,II=Wc.useLayoutEffect,FI=Wc.useDebugValue;function BI(t,e){var n=e(),r=DI({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return II(function(){i.value=n,i.getSnapshot=e,Tv(i)&&s({inst:i})},[t,n,e]),PI(function(){return Tv(i)&&s({inst:i}),t(function(){Tv(i)&&s({inst:i})})},[t]),FI(n),n}function Tv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jI(t,n)}catch{return!0}}function zI(t,e){return e()}var HI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zI:BI;BT.useSyncExternalStore=Wc.useSyncExternalStore!==void 0?Wc.useSyncExternalStore:HI;FT.exports=BT;var WI=FT.exports;const UI=Dm.useInsertionEffect,VI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KI=VI?j.useLayoutEffect:j.useEffect,GI=UI||KI,zT=t=>{const e=j.useRef([t,(...n)=>e[0](...n)]).current;return GI(()=>{e[0]=t}),e[1]},qI="popstate",Jx="pushState",Xx="replaceState",YI="hashchange",DS=[qI,Jx,Xx,YI],QI=t=>{for(const e of DS)addEventListener(e,t);return()=>{for(const e of DS)removeEventListener(e,t)}},HT=(t,e)=>WI.useSyncExternalStore(QI,t,e),JI=()=>location.search,XI=({ssrSearch:t=""}={})=>HT(JI,()=>t),PS=()=>location.pathname,ZI=({ssrPath:t}={})=>HT(PS,t?()=>t:PS),e4=(t,{replace:e=!1,state:n=null}={})=>history[e?Xx:Jx](n,"",t),t4=(t={})=>[ZI(t),e4],IS=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[IS]>"u"){for(const t of[Jx,Xx]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,IS,{value:!0})}const n4=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",WT=(t="")=>t==="/"?"":t,r4=(t,e)=>t[0]==="~"?t.slice(1):WT(e)+t,i4=(t="",e)=>n4(FS(WT(t)),FS(e)),FS=t=>{try{return decodeURI(t)}catch{return t}},UT={hook:t4,searchHook:XI,parser:OI,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},VT=j.createContext(UT),hd=()=>j.useContext(VT),KT={},GT=j.createContext(KT),s4=()=>j.useContext(GT),Xm=t=>{const[e,n]=t.hook(t);return[i4(t.base,e),zT((r,i)=>n(r4(r,t.base),i))]},o4=()=>Xm(hd()),qT=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((h,d)=>[h,l[d]])):o.groups;let c={...l};return u&&Object.assign(c,u),c})(),...r?[a]:[]]:[!1,null]},YT=({children:t,...e})=>{var c,h;const n=hd(),r=e.hook?UT:n;let i=r;const[s,o]=((c=e.ssrPath)==null?void 0:c.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=j.useRef({}),l=a.current,u=l;for(let d in r){const f=d==="base"?r[d]+(e[d]||""):e[d]||r[d];l===u&&f!==u[d]&&(a.current=u={...u}),u[d]=f,(f!==r[d]||f!==i[d])&&(i=u)}return j.createElement(VT.Provider,{value:i,children:t})},BS=({children:t,component:e},n)=>e?j.createElement(e,{params:n}):typeof t=="function"?t(n):t,a4=t=>{let e=j.useRef(KT);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},ei=({path:t,nest:e,match:n,...r})=>{const i=hd(),[s]=Xm(i),[o,a,l]=n??qT(i.parser,t,s,e),u=a4({...s4(),...a});if(!o)return null;const c=l?j.createElement(YT,{base:l},BS(r,u)):BS(r,u);return j.createElement(GT.Provider,{value:u,children:c})},ky=j.forwardRef((t,e)=>{const n=hd(),[r,i]=Xm(n),{to:s="",href:o=s,onClick:a,asChild:l,children:u,className:c,replace:h,state:d,...f}=t,p=zT(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(a==null||a(g),g.defaultPrevented||(g.preventDefault(),i(o,t)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&j.isValidElement(u)?j.cloneElement(u,{onClick:p,href:m}):j.createElement("a",{...f,onClick:p,href:m,className:c!=null&&c.call?c(r===o):c,children:u,ref:e})}),QT=t=>Array.isArray(t)?t.flatMap(e=>QT(e&&e.type===j.Fragment?e.props.children:e)):[t],l4=({children:t,location:e})=>{const n=hd(),[r]=Xm(n);for(const i of QT(t)){let s=0;if(j.isValidElement(i)&&(s=qT(n.parser,i.props.path,e||r,i.props.nest))[0])return j.cloneElement(i,{match:s})}return null};var Zm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eg=typeof window>"u"||"Deno"in globalThis;function Hi(){}function c4(t,e){return typeof t=="function"?t(e):t}function u4(t){return typeof t=="number"&&t>=0&&t!==1/0}function h4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ay(t,e){return typeof t=="function"?t(e):t}function d4(t,e){return typeof t=="function"?t(e):t}function zS(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Zx(o,e.options))return!1}else if(!Nh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function HS(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Mh(e.options.mutationKey)!==Mh(s))return!1}else if(!Nh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Zx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mh)(t)}function Mh(t){return JSON.stringify(t,(e,n)=>Ey(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Nh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Nh(t[n],e[n])):!1}function JT(t,e){if(t===e)return t;const n=WS(t)&&WS(e);if(n||Ey(t)&&Ey(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let c=0;c<o;c++){const h=n?c:s[c];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=JT(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function WS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ey(t){if(!US(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!US(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function US(t){return Object.prototype.toString.call(t)==="[object Object]"}function f4(t){return new Promise(e=>{setTimeout(e,t)})}function p4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JT(t,e):e}function m4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function g4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ew=Symbol();function XT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ew?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ka,Bo,Tc,yE,v4=(yE=class extends Zm{constructor(){super();Nt(this,Ka);Nt(this,Bo);Nt(this,Tc);it(this,Tc,e=>{if(!eg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ue(this,Bo)||this.setEventListener(ue(this,Tc))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,Bo))==null||e.call(this),it(this,Bo,void 0))}setEventListener(e){var n;it(this,Tc,e),(n=ue(this,Bo))==null||n.call(this),it(this,Bo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ue(this,Ka)!==e&&(it(this,Ka,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ue(this,Ka)=="boolean"?ue(this,Ka):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ka=new WeakMap,Bo=new WeakMap,Tc=new WeakMap,yE),ZT=new v4,Mc,zo,Nc,bE,y4=(bE=class extends Zm{constructor(){super();Nt(this,Mc,!0);Nt(this,zo);Nt(this,Nc);it(this,Nc,e=>{if(!eg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ue(this,zo)||this.setEventListener(ue(this,Nc))}onUnsubscribe(){var e;this.hasListeners()||((e=ue(this,zo))==null||e.call(this),it(this,zo,void 0))}setEventListener(e){var n;it(this,Nc,e),(n=ue(this,zo))==null||n.call(this),it(this,zo,e(this.setOnline.bind(this)))}setOnline(e){ue(this,Mc)!==e&&(it(this,Mc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ue(this,Mc)}},Mc=new WeakMap,zo=new WeakMap,Nc=new WeakMap,bE),Fp=new y4;function b4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function x4(t){return Math.min(1e3*2**t,3e4)}function eM(t){return(t??"online")==="online"?Fp.isOnline():!0}var tM=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mv(t){return t instanceof tM}function nM(t){let e=!1,n=0,r=!1,i;const s=b4(),o=m=>{var g;r||(d(new tM(m)),(g=t.abort)==null||g.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ZT.isFocused()&&(t.networkMode==="always"||Fp.isOnline())&&t.canRun(),c=()=>eM(t.networkMode)&&t.canRun(),h=m=>{var g;r||(r=!0,(g=t.onSuccess)==null||g.call(t,m),i==null||i(),s.resolve(m))},d=m=>{var g;r||(r=!0,(g=t.onError)==null||g.call(t,m),i==null||i(),s.reject(m))},f=()=>new Promise(m=>{var g;i=y=>{(r||u())&&m(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;i=void 0,r||(m=t.onContinue)==null||m.call(t)}),p=()=>{if(r)return;let m;const g=n===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var w;if(r)return;const b=t.retry??(eg?0:3),C=t.retryDelay??x4,x=typeof C=="function"?C(n,y):C,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!S){d(y);return}n++,(w=t.onFail)==null||w.call(t,n,y),f4(x).then(()=>u()?void 0:f()).then(()=>{e?d(y):p()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?p():f().then(p),s)}}var w4=t=>setTimeout(t,0);function S4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=w4;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Er=S4(),Ga,xE,rM=(xE=class{constructor(){Nt(this,Ga)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),u4(this.gcTime)&&it(this,Ga,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eg?1/0:5*60*1e3))}clearGcTimeout(){ue(this,Ga)&&(clearTimeout(ue(this,Ga)),it(this,Ga,void 0))}},Ga=new WeakMap,xE),Rc,qa,xi,Ya,pr,rd,Qa,Wi,Ys,wE,C4=(wE=class extends rM{constructor(e){super();Nt(this,Wi);Nt(this,Rc);Nt(this,qa);Nt(this,xi);Nt(this,Ya);Nt(this,pr);Nt(this,rd);Nt(this,Qa);it(this,Qa,!1),it(this,rd,e.defaultOptions),this.setOptions(e.options),this.observers=[],it(this,Ya,e.client),it(this,xi,ue(this,Ya).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,it(this,Rc,A4(this.options)),this.state=e.state??ue(this,Rc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ue(this,pr))==null?void 0:e.promise}setOptions(e){this.options={...ue(this,rd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ue(this,xi).remove(this)}setData(e,n){const r=p4(this.state.data,e,this.options);return hr(this,Wi,Ys).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){hr(this,Wi,Ys).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ue(this,pr))==null?void 0:r.promise;return(i=ue(this,pr))==null||i.cancel(e),n?n.then(Hi).catch(Hi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ue(this,Rc))}isActive(){return this.observers.some(e=>d4(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ew||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ay(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!h4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ue(this,pr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ue(this,pr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ue(this,xi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ue(this,pr)&&(ue(this,Qa)?ue(this,pr).cancel({revert:!0}):ue(this,pr).cancelRetry()),this.scheduleGc()),ue(this,xi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hr(this,Wi,Ys).call(this,{type:"invalidate"})}fetch(e,n){var u,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ue(this,pr))return ue(this,pr).continueRetry(),ue(this,pr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(it(this,Qa,!0),r.signal)})},s=()=>{const d=XT(this.options,n),p=(()=>{const m={client:ue(this,Ya),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return it(this,Qa,!1),this.options.persister?this.options.persister(d,p,this):d(p)},a=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ue(this,Ya),state:this.state,fetchFn:s};return i(d),d})();(u=this.options.behavior)==null||u.onFetch(a,this),it(this,qa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&hr(this,Wi,Ys).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=d=>{var f,p,m,g;Mv(d)&&d.silent||hr(this,Wi,Ys).call(this,{type:"error",error:d}),Mv(d)||((p=(f=ue(this,xi).config).onError)==null||p.call(f,d,this),(g=(m=ue(this,xi).config).onSettled)==null||g.call(m,this.state.data,d,this)),this.scheduleGc()};return it(this,pr,nM({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,p,m,g;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){l(y);return}(p=(f=ue(this,xi).config).onSuccess)==null||p.call(f,d,this),(g=(m=ue(this,xi).config).onSettled)==null||g.call(m,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,f)=>{hr(this,Wi,Ys).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{hr(this,Wi,Ys).call(this,{type:"pause"})},onContinue:()=>{hr(this,Wi,Ys).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ue(this,pr).start()}},Rc=new WeakMap,qa=new WeakMap,xi=new WeakMap,Ya=new WeakMap,pr=new WeakMap,rd=new WeakMap,Qa=new WeakMap,Wi=new WeakSet,Ys=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...k4(r.data,this.options),fetchMeta:e.meta??null};case"success":return it(this,qa,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Mv(i)&&i.revert&&ue(this,qa)?{...ue(this,qa),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Er.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ue(this,xi).notify({query:this,type:"updated",action:e})})},wE);function k4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function A4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ys,SE,E4=(SE=class extends Zm{constructor(e={}){super();Nt(this,ys);this.config=e,it(this,ys,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Zx(i,n);let o=this.get(s);return o||(o=new C4({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ue(this,ys).has(e.queryHash)||(ue(this,ys).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ue(this,ys).get(e.queryHash);n&&(e.destroy(),n===e&&ue(this,ys).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ue(this,ys).get(e)}getAll(){return[...ue(this,ys).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>zS(e,r)):n}notify(e){Er.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ys=new WeakMap,SE),bs,kr,Ja,xs,Mo,CE,T4=(CE=class extends rM{constructor(e){super();Nt(this,xs);Nt(this,bs);Nt(this,kr);Nt(this,Ja);this.mutationId=e.mutationId,it(this,kr,e.mutationCache),it(this,bs,[]),this.state=e.state||M4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ue(this,bs).includes(e)||(ue(this,bs).push(e),this.clearGcTimeout(),ue(this,kr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){it(this,bs,ue(this,bs).filter(n=>n!==e)),this.scheduleGc(),ue(this,kr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ue(this,bs).length||(this.state.status==="pending"?this.scheduleGc():ue(this,kr).remove(this))}continue(){var e;return((e=ue(this,Ja))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,u,c,h,d,f,p,m,g,y,b,C,x,S,w,k,L;const n=()=>{hr(this,xs,Mo).call(this,{type:"continue"})};it(this,Ja,nM({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,N)=>{hr(this,xs,Mo).call(this,{type:"failed",failureCount:E,error:N})},onPause:()=>{hr(this,xs,Mo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ue(this,kr).canRun(this)}));const r=this.state.status==="pending",i=!ue(this,Ja).canStart();try{if(r)n();else{hr(this,xs,Mo).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=ue(this,kr).config).onMutate)==null?void 0:o.call(s,e,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));N!==this.state.context&&hr(this,xs,Mo).call(this,{type:"pending",context:N,variables:e,isPaused:i})}const E=await ue(this,Ja).start();return await((c=(u=ue(this,kr).config).onSuccess)==null?void 0:c.call(u,E,e,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,E,e,this.state.context)),await((p=(f=ue(this,kr).config).onSettled)==null?void 0:p.call(f,E,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,E,null,e,this.state.context)),hr(this,xs,Mo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(y=ue(this,kr).config).onError)==null?void 0:b.call(y,E,e,this.state.context,this)),await((x=(C=this.options).onError)==null?void 0:x.call(C,E,e,this.state.context)),await((w=(S=ue(this,kr).config).onSettled)==null?void 0:w.call(S,void 0,E,this.state.variables,this.state.context,this)),await((L=(k=this.options).onSettled)==null?void 0:L.call(k,void 0,E,e,this.state.context)),E}finally{hr(this,xs,Mo).call(this,{type:"error",error:E})}}finally{ue(this,kr).runNext(this)}}},bs=new WeakMap,kr=new WeakMap,Ja=new WeakMap,xs=new WeakSet,Mo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Er.batch(()=>{ue(this,bs).forEach(r=>{r.onMutationUpdate(e)}),ue(this,kr).notify({mutation:this,type:"updated",action:e})})},CE);function M4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var eo,Ui,id,kE,N4=(kE=class extends Zm{constructor(e={}){super();Nt(this,eo);Nt(this,Ui);Nt(this,id);this.config=e,it(this,eo,new Set),it(this,Ui,new Map),it(this,id,0)}build(e,n,r){const i=new T4({mutationCache:this,mutationId:++jd(this,id)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ue(this,eo).add(e);const n=Zd(e);if(typeof n=="string"){const r=ue(this,Ui).get(n);r?r.push(e):ue(this,Ui).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ue(this,eo).delete(e)){const n=Zd(e);if(typeof n=="string"){const r=ue(this,Ui).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ue(this,Ui).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Zd(e);if(typeof n=="string"){const r=ue(this,Ui).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Zd(e);if(typeof n=="string"){const i=(r=ue(this,Ui).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Er.batch(()=>{ue(this,eo).forEach(e=>{this.notify({type:"removed",mutation:e})}),ue(this,eo).clear(),ue(this,Ui).clear()})}getAll(){return Array.from(ue(this,eo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HS(n,r))}findAll(e={}){return this.getAll().filter(n=>HS(e,n))}notify(e){Er.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Er.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hi))))}},eo=new WeakMap,Ui=new WeakMap,id=new WeakMap,kE);function Zd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function VS(t){return{onFetch:(e,n)=>{var c,h,d,f,p;const r=e.options,i=(d=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const g=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=XT(e.options,e.fetchOptions),b=async(C,x,S)=>{if(m)return Promise.reject();if(x==null&&C.pages.length)return Promise.resolve(C);const k=(()=>{const _={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return g(_),_})(),L=await y(k),{maxPages:E}=e.options,N=S?g4:m4;return{pages:N(C.pages,L,E),pageParams:N(C.pageParams,x,E)}};if(i&&s.length){const C=i==="backward",x=C?R4:KS,S={pages:s,pageParams:o},w=x(r,S);a=await b(S,w,C)}else{const C=t??s.length;do{const x=l===0?o[0]??r.initialPageParam:KS(r,a);if(l>0&&x==null)break;a=await b(a,x),l++}while(l<C)}return a};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function KS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function R4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var kn,Ho,Wo,Lc,$c,Uo,Oc,_c,AE,L4=(AE=class{constructor(t={}){Nt(this,kn);Nt(this,Ho);Nt(this,Wo);Nt(this,Lc);Nt(this,$c);Nt(this,Uo);Nt(this,Oc);Nt(this,_c);it(this,kn,t.queryCache||new E4),it(this,Ho,t.mutationCache||new N4),it(this,Wo,t.defaultOptions||{}),it(this,Lc,new Map),it(this,$c,new Map),it(this,Uo,0)}mount(){jd(this,Uo)._++,ue(this,Uo)===1&&(it(this,Oc,ZT.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,kn).onFocus())})),it(this,_c,Fp.subscribe(async t=>{t&&(await this.resumePausedMutations(),ue(this,kn).onOnline())})))}unmount(){var t,e;jd(this,Uo)._--,ue(this,Uo)===0&&((t=ue(this,Oc))==null||t.call(this),it(this,Oc,void 0),(e=ue(this,_c))==null||e.call(this),it(this,_c,void 0))}isFetching(t){return ue(this,kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ue(this,Ho).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ue(this,kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ue(this,kn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ay(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ue(this,kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ue(this,kn).get(r.queryHash),s=i==null?void 0:i.state.data,o=c4(e,s);if(o!==void 0)return ue(this,kn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Er.batch(()=>ue(this,kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ue(this,kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ue(this,kn);Er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ue(this,kn);return Er.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Er.batch(()=>ue(this,kn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Hi).catch(Hi)}invalidateQueries(t,e={}){return Er.batch(()=>(ue(this,kn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Er.batch(()=>ue(this,kn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Hi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Hi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ue(this,kn).build(this,e);return n.isStaleByTime(Ay(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hi).catch(Hi)}fetchInfiniteQuery(t){return t.behavior=VS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hi).catch(Hi)}ensureInfiniteQueryData(t){return t.behavior=VS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fp.isOnline()?ue(this,Ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return ue(this,kn)}getMutationCache(){return ue(this,Ho)}getDefaultOptions(){return ue(this,Wo)}setDefaultOptions(t){it(this,Wo,t)}setQueryDefaults(t,e){ue(this,Lc).set(Mh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ue(this,Lc).values()],n={};return e.forEach(r=>{Nh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ue(this,$c).set(Mh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ue(this,$c).values()],n={};return e.forEach(r=>{Nh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ue(this,Wo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Zx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ew&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ue(this,Wo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ue(this,kn).clear(),ue(this,Ho).clear()}},kn=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,Lc=new WeakMap,$c=new WeakMap,Uo=new WeakMap,Oc=new WeakMap,_c=new WeakMap,AE),$4=j.createContext(void 0),O4=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx($4.Provider,{value:t,children:e})),_4=(t,e,n,r,i,s,o,a)=>{let l=document.documentElement,u=["light","dark"];function c(f){(Array.isArray(t)?t:[t]).forEach(p=>{let m=p==="class",g=m&&s?i.map(y=>s[y]||y):i;m?(l.classList.remove(...g),l.classList.add(s&&s[f]?s[f]:f)):l.setAttribute(p,f)}),h(f)}function h(f){a&&u.includes(f)&&(l.style.colorScheme=f)}function d(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)c(r);else try{let f=localStorage.getItem(e)||n,p=o&&f==="system"?d():f;c(p)}catch{}},GS=["light","dark"],iM="(prefers-color-scheme: dark)",j4=typeof window>"u",sM=j.createContext(void 0),D4=t=>j.useContext(sM)?j.createElement(j.Fragment,null,t.children):j.createElement(I4,{...t}),P4=["light","dark"],I4=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=P4,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:c,scriptProps:h})=>{let[d,f]=j.useState(()=>B4(i,o)),[p,m]=j.useState(()=>d==="system"?Nv():d),g=l?Object.values(l):s,y=j.useCallback(S=>{let w=S;if(!w)return;S==="system"&&n&&(w=Nv());let k=l?l[w]:w,L=e?z4(c):null,E=document.documentElement,N=_=>{_==="class"?(E.classList.remove(...g),k&&E.classList.add(k)):_.startsWith("data-")&&(k?E.setAttribute(_,k):E.removeAttribute(_))};if(Array.isArray(a)?a.forEach(N):N(a),r){let _=GS.includes(o)?o:null,R=GS.includes(w)?w:_;E.style.colorScheme=R}L==null||L()},[c]),b=j.useCallback(S=>{let w=typeof S=="function"?S(d):S;f(w);try{localStorage.setItem(i,w)}catch{}},[d]),C=j.useCallback(S=>{let w=Nv(S);m(w),d==="system"&&n&&!t&&y("system")},[d,t]);j.useEffect(()=>{let S=window.matchMedia(iM);return S.addListener(C),C(S),()=>S.removeListener(C)},[C]),j.useEffect(()=>{let S=w=>{w.key===i&&(w.newValue?f(w.newValue):b(o))};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[b]),j.useEffect(()=>{y(t??d)},[t,d]);let x=j.useMemo(()=>({theme:d,setTheme:b,forcedTheme:t,resolvedTheme:d==="system"?p:d,themes:n?[...s,"system"]:s,systemTheme:n?p:void 0}),[d,b,t,p,n,s]);return j.createElement(sM.Provider,{value:x},j.createElement(F4,{forcedTheme:t,storageKey:i,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:l,themes:s,nonce:c,scriptProps:h}),u)},F4=j.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:u})=>{let c=JSON.stringify([n,e,s,t,a,o,r,i]).slice(1,-1);return j.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${_4.toString()})(${c})`}})}),B4=(t,e)=>{if(j4)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},z4=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Nv=t=>(t||(t=window.matchMedia(iM)),t.matches?"dark":"light");async function H4(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const W4=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await H4(n),await n.json()},U4=new L4({defaultOptions:{queries:{queryFn:W4({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),V4=1,K4=1e6;let Rv=0;function G4(){return Rv=(Rv+1)%Number.MAX_SAFE_INTEGER,Rv.toString()}const Lv=new Map,qS=t=>{if(Lv.has(t))return;const e=setTimeout(()=>{Lv.delete(t),rh({type:"REMOVE_TOAST",toastId:t})},K4);Lv.set(t,e)},q4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,V4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?qS(n):t.toasts.forEach(r=>{qS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}};let Pu=[],Yf={toasts:[]};function rh(t){Yf=q4(Yf,t),Pu.forEach(e=>{e(Yf)})}function Qs({...t}){const e=G4(),n=i=>rh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>rh({type:"DISMISS_TOAST",toastId:e});return rh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function ss(){const[t,e]=j.useState(Yf);return j.useEffect(()=>(Pu=[...Pu,e],()=>{const n=Pu.indexOf(e);n>-1&&Pu.splice(n,1)}),[t]),{...t,toast:Qs,dismiss:n=>rh({type:"DISMISS_TOAST",toastId:n})}}function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function YS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oM(...t){return e=>{let n=!1;const r=t.map(i=>{const s=YS(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():YS(t[i],null)}}}}function Vt(...t){return j.useCallback(oM(...t),t)}function Y4(t,e){const n=j.createContext(e),r=s=>{const{children:o,...a}=s,l=j.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=j.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Fs(t,e=[]){let n=[];function r(s,o){const a=j.createContext(o),l=n.length;n=[...n,o];const u=h=>{var y;const{scope:d,children:f,...p}=h,m=((y=d==null?void 0:d[t])==null?void 0:y[l])||a,g=j.useMemo(()=>p,Object.values(p));return v.jsx(m.Provider,{value:g,children:f})};u.displayName=s+"Provider";function c(h,d){var m;const f=((m=d==null?void 0:d[t])==null?void 0:m[l])||a,p=j.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,c]}const i=()=>{const s=n.map(o=>j.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Q4(i,...e)]}function Q4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Uc(t){const e=X4(t),n=j.forwardRef((r,i)=>{const{children:s,...o}=r,a=j.Children.toArray(s),l=a.find(e3);if(l){const u=l.props.children,c=a.map(h=>h===l?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:h);return v.jsx(e,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,c):null})}return v.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var J4=Uc("Slot");function X4(t){const e=j.forwardRef((n,r)=>{const{children:i,...s}=n;if(j.isValidElement(i)){const o=n3(i),a=t3(s,i.props);return i.type!==j.Fragment&&(a.ref=r?oM(r,o):o),j.cloneElement(i,a)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aM=Symbol("radix.slottable");function Z4(t){const e=({children:n})=>v.jsx(v.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=aM,e}function e3(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aM}function t3(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function n3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function tg(t){const e=t+"CollectionProvider",[n,r]=Fs(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,b=Vi.useRef(null),C=Vi.useRef(new Map).current;return v.jsx(i,{scope:g,itemMap:C,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Uc(a),u=Vi.forwardRef((m,g)=>{const{scope:y,children:b}=m,C=s(a,y),x=Vt(g,C.collectionRef);return v.jsx(l,{ref:x,children:b})});u.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",d=Uc(c),f=Vi.forwardRef((m,g)=>{const{scope:y,children:b,...C}=m,x=Vi.useRef(null),S=Vt(g,x),w=s(c,y);return Vi.useEffect(()=>(w.itemMap.set(x,{ref:x,...C}),()=>void w.itemMap.delete(x))),v.jsx(d,{[h]:"",ref:S,children:b})});f.displayName=c;function p(m){const g=s(t+"CollectionConsumer",m);return Vi.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const C=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((w,k)=>C.indexOf(w.ref.current)-C.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},p,r]}var r3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=r3.reduce((t,e)=>{const n=Uc(`Primitive.${e}`),r=j.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function lM(t,e){t&&Ca.flushSync(()=>t.dispatchEvent(e))}function ji(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function i3(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var s3="DismissableLayer",Ty="dismissableLayer.update",o3="dismissableLayer.pointerDownOutside",a3="dismissableLayer.focusOutside",QS,cM=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dd=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=j.useContext(cM),[c,h]=j.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=j.useState({}),p=Vt(e,k=>h(k)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=c?m.indexOf(c):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,x=b>=y,S=c3(k=>{const L=k.target,E=[...u.branches].some(N=>N.contains(L));!x||E||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},d),w=u3(k=>{const L=k.target;[...u.branches].some(N=>N.contains(L))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},d);return i3(k=>{b===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},d),j.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(QS=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),JS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=QS)}},[c,d,n,u]),j.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),JS())},[c,u]),j.useEffect(()=>{const k=()=>f({});return document.addEventListener(Ty,k),()=>document.removeEventListener(Ty,k)},[]),v.jsx(dt.div,{...l,ref:p,style:{pointerEvents:C?x?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,w.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,S.onPointerDownCapture)})});dd.displayName=s3;var l3="DismissableLayerBranch",uM=j.forwardRef((t,e)=>{const n=j.useContext(cM),r=j.useRef(null),i=Vt(e,r);return j.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(dt.div,{...t,ref:i})});uM.displayName=l3;function c3(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){hM(o3,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function u3(t,e=globalThis==null?void 0:globalThis.document){const n=ji(t),r=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!r.current&&hM(a3,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function JS(){const t=new CustomEvent(Ty);document.dispatchEvent(t)}function hM(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lM(i,s):i.dispatchEvent(s)}var h3=dd,d3=uM,ar=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},f3="Portal",ng=j.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=j.useState(!1);ar(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$I.createPortal(v.jsx(dt.div,{...r,ref:e}),o):null});ng.displayName=f3;function p3(t,e){return j.useReducer((n,r)=>e[n][r]??n,t)}var Al=t=>{const{present:e,children:n}=t,r=m3(e),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),s=Vt(r.ref,g3(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:s}):null};Al.displayName="Presence";function m3(t){const[e,n]=j.useState(),r=j.useRef(null),i=j.useRef(t),s=j.useRef("none"),o=t?"mounted":"unmounted",[a,l]=p3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=ef(r.current);s.current=a==="mounted"?u:"none"},[a]),ar(()=>{const u=r.current,c=i.current;if(c!==t){const d=s.current,f=ef(u);t?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ar(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,h=f=>{const m=ef(r.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},d=f=>{f.target===e&&(s.current=ef(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:j.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ef(t){return(t==null?void 0:t.animationName)||"none"}function g3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var v3=Dm[" useInsertionEffect ".trim().toString()]||ar;function cl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=y3({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const c=j.useRef(t!==void 0);j.useEffect(()=>{const h=c.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const u=j.useCallback(c=>{var h;if(a){const d=b3(c)?c(t):c;d!==t&&((h=o.current)==null||h.call(o,d))}else s(c)},[a,t,s,o]);return[l,u]}function y3({defaultProp:t,onChange:e}){const[n,r]=j.useState(t),i=j.useRef(n),s=j.useRef(e);return v3(()=>{s.current=e},[e]),j.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function b3(t){return typeof t=="function"}var dM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),x3="VisuallyHidden",rg=j.forwardRef((t,e)=>v.jsx(dt.span,{...t,ref:e,style:{...dM,...t.style}}));rg.displayName=x3;var w3=rg,tw="ToastProvider",[nw,S3,C3]=tg("Toast"),[fM,pX]=Fs("Toast",[C3]),[k3,ig]=fM(tw),pM=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=j.useState(null),[u,c]=j.useState(0),h=j.useRef(!1),d=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${tw}\`. Expected non-empty \`string\`.`),v.jsx(nw.Provider,{scope:e,children:v.jsx(k3,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:j.useCallback(()=>c(f=>f+1),[]),onToastRemove:j.useCallback(()=>c(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:o})})};pM.displayName=tw;var mM="ToastViewport",A3=["F8"],My="toast.viewportPause",Ny="toast.viewportResume",gM=j.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=A3,label:i="Notifications ({hotkey})",...s}=t,o=ig(mM,n),a=S3(n),l=j.useRef(null),u=j.useRef(null),c=j.useRef(null),h=j.useRef(null),d=Vt(e,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;j.useEffect(()=>{const g=y=>{var C;r.length!==0&&r.every(x=>y[x]||y.code===x)&&((C=h.current)==null||C.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),j.useEffect(()=>{const g=l.current,y=h.current;if(p&&g&&y){const b=()=>{if(!o.isClosePausedRef.current){const w=new CustomEvent(My);y.dispatchEvent(w),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const w=new CustomEvent(Ny);y.dispatchEvent(w),o.isClosePausedRef.current=!1}},x=w=>{!g.contains(w.relatedTarget)&&C()},S=()=>{g.contains(document.activeElement)||C()};return g.addEventListener("focusin",b),g.addEventListener("focusout",x),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",C),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",x),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",C)}}},[p,o.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:g})=>{const b=a().map(C=>{const x=C.ref.current,S=[x,...I3(x)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?b.reverse():b).flat()},[a]);return j.useEffect(()=>{const g=h.current;if(g){const y=b=>{var S,w,k;const C=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!C){const L=document.activeElement,E=b.shiftKey;if(b.target===g&&E){(S=u.current)==null||S.focus();return}const R=m({tabbingDirection:E?"backwards":"forwards"}),M=R.findIndex(T=>T===L);$v(R.slice(M+1))?b.preventDefault():E?(w=u.current)==null||w.focus():(k=c.current)==null||k.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[a,m]),v.jsxs(d3,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&v.jsx(Ry,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});$v(g)}}),v.jsx(nw.Slot,{scope:n,children:v.jsx(dt.ol,{tabIndex:-1,...s,ref:d})}),p&&v.jsx(Ry,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});$v(g)}})]})});gM.displayName=mM;var vM="ToastFocusProxy",Ry=j.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=ig(vM,n);return v.jsx(rg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Ry.displayName=vM;var fd="Toast",E3="toast.swipeStart",T3="toast.swipeMove",M3="toast.swipeCancel",N3="toast.swipeEnd",yM=j.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=cl({prop:r,defaultProp:i??!0,onChange:s,caller:fd});return v.jsx(Al,{present:n||a,children:v.jsx($3,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ji(t.onPause),onResume:ji(t.onResume),onSwipeStart:Je(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Je(t.onSwipeMove,u=>{const{x:c,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Je(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Je(t.onSwipeEnd,u=>{const{x:c,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});yM.displayName=fd;var[R3,L3]=fM(fd,{onClose(){}}),$3=j.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:f,...p}=t,m=ig(fd,n),[g,y]=j.useState(null),b=Vt(e,T=>y(T)),C=j.useRef(null),x=j.useRef(null),S=i||m.duration,w=j.useRef(0),k=j.useRef(S),L=j.useRef(0),{onToastAdd:E,onToastRemove:N}=m,_=ji(()=>{var A;(g==null?void 0:g.contains(document.activeElement))&&((A=m.viewport)==null||A.focus()),o()}),R=j.useCallback(T=>{!T||T===1/0||(window.clearTimeout(L.current),w.current=new Date().getTime(),L.current=window.setTimeout(_,T))},[_]);j.useEffect(()=>{const T=m.viewport;if(T){const A=()=>{R(k.current),u==null||u()},$=()=>{const D=new Date().getTime()-w.current;k.current=k.current-D,window.clearTimeout(L.current),l==null||l()};return T.addEventListener(My,$),T.addEventListener(Ny,A),()=>{T.removeEventListener(My,$),T.removeEventListener(Ny,A)}}},[m.viewport,S,l,u,R]),j.useEffect(()=>{s&&!m.isClosePausedRef.current&&R(S)},[s,S,m.isClosePausedRef,R]),j.useEffect(()=>(E(),()=>N()),[E,N]);const M=j.useMemo(()=>g?AM(g):null,[g]);return m.viewport?v.jsxs(v.Fragment,{children:[M&&v.jsx(O3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),v.jsx(R3,{scope:n,onClose:_,children:Ca.createPortal(v.jsx(nw.ItemSlot,{scope:n,children:v.jsx(h3,{asChild:!0,onEscapeKeyDown:Je(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||_(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(dt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Je(t.onKeyDown,T=>{T.key==="Escape"&&(a==null||a(T.nativeEvent),T.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:Je(t.onPointerDown,T=>{T.button===0&&(C.current={x:T.clientX,y:T.clientY})}),onPointerMove:Je(t.onPointerMove,T=>{if(!C.current)return;const A=T.clientX-C.current.x,$=T.clientY-C.current.y,D=!!x.current,O=["left","right"].includes(m.swipeDirection),P=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,I=O?P(0,A):0,B=O?0:P(0,$),Y=T.pointerType==="touch"?10:2,H={x:I,y:B},U={originalEvent:T,delta:H};D?(x.current=H,tf(T3,h,U,{discrete:!1})):XS(H,m.swipeDirection,Y)?(x.current=H,tf(E3,c,U,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(A)>Y||Math.abs($)>Y)&&(C.current=null)}),onPointerUp:Je(t.onPointerUp,T=>{const A=x.current,$=T.target;if($.hasPointerCapture(T.pointerId)&&$.releasePointerCapture(T.pointerId),x.current=null,C.current=null,A){const D=T.currentTarget,O={originalEvent:T,delta:A};XS(A,m.swipeDirection,m.swipeThreshold)?tf(N3,f,O,{discrete:!0}):tf(M3,d,O,{discrete:!0}),D.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),O3=t=>{const{__scopeToast:e,children:n,...r}=t,i=ig(fd,e),[s,o]=j.useState(!1),[a,l]=j.useState(!1);return D3(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:v.jsx(ng,{asChild:!0,children:v.jsx(rg,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},_3="ToastTitle",bM=j.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(dt.div,{...r,ref:e})});bM.displayName=_3;var j3="ToastDescription",xM=j.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(dt.div,{...r,ref:e})});xM.displayName=j3;var wM="ToastAction",SM=j.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(kM,{altText:n,asChild:!0,children:v.jsx(rw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wM}\`. Expected non-empty \`string\`.`),null)});SM.displayName=wM;var CM="ToastClose",rw=j.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=L3(CM,n);return v.jsx(kM,{asChild:!0,children:v.jsx(dt.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,i.onClose)})})});rw.displayName=CM;var kM=j.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return v.jsx(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function AM(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),P3(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...AM(r))}}),e}function tf(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lM(i,s):i.dispatchEvent(s)}var XS=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function D3(t=()=>{}){const e=ji(t);ar(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function P3(t){return t.nodeType===t.ELEMENT_NODE}function I3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $v(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var F3=pM,EM=gM,TM=yM,MM=bM,NM=xM,RM=SM,LM=rw;function $M(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$M(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function OM(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$M(t))&&(r&&(r+=" "),r+=e);return r}const ZS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eC=OM,sg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return eC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],h=s==null?void 0:s[u];if(c===null)return null;const d=ZS(c)||ZS(h);return i[u][d]}),a=n&&Object.entries(n).reduce((u,c)=>{let[h,d]=c;return d===void 0||(u[h]=d),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:h,className:d,...f}=c;return Object.entries(f).every(p=>{let[m,g]=p;return Array.isArray(g)?g.includes({...s,...a}[m]):{...s,...a}[m]===g})?[...u,h,d]:u},[]);return eC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_M=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>j.createElement("svg",{ref:l,...z3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_M("lucide",i),...a},[...o.map(([u,c])=>j.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=j.forwardRef(({className:r,...i},s)=>j.createElement(H3,{ref:s,iconNode:e,className:_M(`lucide-${B3(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ze("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Ze("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=Ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=Ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Ze("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Ze("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Ze("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Ze("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Ze("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=Ze("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=Ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=Ze("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Ze("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Ze("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Ze("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=Ze("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Ze("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=Ze("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=Ze("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Ze("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Ze("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Ze("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ze("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Ze("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sw="-",pF=t=>{const e=gF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(sw);return a[0]===""&&a.length!==1&&a.shift(),UM(a,e)||mF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},UM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?UM(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(sw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},sC=/^\[(.+)\]$/,mF=t=>{if(sC.test(t)){const e=sC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},gF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return yF(Object.entries(t.classGroups),n).forEach(([s,o])=>{Oy(o,r,s,e)}),r},Oy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:oC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(vF(i)){Oy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Oy(o,oC(e,s),n,r)})})},oC=(t,e)=>{let n=t;return e.split(sw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vF=t=>t.isThemeGetter,yF=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,bF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},VM="!",xF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,c=0,h;for(let g=0;g<a.length;g++){let y=a[g];if(u===0){if(y===i&&(r||a.slice(g,g+s)===e)){l.push(a.slice(c,g)),c=g+s;continue}if(y==="/"){h=g;continue}}y==="["?u++:y==="]"&&u--}const d=l.length===0?a:a.substring(c),f=d.startsWith(VM),p=f?d.substring(1):d,m=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},wF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},SF=t=>({cache:bF(t.cacheSize),parseClassName:xF(t),...pF(t)}),CF=/\s+/,kF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(CF);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=n(u);let p=!!f,m=r(p?d.substring(0,f):d);if(!m){if(!p){a=u+(a.length>0?" "+a:a);continue}if(m=r(d),!m){a=u+(a.length>0?" "+a:a);continue}p=!1}const g=wF(c).join(":"),y=h?g+VM:g,b=y+m;if(s.includes(b))continue;s.push(b);const C=i(m,p);for(let x=0;x<C.length;++x){const S=C[x];s.push(y+S)}a=u+(a.length>0?" "+a:a)}return a};function AF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=KM(e))&&(r&&(r+=" "),r+=n);return r}const KM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=KM(t[r]))&&(n&&(n+=" "),n+=e);return n};function EF(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((c,h)=>h(c),t());return n=SF(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=kF(l,n);return i(l,c),c}return function(){return s(AF.apply(null,arguments))}}const hn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},GM=/^\[(?:([a-z-]+):)?(.+)\]$/i,TF=/^\d+\/\d+$/,MF=new Set(["px","full","screen"]),NF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$F=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=t=>gc(t)||MF.has(t)||TF.test(t),Ao=t=>ou(t,"length",zF),gc=t=>!!t&&!Number.isNaN(Number(t)),Ov=t=>ou(t,"number",gc),ku=t=>!!t&&Number.isInteger(Number(t)),_F=t=>t.endsWith("%")&&gc(t.slice(0,-1)),kt=t=>GM.test(t),Eo=t=>NF.test(t),jF=new Set(["length","size","percentage"]),DF=t=>ou(t,jF,qM),PF=t=>ou(t,"position",qM),IF=new Set(["image","url"]),FF=t=>ou(t,IF,WF),BF=t=>ou(t,"",HF),Au=()=>!0,ou=(t,e,n)=>{const r=GM.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},zF=t=>RF.test(t)&&!LF.test(t),qM=()=>!1,HF=t=>$F.test(t),WF=t=>OF.test(t),UF=()=>{const t=hn("colors"),e=hn("spacing"),n=hn("blur"),r=hn("brightness"),i=hn("borderColor"),s=hn("borderRadius"),o=hn("borderSpacing"),a=hn("borderWidth"),l=hn("contrast"),u=hn("grayscale"),c=hn("hueRotate"),h=hn("invert"),d=hn("gap"),f=hn("gradientColorStops"),p=hn("gradientColorStopPositions"),m=hn("inset"),g=hn("margin"),y=hn("opacity"),b=hn("padding"),C=hn("saturate"),x=hn("scale"),S=hn("sepia"),w=hn("skew"),k=hn("space"),L=hn("translate"),E=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",kt,e],R=()=>[kt,e],M=()=>["",Ks,Ao],T=()=>["auto",gc,kt],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",kt],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[gc,kt];return{cacheSize:500,separator:":",theme:{colors:[Au],spacing:[Ks,Ao],blur:["none","",Eo,kt],brightness:B(),borderColor:[t],borderRadius:["none","","full",Eo,kt],borderSpacing:R(),borderWidth:M(),contrast:B(),grayscale:P(),hueRotate:B(),invert:P(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[_F,Ao],inset:_(),margin:_(),opacity:B(),padding:R(),saturate:B(),scale:B(),sepia:P(),skew:B(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[Eo]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),kt]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ku,kt]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",ku,kt]}],"grid-cols":[{"grid-cols":[Au]}],"col-start-end":[{col:["auto",{span:["full",ku,kt]},kt]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Au]}],"row-start-end":[{row:["auto",{span:[ku,kt]},kt]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,e]}],"min-w":[{"min-w":[kt,e,"min","max","fit"]}],"max-w":[{"max-w":[kt,e,"none","full","min","max","fit","prose",{screen:[Eo]},Eo]}],h:[{h:[kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Eo,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ov]}],"font-family":[{font:[Au]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",gc,Ov]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,Ao]}],"underline-offset":[{"underline-offset":["auto",Ks,kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),PF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Ks,kt]}],"outline-w":[{outline:[Ks,Ao]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ks,Ao]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Eo,BF]}],"shadow-color":[{shadow:[Au]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Eo,kt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[ku,kt]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ks,Ao,Ov]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VF=EF(UF);function tt(...t){return VF(OM(t))}const KF=F3,YM=j.forwardRef(({className:t,...e},n)=>v.jsx(EM,{ref:n,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YM.displayName=EM.displayName;const GF=sg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QM=j.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(TM,{ref:r,className:tt(GF({variant:e}),t),...n}));QM.displayName=TM.displayName;const qF=j.forwardRef(({className:t,...e},n)=>v.jsx(RM,{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));qF.displayName=RM.displayName;const JM=j.forwardRef(({className:t,...e},n)=>v.jsx(LM,{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(pd,{className:"h-4 w-4"})}));JM.displayName=LM.displayName;const XM=j.forwardRef(({className:t,...e},n)=>v.jsx(MM,{ref:n,className:tt("text-sm font-semibold",t),...e}));XM.displayName=MM.displayName;const ZM=j.forwardRef(({className:t,...e},n)=>v.jsx(NM,{ref:n,className:tt("text-sm opacity-90",t),...e}));ZM.displayName=NM.displayName;function YF(){const{toasts:t}=ss();return v.jsxs(KF,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return v.jsxs(QM,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(XM,{children:n}),r&&v.jsx(ZM,{children:r})]}),i,v.jsx(JM,{})]},e)}),v.jsx(YM,{})]})}var QF=Dm[" useId ".trim().toString()]||(()=>{}),JF=0;function aa(t){const[e,n]=j.useState(QF());return ar(()=>{n(r=>r??String(JF++))},[t]),e?`radix-${e}`:""}const XF=["top","right","bottom","left"],da=Math.min,ai=Math.max,Up=Math.round,nf=Math.floor,_s=t=>({x:t,y:t}),ZF={left:"right",right:"left",bottom:"top",top:"bottom"},e5={start:"end",end:"start"};function _y(t,e,n){return ai(t,da(e,n))}function ho(t,e){return typeof t=="function"?t(e):t}function fo(t){return t.split("-")[0]}function au(t){return t.split("-")[1]}function ow(t){return t==="x"?"y":"x"}function aw(t){return t==="y"?"height":"width"}const t5=new Set(["top","bottom"]);function Ms(t){return t5.has(fo(t))?"y":"x"}function lw(t){return ow(Ms(t))}function n5(t,e,n){n===void 0&&(n=!1);const r=au(t),i=lw(t),s=aw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Vp(o)),[o,Vp(o)]}function r5(t){const e=Vp(t);return[jy(t),e,jy(e)]}function jy(t){return t.replace(/start|end/g,e=>e5[e])}const aC=["left","right"],lC=["right","left"],i5=["top","bottom"],s5=["bottom","top"];function o5(t,e,n){switch(t){case"top":case"bottom":return n?e?lC:aC:e?aC:lC;case"left":case"right":return e?i5:s5;default:return[]}}function a5(t,e,n,r){const i=au(t);let s=o5(fo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(jy)))),s}function Vp(t){return t.replace(/left|right|bottom|top/g,e=>ZF[e])}function l5(t){return{top:0,right:0,bottom:0,left:0,...t}}function eN(t){return typeof t!="number"?l5(t):{top:t,right:t,bottom:t,left:t}}function Kp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function cC(t,e,n){let{reference:r,floating:i}=t;const s=Ms(e),o=lw(e),a=aw(o),l=fo(e),u=s==="y",c=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:c,y:r.y-i.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(au(e)){case"start":f[o]-=d*(n&&u?-1:1);break;case"end":f[o]+=d*(n&&u?-1:1);break}return f}const c5=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=cC(u,r,l),d=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:b,y:C,data:x,reset:S}=await y({x:c,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});c=b??c,h=C??h,f={...f,[g]:{...f[g],...x}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:c,y:h}=cC(u,d,l)),m=-1)}return{x:c,y:h,placement:d,strategy:i,middlewareData:f}};async function Lh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ho(e,t),p=eN(f),g=a[d?h==="floating"?"reference":"floating":h],y=Kp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},S=Kp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:C,strategy:l}):b);return{top:(y.top-S.top+p.top)/x.y,bottom:(S.bottom-y.bottom+p.bottom)/x.y,left:(y.left-S.left+p.left)/x.x,right:(S.right-y.right+p.right)/x.x}}const u5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=ho(t,e)||{};if(u==null)return{};const h=eN(c),d={x:n,y:r},f=lw(i),p=aw(f),m=await o.getDimensions(u),g=f==="y",y=g?"top":"left",b=g?"bottom":"right",C=g?"clientHeight":"clientWidth",x=s.reference[p]+s.reference[f]-d[f]-s.floating[p],S=d[f]-s.reference[f],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=w?w[C]:0;(!k||!await(o.isElement==null?void 0:o.isElement(w)))&&(k=a.floating[C]||s.floating[p]);const L=x/2-S/2,E=k/2-m[p]/2-1,N=da(h[y],E),_=da(h[b],E),R=N,M=k-m[p]-_,T=k/2-m[p]/2+L,A=_y(R,T,M),$=!l.arrow&&au(i)!=null&&T!==A&&s.reference[p]/2-(T<R?N:_)-m[p]/2<0,D=$?T<R?T-R:T-M:0;return{[f]:d[f]+D,data:{[f]:A,centerOffset:T-A-D,...$&&{alignmentOffset:D}},reset:$}}}),h5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=ho(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=fo(i),b=Ms(a),C=fo(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=d||(C||!m?[Vp(a)]:r5(a)),w=p!=="none";!d&&w&&S.push(...a5(a,m,p,x));const k=[a,...S],L=await Lh(e,g),E=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&E.push(L[y]),h){const T=n5(i,o,x);E.push(L[T[0]],L[T[1]])}if(N=[...N,{placement:i,overflows:E}],!E.every(T=>T<=0)){var _,R;const T=(((_=s.flip)==null?void 0:_.index)||0)+1,A=k[T];if(A&&(!(h==="alignment"?b!==Ms(A):!1)||N.every(O=>O.overflows[0]>0&&Ms(O.placement)===b)))return{data:{index:T,overflows:N},reset:{placement:A}};let $=(R=N.filter(D=>D.overflows[0]<=0).sort((D,O)=>D.overflows[1]-O.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(f){case"bestFit":{var M;const D=(M=N.filter(O=>{if(w){const P=Ms(O.placement);return P===b||P==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(P=>P>0).reduce((P,I)=>P+I,0)]).sort((O,P)=>O[1]-P[1])[0])==null?void 0:M[0];D&&($=D);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function uC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hC(t){return XF.some(e=>t[e]>=0)}const d5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ho(t,e);switch(r){case"referenceHidden":{const s=await Lh(e,{...i,elementContext:"reference"}),o=uC(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hC(o)}}}case"escaped":{const s=await Lh(e,{...i,altBoundary:!0}),o=uC(s,n.floating);return{data:{escapedOffsets:o,escaped:hC(o)}}}default:return{}}}}},tN=new Set(["left","top"]);async function f5(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=fo(n),a=au(n),l=Ms(n)==="y",u=tN.has(o)?-1:1,c=s&&l?-1:1,h=ho(e,t);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}const p5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await f5(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},m5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...l}=ho(t,e),u={x:n,y:r},c=await Lh(e,l),h=Ms(fo(i)),d=ow(h);let f=u[d],p=u[h];if(s){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=f+c[g],C=f-c[y];f=_y(b,f,C)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+c[g],C=p-c[y];p=_y(b,p,C)}const m=a.fn({...e,[d]:f,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:s,[h]:o}}}}}},g5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ho(t,e),c={x:n,y:r},h=Ms(i),d=ow(h);let f=c[d],p=c[h];const m=ho(a,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const C=d==="y"?"height":"width",x=s.reference[d]-s.floating[C]+g.mainAxis,S=s.reference[d]+s.reference[C]-g.mainAxis;f<x?f=x:f>S&&(f=S)}if(u){var y,b;const C=d==="y"?"width":"height",x=tN.has(fo(i)),S=s.reference[h]-s.floating[C]+(x&&((y=o.offset)==null?void 0:y[h])||0)+(x?0:g.crossAxis),w=s.reference[h]+s.reference[C]+(x?0:((b=o.offset)==null?void 0:b[h])||0)-(x?g.crossAxis:0);p<S?p=S:p>w&&(p=w)}return{[d]:f,[h]:p}}}},v5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ho(t,e),c=await Lh(e,u),h=fo(i),d=au(i),f=Ms(i)==="y",{width:p,height:m}=s.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,g=d==="end"?"top":"bottom");const b=m-c.top-c.bottom,C=p-c.left-c.right,x=da(m-c[g],b),S=da(p-c[y],C),w=!e.middlewareData.shift;let k=x,L=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=b),w&&!d){const N=ai(c.left,0),_=ai(c.right,0),R=ai(c.top,0),M=ai(c.bottom,0);f?L=p-2*(N!==0||_!==0?N+_:ai(c.left,c.right)):k=m-2*(R!==0||M!==0?R+M:ai(c.top,c.bottom))}await l({...e,availableWidth:L,availableHeight:k});const E=await o.getDimensions(a.floating);return p!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function og(){return typeof window<"u"}function lu(t){return nN(t)?(t.nodeName||"").toLowerCase():"#document"}function mi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bs(t){var e;return(e=(nN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nN(t){return og()?t instanceof Node||t instanceof mi(t).Node:!1}function ts(t){return og()?t instanceof Element||t instanceof mi(t).Element:!1}function Ps(t){return og()?t instanceof HTMLElement||t instanceof mi(t).HTMLElement:!1}function dC(t){return!og()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mi(t).ShadowRoot}const y5=new Set(["inline","contents"]);function md(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!y5.has(i)}const b5=new Set(["table","td","th"]);function x5(t){return b5.has(lu(t))}const w5=[":popover-open",":modal"];function ag(t){return w5.some(e=>{try{return t.matches(e)}catch{return!1}})}const S5=["transform","translate","scale","rotate","perspective"],C5=["transform","translate","scale","rotate","perspective","filter"],k5=["paint","layout","strict","content"];function cw(t){const e=uw(),n=ts(t)?ns(t):t;return S5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||C5.some(r=>(n.willChange||"").includes(r))||k5.some(r=>(n.contain||"").includes(r))}function A5(t){let e=fa(t);for(;Ps(e)&&!Vc(e);){if(cw(e))return e;if(ag(e))return null;e=fa(e)}return null}function uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E5=new Set(["html","body","#document"]);function Vc(t){return E5.has(lu(t))}function ns(t){return mi(t).getComputedStyle(t)}function lg(t){return ts(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fa(t){if(lu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dC(t)&&t.host||Bs(t);return dC(e)?e.host:e}function rN(t){const e=fa(t);return Vc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ps(e)&&md(e)?e:rN(e)}function $h(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=rN(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=mi(i);if(s){const a=Dy(o);return e.concat(o,o.visualViewport||[],md(i)?i:[],a&&n?$h(a):[])}return e.concat(i,$h(i,[],n))}function Dy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iN(t){const e=ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ps(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Up(n)!==s||Up(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function hw(t){return ts(t)?t:t.contextElement}function vc(t){const e=hw(t);if(!Ps(e))return _s(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=iN(e);let o=(s?Up(n.width):n.width)/r,a=(s?Up(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const T5=_s(0);function sN(t){const e=mi(t);return!uw()||!e.visualViewport?T5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function M5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mi(t)?!1:e}function ul(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=hw(t);let o=_s(1);e&&(r?ts(r)&&(o=vc(r)):o=vc(t));const a=M5(s,n,r)?sN(s):_s(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(s){const d=mi(s),f=r&&ts(r)?mi(r):r;let p=d,m=Dy(p);for(;m&&r&&f!==p;){const g=vc(m),y=m.getBoundingClientRect(),b=ns(m),C=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,x=y.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,h*=g.y,l+=C,u+=x,p=mi(m),m=Dy(p)}}return Kp({width:c,height:h,x:l,y:u})}function dw(t,e){const n=lg(t).scrollLeft;return e?e.left+n:ul(Bs(t)).left+n}function oN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:dw(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function N5(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Bs(r),a=e?ag(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=_s(1);const c=_s(0),h=Ps(r);if((h||!h&&!s)&&((lu(r)!=="body"||md(o))&&(l=lg(r)),Ps(r))){const f=ul(r);u=vc(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}const d=o&&!h&&!s?oN(o,l,!0):_s(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function R5(t){return Array.from(t.getClientRects())}function L5(t){const e=Bs(t),n=lg(t),r=t.ownerDocument.body,i=ai(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ai(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+dw(t);const a=-n.scrollTop;return ns(r).direction==="rtl"&&(o+=ai(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function $5(t,e){const n=mi(t),r=Bs(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=uw();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const O5=new Set(["absolute","fixed"]);function _5(t,e){const n=ul(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ps(t)?vc(t):_s(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function fC(t,e,n){let r;if(e==="viewport")r=$5(t,n);else if(e==="document")r=L5(Bs(t));else if(ts(e))r=_5(e,n);else{const i=sN(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Kp(r)}function aN(t,e){const n=fa(t);return n===e||!ts(n)||Vc(n)?!1:ns(n).position==="fixed"||aN(n,e)}function j5(t,e){const n=e.get(t);if(n)return n;let r=$h(t,[],!1).filter(a=>ts(a)&&lu(a)!=="body"),i=null;const s=ns(t).position==="fixed";let o=s?fa(t):t;for(;ts(o)&&!Vc(o);){const a=ns(o),l=cw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&O5.has(i.position)||md(o)&&!l&&aN(t,o))?r=r.filter(c=>c!==o):i=a,o=fa(o)}return e.set(t,r),r}function D5(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?ag(e)?[]:j5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const h=fC(e,c,i);return u.top=ai(h.top,u.top),u.right=da(h.right,u.right),u.bottom=da(h.bottom,u.bottom),u.left=ai(h.left,u.left),u},fC(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function P5(t){const{width:e,height:n}=iN(t);return{width:e,height:n}}function I5(t,e,n){const r=Ps(e),i=Bs(e),s=n==="fixed",o=ul(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=_s(0);function u(){l.x=dw(i)}if(r||!r&&!s)if((lu(e)!=="body"||md(i))&&(a=lg(e)),r){const f=ul(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?oN(i,a):_s(0),h=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:h,y:d,width:o.width,height:o.height}}function _v(t){return ns(t).position==="static"}function pC(t,e){if(!Ps(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bs(t)===n&&(n=n.ownerDocument.body),n}function lN(t,e){const n=mi(t);if(ag(t))return n;if(!Ps(t)){let i=fa(t);for(;i&&!Vc(i);){if(ts(i)&&!_v(i))return i;i=fa(i)}return n}let r=pC(t,e);for(;r&&x5(r)&&_v(r);)r=pC(r,e);return r&&Vc(r)&&_v(r)&&!cw(r)?n:r||A5(t)||n}const F5=async function(t){const e=this.getOffsetParent||lN,n=this.getDimensions,r=await n(t.floating);return{reference:I5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B5(t){return ns(t).direction==="rtl"}const z5={convertOffsetParentRelativeRectToViewportRelativeRect:N5,getDocumentElement:Bs,getClippingRect:D5,getOffsetParent:lN,getElementRects:F5,getClientRects:R5,getDimensions:P5,getScale:vc,isElement:ts,isRTL:B5};function cN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function H5(t,e){let n=null,r;const i=Bs(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:h,width:d,height:f}=u;if(a||e(),!d||!f)return;const p=nf(h),m=nf(i.clientWidth-(c+d)),g=nf(i.clientHeight-(h+f)),y=nf(c),C={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:ai(0,da(1,l))||1};let x=!0;function S(w){const k=w[0].intersectionRatio;if(k!==l){if(!x)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!cN(u,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(S,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,C)}n.observe(t)}return o(!0),s}function W5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=hw(t),c=i||s?[...u?$h(u):[],...$h(e)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=u&&a?H5(u,n):null;let d=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=f)==null||C.observe(e)})),n()}),u&&!l&&f.observe(u),f.observe(e));let p,m=l?ul(t):null;l&&g();function g(){const y=ul(t);m&&!cN(m,y)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const U5=p5,V5=m5,K5=h5,G5=v5,q5=d5,mC=u5,Y5=g5,Q5=(t,e,n)=>{const r=new Map,i={platform:z5,...n},s={...i.platform,_c:r};return c5(t,e,{...i,platform:s})};var J5=typeof document<"u",X5=function(){},Jf=J5?j.useLayoutEffect:X5;function Gp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Gp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Gp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function uN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gC(t,e){const n=uN(t);return Math.round(e*n)/n}function jv(t){const e=j.useRef(t);return Jf(()=>{e.current=t}),e}function Z5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,h]=j.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=j.useState(r);Gp(d,r)||f(r);const[p,m]=j.useState(null),[g,y]=j.useState(null),b=j.useCallback(O=>{O!==w.current&&(w.current=O,m(O))},[]),C=j.useCallback(O=>{O!==k.current&&(k.current=O,y(O))},[]),x=s||p,S=o||g,w=j.useRef(null),k=j.useRef(null),L=j.useRef(c),E=l!=null,N=jv(l),_=jv(i),R=jv(u),M=j.useCallback(()=>{if(!w.current||!k.current)return;const O={placement:e,strategy:n,middleware:d};_.current&&(O.platform=_.current),Q5(w.current,k.current,O).then(P=>{const I={...P,isPositioned:R.current!==!1};T.current&&!Gp(L.current,I)&&(L.current=I,Ca.flushSync(()=>{h(I)}))})},[d,e,n,_,R]);Jf(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[u]);const T=j.useRef(!1);Jf(()=>(T.current=!0,()=>{T.current=!1}),[]),Jf(()=>{if(x&&(w.current=x),S&&(k.current=S),x&&S){if(N.current)return N.current(x,S,M);M()}},[x,S,M,N,E]);const A=j.useMemo(()=>({reference:w,floating:k,setReference:b,setFloating:C}),[b,C]),$=j.useMemo(()=>({reference:x,floating:S}),[x,S]),D=j.useMemo(()=>{const O={position:n,left:0,top:0};if(!$.floating)return O;const P=gC($.floating,c.x),I=gC($.floating,c.y);return a?{...O,transform:"translate("+P+"px, "+I+"px)",...uN($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:I}},[n,a,$.floating,c.x,c.y]);return j.useMemo(()=>({...c,update:M,refs:A,elements:$,floatingStyles:D}),[c,M,A,$,D])}const eB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mC({element:r.current,padding:i}).fn(n):{}:r?mC({element:r,padding:i}).fn(n):{}}}},tB=(t,e)=>({...U5(t),options:[t,e]}),nB=(t,e)=>({...V5(t),options:[t,e]}),rB=(t,e)=>({...Y5(t),options:[t,e]}),iB=(t,e)=>({...K5(t),options:[t,e]}),sB=(t,e)=>({...G5(t),options:[t,e]}),oB=(t,e)=>({...q5(t),options:[t,e]}),aB=(t,e)=>({...eB(t),options:[t,e]});var lB="Arrow",hN=j.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return v.jsx(dt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});hN.displayName=lB;var cB=hN;function dN(t){const[e,n]=j.useState(void 0);return ar(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fw="Popper",[fN,cg]=Fs(fw),[uB,pN]=fN(fw),mN=t=>{const{__scopePopper:e,children:n}=t,[r,i]=j.useState(null);return v.jsx(uB,{scope:e,anchor:r,onAnchorChange:i,children:n})};mN.displayName=fw;var gN="PopperAnchor",vN=j.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=pN(gN,n),o=j.useRef(null),a=Vt(e,o);return j.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.jsx(dt.div,{...i,ref:a})});vN.displayName=gN;var pw="PopperContent",[hB,dB]=fN(pw),yN=j.forwardRef((t,e)=>{var Q,ee,re,ae,be,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,...m}=t,g=pN(pw,n),[y,b]=j.useState(null),C=Vt(e,Le=>b(Le)),[x,S]=j.useState(null),w=dN(x),k=(w==null?void 0:w.width)??0,L=(w==null?void 0:w.height)??0,E=r+(s!=="center"?"-"+s:""),N=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},_=Array.isArray(u)?u:[u],R=_.length>0,M={padding:N,boundary:_.filter(pB),altBoundary:R},{refs:T,floatingStyles:A,placement:$,isPositioned:D,middlewareData:O}=Z5({strategy:"fixed",placement:E,whileElementsMounted:(...Le)=>W5(...Le,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[tB({mainAxis:i+L,alignmentAxis:o}),l&&nB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?rB():void 0,...M}),l&&iB({...M}),sB({...M,apply:({elements:Le,rects:He,availableWidth:Ue,availableHeight:yt})=>{const{width:Gt,height:bt}=He.reference,Mn=Le.floating.style;Mn.setProperty("--radix-popper-available-width",`${Ue}px`),Mn.setProperty("--radix-popper-available-height",`${yt}px`),Mn.setProperty("--radix-popper-anchor-width",`${Gt}px`),Mn.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),x&&aB({element:x,padding:a}),mB({arrowWidth:k,arrowHeight:L}),d&&oB({strategy:"referenceHidden",...M})]}),[P,I]=wN($),B=ji(p);ar(()=>{D&&(B==null||B())},[D,B]);const Y=(Q=O.arrow)==null?void 0:Q.x,H=(ee=O.arrow)==null?void 0:ee.y,U=((re=O.arrow)==null?void 0:re.centerOffset)!==0,[q,K]=j.useState();return ar(()=>{y&&K(window.getComputedStyle(y).zIndex)},[y]),v.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:D?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ae=O.transformOrigin)==null?void 0:ae.x,(be=O.transformOrigin)==null?void 0:be.y].join(" "),...((Ae=O.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(hB,{scope:n,placedSide:P,onArrowChange:S,arrowX:Y,arrowY:H,shouldHideArrow:U,children:v.jsx(dt.div,{"data-side":P,"data-align":I,...m,ref:C,style:{...m.style,animation:D?void 0:"none"}})})})});yN.displayName=pw;var bN="PopperArrow",fB={top:"bottom",right:"left",bottom:"top",left:"right"},xN=j.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=dB(bN,r),o=fB[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(cB,{...i,ref:n,style:{...i.style,display:"block"}})})});xN.displayName=bN;function pB(t){return t!==null}var mB=t=>({name:"transformOrigin",options:t,fn(e){var g,y,b;const{placement:n,rects:r,middlewareData:i}=e,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,c]=wN(n),h={start:"0%",center:"50%",end:"100%"}[c],d=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let p="",m="";return u==="bottom"?(p=o?h:`${d}px`,m=`${-l}px`):u==="top"?(p=o?h:`${d}px`,m=`${r.floating.height+l}px`):u==="right"?(p=`${-l}px`,m=o?h:`${f}px`):u==="left"&&(p=`${r.floating.width+l}px`,m=o?h:`${f}px`),{data:{x:p,y:m}}}});function wN(t){const[e,n="center"]=t.split("-");return[e,n]}var gB=mN,SN=vN,CN=yN,kN=xN,[ug,mX]=Fs("Tooltip",[cg]),mw=cg(),AN="TooltipProvider",vB=700,vC="tooltip.open",[yB,EN]=ug(AN),TN=t=>{const{__scopeTooltip:e,delayDuration:n=vB,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=j.useRef(!0),a=j.useRef(!1),l=j.useRef(0);return j.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),v.jsx(yB,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:j.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};TN.displayName=AN;var MN="Tooltip",[gX,hg]=ug(MN),Py="TooltipTrigger",bB=j.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=hg(Py,n),s=EN(Py,n),o=mw(n),a=j.useRef(null),l=Vt(e,a,i.onTriggerChange),u=j.useRef(!1),c=j.useRef(!1),h=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),v.jsx(SN,{asChild:!0,...o,children:v.jsx(dt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Je(t.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:Je(t.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:Je(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Je(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Je(t.onBlur,i.onClose),onClick:Je(t.onClick,i.onClose)})})});bB.displayName=Py;var xB="TooltipPortal",[vX,wB]=ug(xB,{forceMount:void 0}),Kc="TooltipContent",NN=j.forwardRef((t,e)=>{const n=wB(Kc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=hg(Kc,t.__scopeTooltip);return v.jsx(Al,{present:r||o.open,children:o.disableHoverableContent?v.jsx(RN,{side:i,...s,ref:e}):v.jsx(SB,{side:i,...s,ref:e})})}),SB=j.forwardRef((t,e)=>{const n=hg(Kc,t.__scopeTooltip),r=EN(Kc,t.__scopeTooltip),i=j.useRef(null),s=Vt(e,i),[o,a]=j.useState(null),{trigger:l,onClose:u}=n,c=i.current,{onPointerInTransitChange:h}=r,d=j.useCallback(()=>{a(null),h(!1)},[h]),f=j.useCallback((p,m)=>{const g=p.currentTarget,y={x:p.clientX,y:p.clientY},b=TB(y,g.getBoundingClientRect()),C=MB(y,b),x=NB(m.getBoundingClientRect()),S=LB([...C,...x]);a(S),h(!0)},[h]);return j.useEffect(()=>()=>d(),[d]),j.useEffect(()=>{if(l&&c){const p=g=>f(g,c),m=g=>f(g,l);return l.addEventListener("pointerleave",p),c.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",p),c.removeEventListener("pointerleave",m)}}},[l,c,f,d]),j.useEffect(()=>{if(o){const p=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},b=(l==null?void 0:l.contains(g))||(c==null?void 0:c.contains(g)),C=!RB(y,o);b?d():C&&(d(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,c,o,u,d]),v.jsx(RN,{...t,ref:s})}),[CB,kB]=ug(MN,{isInside:!1}),AB=Z4("TooltipContent"),RN=j.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=hg(Kc,n),u=mw(n),{onClose:c}=l;return j.useEffect(()=>(document.addEventListener(vC,c),()=>document.removeEventListener(vC,c)),[c]),j.useEffect(()=>{if(l.trigger){const h=d=>{const f=d.target;f!=null&&f.contains(l.trigger)&&c()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,c]),v.jsx(dd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:c,children:v.jsxs(CN,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(AB,{children:r}),v.jsx(CB,{scope:n,isInside:!0,children:v.jsx(w3,{id:l.contentId,role:"tooltip",children:i||r})})]})})});NN.displayName=Kc;var LN="TooltipArrow",EB=j.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=mw(n);return kB(LN,n).isInside?null:v.jsx(kN,{...i,...r,ref:e})});EB.displayName=LN;function TB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function NB(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function RB(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],u=a.x,c=a.y,h=l.x,d=l.y;c>r!=d>r&&n<(h-u)*(r-c)/(d-c)+u&&(i=!i)}return i}function LB(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$B(e)}function $B(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var OB=TN,$N=NN;const _B=OB,jB=j.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx($N,{ref:r,sideOffset:e,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));jB.displayName=$N.displayName;const ON=[{id:"reqnest",name:"ReqNest",description:"Build, send, and save HTTP API requests with collections and environment variables.",icon:IM,route:"/reqnest",color:"bg-blue-500",status:"ready"},{id:"spec-craft",name:"SpecCraft",description:"OpenAPI editor with live preview, validation, and cURL generation for all endpoints.",icon:BM,route:"/spec-craft",color:"bg-emerald-500",status:"ready"},{id:"token-peek",name:"Token Peek",description:"JWT toolkit: decode, edit, and validate JWT tokens. Supports editing header/payload, signature validation, and developer-friendly features.",icon:rF,route:"/token-peek",color:"bg-amber-500",status:"ready"},{id:"code-beautifier",name:"Code Beautifier",description:"Beautify or minify JSON, YAML, XML, or plain text. Upload, download, and copy with ease.",icon:Wp,route:"/code-beautifier",color:"bg-cyan-500",status:"ready"},{id:"data-morph",name:"DataMorph",description:"Convert between CSV and JSON formats with side-by-side preview.",icon:Hp,route:"/data-morph",color:"bg-orange-500",status:"ready"},{id:"time-flip",name:"TimeFlip",description:"Convert Unix timestamps to human-readable dates and vice versa.",icon:Bp,route:"/time-flip",color:"bg-teal-500",status:"ready"},{id:"mock-wizard",name:"MockWizard",description:"Generate realistic mock data from JSON schemas using Faker.js.",icon:Wp,route:"/mock-wizard",color:"bg-violet-500",status:"ready"},{id:"throttle-viz",name:"ThrottleViz",description:"Visualize API rate limiting strategies with real-time simulations.",icon:eF,route:"/throttle-viz",color:"bg-red-500",status:"ready"},{id:"flow-trace",name:"FlowTrace",description:"Generate PlantUML sequence diagrams from Java method call chains.",icon:PM,route:"/flow-trace",color:"bg-pink-500",status:"ready"}];function DB(){const[t]=o4(),[e,n]=j.useState(!1),r=o=>t===o||o==="/"&&t==="/",s=!(t==="/")&&!e;return v.jsxs("div",{className:`sidebar-gradient border-r border-border flex flex-col transition-all duration-300 ${s?"w-16":"w-64"}`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[v.jsx("div",{className:"p-4 border-b border-border",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"sidebar-logo-square",children:v.jsx(fF,{className:"w-10 h-10 text-white"})}),!s&&v.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent",children:"DevToolNest"})]})}),v.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[v.jsx(ky,{href:"/",children:v.jsxs("a",{className:tt("nav-item group",r("/")&&"active",s?"justify-center":"flex flex-row items-center gap-x-2"),style:{minHeight:"2.5rem",transition:"min-height 0.2s"},children:[v.jsx("div",{className:tt(r("/")?"w-10 h-10 rounded-xl shadow-md -translate-y-0.5 z-10 bg-gradient-blue ring-2 ring-primary border border-border transition-all duration-200":"w-10 h-10 rounded-xl bg-gradient-emerald flex items-center justify-center transition-all duration-200"),children:v.jsx(nF,{className:(r("/"),"w-8 h-8 text-white")})}),!s&&v.jsx("span",{className:"font-medium text-base truncate",children:"Home"})]})}),ON.map((o,a)=>{const l=["bg-gradient-blue","bg-gradient-purple","bg-gradient-emerald","bg-gradient-amber","bg-gradient-rose","bg-gradient-indigo","bg-gradient-cyan","bg-gradient-orange","bg-gradient-teal","bg-gradient-purple","bg-gradient-emerald","bg-gradient-amber"],u=r(o.route);return v.jsx(ky,{href:o.route,children:v.jsxs("a",{className:tt("nav-item group",u&&"active",s?"justify-center":"flex flex-row items-center gap-x-2"),style:{minHeight:"2.5rem",transition:"min-height 0.2s"},children:[v.jsx("div",{className:tt(u?`w-10 h-10 rounded-xl shadow-md -translate-y-0.5 z-10 ${l[a%l.length]} ring-2 ring-primary border border-border transition-all duration-200`:`w-10 h-10 rounded-xl ${l[a%l.length]} flex items-center justify-center transition-all duration-200`),children:v.jsx(o.icon,{className:"w-8 h-8 text-white"})}),!s&&v.jsx("span",{className:"font-medium text-base truncate",children:o.name})]})},o.id)})]})]})}const PB=sg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=j.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?J4:"button";return v.jsx(o,{className:tt(PB({variant:e,size:n,className:t})),ref:s,...i})});pe.displayName="Button";function zs({title:t,subtitle:e,right:n}){return v.jsx("header",{className:"glass-effect border-b border-border p-4 backdrop-blur",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent",children:t}),e&&v.jsx("p",{className:"text-muted-foreground mt-1",children:e})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[n,v.jsx(pe,{variant:"ghost",size:"sm",className:"hover:bg-primary/10",children:v.jsx(W3,{className:"w-4 h-4"})}),v.jsx(pe,{variant:"ghost",size:"sm",className:"hover:bg-primary/10",children:v.jsx(zM,{className:"w-4 h-4"})})]})]})})}const _t=j.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));_t.displayName="Card";const nn=j.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("flex flex-col space-y-1.5 p-6",t),...e}));nn.displayName="CardHeader";const ln=j.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("text-2xl font-semibold leading-none tracking-tight",t),...e}));ln.displayName="CardTitle";const IB=j.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("text-sm text-muted-foreground",t),...e}));IB.displayName="CardDescription";const Bt=j.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("p-6 pt-0",t),...e}));Bt.displayName="CardContent";const FB=j.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("flex items-center p-6 pt-0",t),...e}));FB.displayName="CardFooter";const BB=sg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mr({className:t,variant:e,...n}){return v.jsx("div",{className:tt(BB({variant:e}),t),...n})}function zB(){return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"Developer Tools Suite",subtitle:"Professional tools for modern developers"}),v.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent animate-gradient-x",children:"DevToolNest"}),v.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"A comprehensive suite of professional developer tools built for efficiency and productivity. Everything you need in one unified platform."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ON.map((t,e)=>{const n=["bg-gradient-blue","bg-gradient-purple","bg-gradient-emerald","bg-gradient-amber","bg-gradient-rose","bg-gradient-indigo","bg-gradient-cyan","bg-gradient-orange","bg-gradient-teal","bg-gradient-purple","bg-gradient-emerald","bg-gradient-amber"];return v.jsx(ky,{href:t.route,children:v.jsx(_t,{className:"tool-card h-full animate-float",style:{animationDelay:`${e*.1}s`},children:v.jsxs(Bt,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("div",{className:`w-12 h-12 ${n[e%n.length]} rounded-lg flex items-center justify-center shadow-lg animate-pulse-glow`,children:v.jsx(t.icon,{className:"w-6 h-6 text-white"})}),v.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t.name})]}),v.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:t.description}),v.jsxs("div",{className:"flex items-center text-xs",children:[v.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),v.jsx(Mr,{variant:"secondary",className:"text-xs animate-shimmer",children:t.status==="ready"?"Ready to use":t.status})]})]})})},t.id)})}),v.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"stats-card glass-effect animate-float",style:{animationDelay:"0.2s"},children:[v.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent mb-2",children:"10"}),v.jsx("div",{className:"text-muted-foreground",children:"Professional Tools"})]}),v.jsxs("div",{className:"stats-card glass-effect animate-float",style:{animationDelay:"0.4s"},children:[v.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-green-500 to-emerald-500 bg-clip-text text-transparent mb-2",children:"100%"}),v.jsx("div",{className:"text-muted-foreground",children:"Client-Side Processing"})]}),v.jsxs("div",{className:"stats-card glass-effect animate-float",style:{animationDelay:"0.6s"},children:[v.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent mb-2",children:"∞"}),v.jsx("div",{className:"text-muted-foreground",children:"Usage Limit"})]})]})]})]})}const ct=j.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ct.displayName="Input";const rr=j.forwardRef(({className:t,...e},n)=>v.jsx("textarea",{className:tt("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));rr.displayName="Textarea";function qp(t,[e,n]){return Math.min(n,Math.max(e,t))}var HB=j.createContext(void 0);function dg(t){const e=j.useContext(HB);return t||e||"ltr"}var Dv=0;function _N(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yC()),document.body.insertAdjacentElement("beforeend",t[1]??yC()),Dv++,()=>{Dv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Dv--}},[])}function yC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pv="focusScope.autoFocusOnMount",Iv="focusScope.autoFocusOnUnmount",bC={bubbles:!1,cancelable:!0},WB="FocusScope",gw=j.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=j.useState(null),u=ji(i),c=ji(s),h=j.useRef(null),d=Vt(e,m=>l(m)),f=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let m=function(C){if(f.paused||!a)return;const x=C.target;a.contains(x)?h.current=x:No(h.current,{select:!0})},g=function(C){if(f.paused||!a)return;const x=C.relatedTarget;x!==null&&(a.contains(x)||No(h.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const S of C)S.removedNodes.length>0&&No(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(y);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[r,a,f.paused]),j.useEffect(()=>{if(a){wC.add(f);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(Pv,bC);a.addEventListener(Pv,u),a.dispatchEvent(y),y.defaultPrevented||(UB(YB(jN(a)),{select:!0}),document.activeElement===m&&No(a))}return()=>{a.removeEventListener(Pv,u),setTimeout(()=>{const y=new CustomEvent(Iv,bC);a.addEventListener(Iv,c),a.dispatchEvent(y),y.defaultPrevented||No(m??document.body,{select:!0}),a.removeEventListener(Iv,c),wC.remove(f)},0)}}},[a,u,c,f]);const p=j.useCallback(m=>{if(!n&&!r||f.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const b=m.currentTarget,[C,x]=VB(b);C&&x?!m.shiftKey&&y===x?(m.preventDefault(),n&&No(C,{select:!0})):m.shiftKey&&y===C&&(m.preventDefault(),n&&No(x,{select:!0})):y===b&&m.preventDefault()}},[n,r,f.paused]);return v.jsx(dt.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});gw.displayName=WB;function UB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(No(r,{select:e}),document.activeElement!==n)return}function VB(t){const e=jN(t),n=xC(e,t),r=xC(e.reverse(),t);return[n,r]}function jN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xC(t,e){for(const n of t)if(!KB(n,{upTo:e}))return n}function KB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function GB(t){return t instanceof HTMLInputElement&&"select"in t}function No(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&GB(t)&&e&&t.select()}}var wC=qB();function qB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=SC(t,e),t.unshift(e)},remove(e){var n;t=SC(t,e),(n=t[0])==null||n.resume()}}}function SC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function YB(t){return t.filter(e=>e.tagName!=="A")}function DN(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var QB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ol=new WeakMap,rf=new WeakMap,sf={},Fv=0,PN=function(t){return t&&(t.host||PN(t.parentNode))},JB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=PN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},XB=function(t,e,n,r){var i=JB(e,Array.isArray(t)?t:[t]);sf[n]||(sf[n]=new WeakMap);var s=sf[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var c=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))c(d);else try{var f=d.getAttribute(r),p=f!==null&&f!=="false",m=(Ol.get(d)||0)+1,g=(s.get(d)||0)+1;Ol.set(d,m),s.set(d,g),o.push(d),m===1&&p&&rf.set(d,!0),g===1&&d.setAttribute(n,"true"),p||d.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",d,y)}})};return c(e),a.clear(),Fv++,function(){o.forEach(function(h){var d=Ol.get(h)-1,f=s.get(h)-1;Ol.set(h,d),s.set(h,f),d||(rf.has(h)||h.removeAttribute(r),rf.delete(h)),f||h.removeAttribute(n)}),Fv--,Fv||(Ol=new WeakMap,Ol=new WeakMap,rf=new WeakMap,sf={})}},IN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=QB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),XB(r,i,n,"aria-hidden")):function(){return null}},ks=function(){return ks=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ks.apply(this,arguments)};function FN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Xf="right-scroll-bar-position",Zf="width-before-scroll-bar",ez="with-scroll-bars-hidden",tz="--removed-body-scroll-bar-size";function Bv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nz(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var rz=typeof window<"u"?j.useLayoutEffect:j.useEffect,CC=new WeakMap;function iz(t,e){var n=nz(null,function(r){return t.forEach(function(i){return Bv(i,r)})});return rz(function(){var r=CC.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Bv(a,null)}),s.forEach(function(a){i.has(a)||Bv(a,o)})}CC.set(n,t)},[t]),n}function sz(t){return t}function oz(t,e){e===void 0&&(e=sz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var c=o;o=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return i}function az(t){t===void 0&&(t={});var e=oz(null);return e.options=ks({async:!0,ssr:!1},t),e}var BN=function(t){var e=t.sideCar,n=FN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,ks({},n))};BN.isSideCarExport=!0;function lz(t,e){return t.useMedium(e),BN}var zN=az(),zv=function(){},fg=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:zv,onWheelCapture:zv,onTouchMoveCapture:zv}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,h=t.shards,d=t.sideCar,f=t.noRelative,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,C=t.gapMode,x=FN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,w=iz([n,e]),k=ks(ks({},x),i);return j.createElement(j.Fragment,null,c&&j.createElement(S,{sideCar:zN,removeScrollBar:u,shards:h,noRelative:f,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:C}),o?j.cloneElement(j.Children.only(a),ks(ks({},k),{ref:w})):j.createElement(b,ks({},k,{className:l,ref:w}),a))});fg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fg.classNames={fullWidth:Zf,zeroRight:Xf};var cz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cz();return e&&t.setAttribute("nonce",e),t}function hz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function dz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var fz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=uz())&&(hz(e,n),dz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pz=function(){var t=fz();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},HN=function(){var t=pz(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},mz={left:0,top:0,right:0,gap:0},Hv=function(t){return parseInt(t||"",10)||0},gz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Hv(n),Hv(r),Hv(i)]},vz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mz;var e=gz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},yz=HN(),yc="data-scroll-locked",bz=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ez,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(yc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xf," .").concat(Xf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zf," .").concat(Zf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yc,`] {
    `).concat(tz,": ").concat(a,`px;
  }
`)},kC=function(){var t=parseInt(document.body.getAttribute(yc)||"0",10);return isFinite(t)?t:0},xz=function(){j.useEffect(function(){return document.body.setAttribute(yc,(kC()+1).toString()),function(){var t=kC()-1;t<=0?document.body.removeAttribute(yc):document.body.setAttribute(yc,t.toString())}},[])},wz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;xz();var s=j.useMemo(function(){return vz(i)},[i]);return j.createElement(yz,{styles:bz(s,!e,i,n?"":"!important")})},Iy=!1;if(typeof window<"u")try{var of=Object.defineProperty({},"passive",{get:function(){return Iy=!0,!0}});window.addEventListener("test",of,of),window.removeEventListener("test",of,of)}catch{Iy=!1}var _l=Iy?{passive:!1}:!1,Sz=function(t){return t.tagName==="TEXTAREA"},WN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Sz(t)&&n[e]==="visible")},Cz=function(t){return WN(t,"overflowY")},kz=function(t){return WN(t,"overflowX")},AC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UN(t,r);if(i){var s=VN(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Az=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ez=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},UN=function(t,e){return t==="v"?Cz(e):kz(e)},VN=function(t,e){return t==="v"?Az(e):Ez(e)},Tz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Mz=function(t,e,n,r,i){var s=Tz(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,c=o>0,h=0,d=0;do{if(!a)break;var f=VN(t,a),p=f[0],m=f[1],g=f[2],y=m-g-s*p;(p||y)&&UN(t,a)&&(h+=y,d+=p);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&Math.abs(h)<1||!c&&Math.abs(d)<1)&&(u=!0),u},af=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},EC=function(t){return[t.deltaX,t.deltaY]},TC=function(t){return t&&"current"in t?t.current:t},Nz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Rz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Lz=0,jl=[];function $z(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(Lz++)[0],s=j.useState(HN)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=ZB([t.lockRef.current],(t.shards||[]).map(TC),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=j.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=af(m),b=n.current,C="deltaX"in m?m.deltaX:b[0]-y[0],x="deltaY"in m?m.deltaY:b[1]-y[1],S,w=m.target,k=Math.abs(C)>Math.abs(x)?"h":"v";if("touches"in m&&k==="h"&&w.type==="range")return!1;var L=AC(k,w);if(!L)return!0;if(L?S=k:(S=k==="v"?"h":"v",L=AC(k,w)),!L)return!1;if(!r.current&&"changedTouches"in m&&(C||x)&&(r.current=S),!S)return!0;var E=r.current||S;return Mz(E,g,m,E==="h"?C:x)},[]),l=j.useCallback(function(m){var g=m;if(!(!jl.length||jl[jl.length-1]!==s)){var y="deltaY"in g?EC(g):af(g),b=e.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&Nz(S.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var C=(o.current.shards||[]).map(TC).filter(Boolean).filter(function(S){return S.contains(g.target)}),x=C.length>0?a(g,C[0]):!o.current.noIsolation;x&&g.cancelable&&g.preventDefault()}}},[]),u=j.useCallback(function(m,g,y,b){var C={name:m,delta:g,target:y,should:b,shadowParent:Oz(y)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(x){return x!==C})},1)},[]),c=j.useCallback(function(m){n.current=af(m),r.current=void 0},[]),h=j.useCallback(function(m){u(m.type,EC(m),m.target,a(m,t.lockRef.current))},[]),d=j.useCallback(function(m){u(m.type,af(m),m.target,a(m,t.lockRef.current))},[]);j.useEffect(function(){return jl.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,_l),document.addEventListener("touchmove",l,_l),document.addEventListener("touchstart",c,_l),function(){jl=jl.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,_l),document.removeEventListener("touchmove",l,_l),document.removeEventListener("touchstart",c,_l)}},[]);var f=t.removeScrollBar,p=t.inert;return j.createElement(j.Fragment,null,p?j.createElement(s,{styles:Rz(i)}):null,f?j.createElement(wz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Oz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _z=lz(zN,$z);var vw=j.forwardRef(function(t,e){return j.createElement(fg,ks({},t,{ref:e,sideCar:_z}))});vw.classNames=fg.classNames;var jz=[" ","Enter","ArrowUp","ArrowDown"],Dz=[" ","Enter"],hl="Select",[pg,mg,Pz]=tg(hl),[cu,yX]=Fs(hl,[Pz,cg]),gg=cg(),[Iz,ka]=cu(hl),[Fz,Bz]=cu(hl),KN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:u,name:c,autoComplete:h,disabled:d,required:f,form:p}=t,m=gg(e),[g,y]=j.useState(null),[b,C]=j.useState(null),[x,S]=j.useState(!1),w=dg(u),[k,L]=cl({prop:r,defaultProp:i??!1,onChange:s,caller:hl}),[E,N]=cl({prop:o,defaultProp:a,onChange:l,caller:hl}),_=j.useRef(null),R=g?p||!!g.closest("form"):!0,[M,T]=j.useState(new Set),A=Array.from(M).map($=>$.props.value).join(";");return v.jsx(gB,{...m,children:v.jsxs(Iz,{required:f,scope:e,trigger:g,onTriggerChange:y,valueNode:b,onValueNodeChange:C,valueNodeHasChildren:x,onValueNodeHasChildrenChange:S,contentId:aa(),value:E,onValueChange:N,open:k,onOpenChange:L,dir:w,triggerPointerDownPosRef:_,disabled:d,children:[v.jsx(pg.Provider,{scope:e,children:v.jsx(Fz,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback($=>{T(D=>new Set(D).add($))},[]),onNativeOptionRemove:j.useCallback($=>{T(D=>{const O=new Set(D);return O.delete($),O})},[]),children:n})}),R?v.jsxs(gR,{"aria-hidden":!0,required:f,tabIndex:-1,name:c,autoComplete:h,value:E,onChange:$=>N($.target.value),disabled:d,form:p,children:[E===void 0?v.jsx("option",{value:""}):null,Array.from(M)]},A):null]})})};KN.displayName=hl;var GN="SelectTrigger",qN=j.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=gg(n),o=ka(GN,n),a=o.disabled||r,l=Vt(e,o.onTriggerChange),u=mg(n),c=j.useRef("touch"),[h,d,f]=yR(m=>{const g=u().filter(C=>!C.disabled),y=g.find(C=>C.value===o.value),b=bR(g,m,y);b!==void 0&&o.onValueChange(b.value)}),p=m=>{a||(o.onOpenChange(!0),f()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return v.jsx(SN,{asChild:!0,...s,children:v.jsx(dt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":vR(o.value)?"":void 0,...i,ref:l,onClick:Je(i.onClick,m=>{m.currentTarget.focus(),c.current!=="mouse"&&p(m)}),onPointerDown:Je(i.onPointerDown,m=>{c.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(p(m),m.preventDefault())}),onKeyDown:Je(i.onKeyDown,m=>{const g=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&d(m.key),!(g&&m.key===" ")&&jz.includes(m.key)&&(p(),m.preventDefault())})})})});qN.displayName=GN;var YN="SelectValue",QN=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=ka(YN,n),{onValueNodeHasChildrenChange:u}=l,c=s!==void 0,h=Vt(e,l.onValueNodeChange);return ar(()=>{u(c)},[u,c]),v.jsx(dt.span,{...a,ref:h,style:{pointerEvents:"none"},children:vR(l.value)?v.jsx(v.Fragment,{children:o}):s})});QN.displayName=YN;var zz="SelectIcon",JN=j.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return v.jsx(dt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});JN.displayName=zz;var Hz="SelectPortal",XN=t=>v.jsx(ng,{asChild:!0,...t});XN.displayName=Hz;var dl="SelectContent",ZN=j.forwardRef((t,e)=>{const n=ka(dl,t.__scopeSelect),[r,i]=j.useState();if(ar(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ca.createPortal(v.jsx(eR,{scope:t.__scopeSelect,children:v.jsx(pg.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),s):null}return v.jsx(tR,{...t,ref:e})});ZN.displayName=dl;var Bi=10,[eR,Aa]=cu(dl),Wz="SelectContentImpl",Uz=Uc("SelectContent.RemoveScroll"),tR=j.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g,...y}=t,b=ka(dl,n),[C,x]=j.useState(null),[S,w]=j.useState(null),k=Vt(e,Q=>x(Q)),[L,E]=j.useState(null),[N,_]=j.useState(null),R=mg(n),[M,T]=j.useState(!1),A=j.useRef(!1);j.useEffect(()=>{if(C)return IN(C)},[C]),_N();const $=j.useCallback(Q=>{const[ee,...re]=R().map(Ae=>Ae.ref.current),[ae]=re.slice(-1),be=document.activeElement;for(const Ae of Q)if(Ae===be||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===ee&&S&&(S.scrollTop=0),Ae===ae&&S&&(S.scrollTop=S.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==be))return},[R,S]),D=j.useCallback(()=>$([L,C]),[$,L,C]);j.useEffect(()=>{M&&D()},[M,D]);const{onOpenChange:O,triggerPointerDownPosRef:P}=b;j.useEffect(()=>{if(C){let Q={x:0,y:0};const ee=ae=>{var be,Ae;Q={x:Math.abs(Math.round(ae.pageX)-(((be=P.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((Ae=P.current)==null?void 0:Ae.y)??0))}},re=ae=>{Q.x<=10&&Q.y<=10?ae.preventDefault():C.contains(ae.target)||O(!1),document.removeEventListener("pointermove",ee),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",re,{capture:!0})}}},[C,O,P]),j.useEffect(()=>{const Q=()=>O(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[O]);const[I,B]=yR(Q=>{const ee=R().filter(be=>!be.disabled),re=ee.find(be=>be.ref.current===document.activeElement),ae=bR(ee,Q,re);ae&&setTimeout(()=>ae.ref.current.focus())}),Y=j.useCallback((Q,ee,re)=>{const ae=!A.current&&!re;(b.value!==void 0&&b.value===ee||ae)&&(E(Q),ae&&(A.current=!0))},[b.value]),H=j.useCallback(()=>C==null?void 0:C.focus(),[C]),U=j.useCallback((Q,ee,re)=>{const ae=!A.current&&!re;(b.value!==void 0&&b.value===ee||ae)&&_(Q)},[b.value]),q=r==="popper"?Fy:nR,K=q===Fy?{side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g}:{};return v.jsx(eR,{scope:n,content:C,viewport:S,onViewportChange:w,itemRefCallback:Y,selectedItem:L,onItemLeave:H,itemTextRefCallback:U,focusSelectedItem:D,selectedItemText:N,position:r,isPositioned:M,searchRef:I,children:v.jsx(vw,{as:Uz,allowPinchZoom:!0,children:v.jsx(gw,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Je(i,Q=>{var ee;(ee=b.trigger)==null||ee.focus({preventScroll:!0}),Q.preventDefault()}),children:v.jsx(dd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:v.jsx(q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),...y,...K,onPlaced:()=>T(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Je(y.onKeyDown,Q=>{const ee=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ee&&Q.key.length===1&&B(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ae=R().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const be=Q.target,Ae=ae.indexOf(be);ae=ae.slice(Ae+1)}setTimeout(()=>$(ae)),Q.preventDefault()}})})})})})})});tR.displayName=Wz;var Vz="SelectItemAlignedPosition",nR=j.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ka(dl,n),o=Aa(dl,n),[a,l]=j.useState(null),[u,c]=j.useState(null),h=Vt(e,k=>c(k)),d=mg(n),f=j.useRef(!1),p=j.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=o,C=j.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&m&&g&&y){const k=s.trigger.getBoundingClientRect(),L=u.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),N=y.getBoundingClientRect();if(s.dir!=="rtl"){const be=N.left-L.left,Ae=E.left-be,Le=k.left-Ae,He=k.width+Le,Ue=Math.max(He,L.width),yt=window.innerWidth-Bi,Gt=qp(Ae,[Bi,Math.max(Bi,yt-Ue)]);a.style.minWidth=He+"px",a.style.left=Gt+"px"}else{const be=L.right-N.right,Ae=window.innerWidth-E.right-be,Le=window.innerWidth-k.right-Ae,He=k.width+Le,Ue=Math.max(He,L.width),yt=window.innerWidth-Bi,Gt=qp(Ae,[Bi,Math.max(Bi,yt-Ue)]);a.style.minWidth=He+"px",a.style.right=Gt+"px"}const _=d(),R=window.innerHeight-Bi*2,M=m.scrollHeight,T=window.getComputedStyle(u),A=parseInt(T.borderTopWidth,10),$=parseInt(T.paddingTop,10),D=parseInt(T.borderBottomWidth,10),O=parseInt(T.paddingBottom,10),P=A+$+M+O+D,I=Math.min(g.offsetHeight*5,P),B=window.getComputedStyle(m),Y=parseInt(B.paddingTop,10),H=parseInt(B.paddingBottom,10),U=k.top+k.height/2-Bi,q=R-U,K=g.offsetHeight/2,Q=g.offsetTop+K,ee=A+$+Q,re=P-ee;if(ee<=U){const be=_.length>0&&g===_[_.length-1].ref.current;a.style.bottom="0px";const Ae=u.clientHeight-m.offsetTop-m.offsetHeight,Le=Math.max(q,K+(be?H:0)+Ae+D),He=ee+Le;a.style.height=He+"px"}else{const be=_.length>0&&g===_[0].ref.current;a.style.top="0px";const Le=Math.max(U,A+m.offsetTop+(be?Y:0)+K)+re;a.style.height=Le+"px",m.scrollTop=ee-U+m.offsetTop}a.style.margin=`${Bi}px 0`,a.style.minHeight=I+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[d,s.trigger,s.valueNode,a,u,m,g,y,s.dir,r]);ar(()=>C(),[C]);const[x,S]=j.useState();ar(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const w=j.useCallback(k=>{k&&p.current===!0&&(C(),b==null||b(),p.current=!1)},[C,b]);return v.jsx(Gz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:w,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:v.jsx(dt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nR.displayName=Vz;var Kz="SelectPopperPosition",Fy=j.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Bi,...s}=t,o=gg(n);return v.jsx(CN,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fy.displayName=Kz;var[Gz,yw]=cu(dl,{}),By="SelectViewport",rR=j.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Aa(By,n),o=yw(By,n),a=Vt(e,s.onViewportChange),l=j.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(pg.Slot,{scope:n,children:v.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,u=>{const c=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&h){const f=Math.abs(l.current-c.scrollTop);if(f>0){const p=window.innerHeight-Bi*2,m=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(m,g);if(y<p){const b=y+f,C=Math.min(p,b),x=b-C;h.style.height=C+"px",h.style.bottom==="0px"&&(c.scrollTop=x>0?x:0,h.style.justifyContent="flex-end")}}}l.current=c.scrollTop})})})]})});rR.displayName=By;var iR="SelectGroup",[qz,Yz]=cu(iR),Qz=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=aa();return v.jsx(qz,{scope:n,id:i,children:v.jsx(dt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Qz.displayName=iR;var sR="SelectLabel",oR=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yz(sR,n);return v.jsx(dt.div,{id:i.id,...r,ref:e})});oR.displayName=sR;var Yp="SelectItem",[Jz,aR]=cu(Yp),lR=j.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=ka(Yp,n),l=Aa(Yp,n),u=a.value===r,[c,h]=j.useState(s??""),[d,f]=j.useState(!1),p=Vt(e,b=>{var C;return(C=l.itemRefCallback)==null?void 0:C.call(l,b,r,i)}),m=aa(),g=j.useRef("touch"),y=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(Jz,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:j.useCallback(b=>{h(C=>C||((b==null?void 0:b.textContent)??"").trim())},[]),children:v.jsx(pg.ItemSlot,{scope:n,value:r,disabled:i,textValue:c,children:v.jsx(dt.div,{role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:Je(o.onFocus,()=>f(!0)),onBlur:Je(o.onBlur,()=>f(!1)),onClick:Je(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Je(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Je(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:Je(o.onPointerMove,b=>{var C;g.current=b.pointerType,i?(C=l.onItemLeave)==null||C.call(l):g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(o.onPointerLeave,b=>{var C;b.currentTarget===document.activeElement&&((C=l.onItemLeave)==null||C.call(l))}),onKeyDown:Je(o.onKeyDown,b=>{var x;((x=l.searchRef)==null?void 0:x.current)!==""&&b.key===" "||(Dz.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});lR.displayName=Yp;var Fu="SelectItemText",cR=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ka(Fu,n),a=Aa(Fu,n),l=aR(Fu,n),u=Bz(Fu,n),[c,h]=j.useState(null),d=Vt(e,y=>h(y),l.onItemTextChange,y=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,y,l.value,l.disabled)}),f=c==null?void 0:c.textContent,p=j.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return ar(()=>(m(p),()=>g(p)),[m,g,p]),v.jsxs(v.Fragment,{children:[v.jsx(dt.span,{id:l.textId,...s,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ca.createPortal(s.children,o.valueNode):null]})});cR.displayName=Fu;var uR="SelectItemIndicator",hR=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return aR(uR,n).isSelected?v.jsx(dt.span,{"aria-hidden":!0,...r,ref:e}):null});hR.displayName=uR;var zy="SelectScrollUpButton",dR=j.forwardRef((t,e)=>{const n=Aa(zy,t.__scopeSelect),r=yw(zy,t.__scopeSelect),[i,s]=j.useState(!1),o=Vt(e,r.onScrollButtonChange);return ar(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(pR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});dR.displayName=zy;var Hy="SelectScrollDownButton",fR=j.forwardRef((t,e)=>{const n=Aa(Hy,t.__scopeSelect),r=yw(Hy,t.__scopeSelect),[i,s]=j.useState(!1),o=Vt(e,r.onScrollButtonChange);return ar(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,c=Math.ceil(l.scrollTop)<u;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(pR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});fR.displayName=Hy;var pR=j.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Aa("SelectScrollButton",n),o=j.useRef(null),a=mg(n),l=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>l(),[l]),ar(()=>{var c;const u=a().find(h=>h.ref.current===document.activeElement);(c=u==null?void 0:u.ref.current)==null||c.scrollIntoView({block:"nearest"})},[a]),v.jsx(dt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Je(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{l()})})}),Xz="SelectSeparator",mR=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(dt.div,{"aria-hidden":!0,...r,ref:e})});mR.displayName=Xz;var Wy="SelectArrow",Zz=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=gg(n),s=ka(Wy,n),o=Aa(Wy,n);return s.open&&o.position==="popper"?v.jsx(kN,{...i,...r,ref:e}):null});Zz.displayName=Wy;var eH="SelectBubbleInput",gR=j.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=j.useRef(null),s=Vt(r,i),o=DN(e);return j.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&c){const h=new Event("change",{bubbles:!0});c.call(a,e),a.dispatchEvent(h)}},[o,e]),v.jsx(dt.select,{...n,style:{...dM,...n.style},ref:s,defaultValue:e})});gR.displayName=eH;function vR(t){return t===""||t===void 0}function yR(t){const e=ji(t),n=j.useRef(""),r=j.useRef(0),i=j.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function bR(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=tH(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function tH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nH=KN,xR=qN,rH=QN,iH=JN,sH=XN,wR=ZN,oH=rR,SR=oR,CR=lR,aH=cR,lH=hR,kR=dR,AR=fR,ER=mR;const ui=nH,hi=rH,zr=j.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(xR,{ref:r,className:tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,v.jsx(iH,{asChild:!0,children:v.jsx(iw,{className:"h-4 w-4 opacity-50"})})]}));zr.displayName=xR.displayName;const TR=j.forwardRef(({className:t,...e},n)=>v.jsx(kR,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(G3,{className:"h-4 w-4"})}));TR.displayName=kR.displayName;const MR=j.forwardRef(({className:t,...e},n)=>v.jsx(AR,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(iw,{className:"h-4 w-4"})}));MR.displayName=AR.displayName;const Hr=j.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>v.jsx(sH,{children:v.jsxs(wR,{ref:i,className:tt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[v.jsx(TR,{}),v.jsx(oH,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(MR,{})]})}));Hr.displayName=wR.displayName;const cH=j.forwardRef(({className:t,...e},n)=>v.jsx(SR,{ref:n,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));cH.displayName=SR.displayName;const At=j.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(CR,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(lH,{children:v.jsx(V3,{className:"h-4 w-4"})})}),v.jsx(aH,{children:e})]}));At.displayName=CR.displayName;const uH=j.forwardRef(({className:t,...e},n)=>v.jsx(ER,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",t),...e}));uH.displayName=ER.displayName;var Wv="rovingFocusGroup.onEntryFocus",hH={bubbles:!1,cancelable:!0},gd="RovingFocusGroup",[Uy,NR,dH]=tg(gd),[fH,RR]=Fs(gd,[dH]),[pH,mH]=fH(gd),LR=j.forwardRef((t,e)=>v.jsx(Uy.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Uy.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(gH,{...t,ref:e})})}));LR.displayName=gd;var gH=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...h}=t,d=j.useRef(null),f=Vt(e,d),p=dg(s),[m,g]=cl({prop:o,defaultProp:a??null,onChange:l,caller:gd}),[y,b]=j.useState(!1),C=ji(u),x=NR(n),S=j.useRef(!1),[w,k]=j.useState(0);return j.useEffect(()=>{const L=d.current;if(L)return L.addEventListener(Wv,C),()=>L.removeEventListener(Wv,C)},[C]),v.jsx(pH,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:m,onItemFocus:j.useCallback(L=>g(L),[g]),onItemShiftTab:j.useCallback(()=>b(!0),[]),onFocusableItemAdd:j.useCallback(()=>k(L=>L+1),[]),onFocusableItemRemove:j.useCallback(()=>k(L=>L-1),[]),children:v.jsx(dt.div,{tabIndex:y||w===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:Je(t.onMouseDown,()=>{S.current=!0}),onFocus:Je(t.onFocus,L=>{const E=!S.current;if(L.target===L.currentTarget&&E&&!y){const N=new CustomEvent(Wv,hH);if(L.currentTarget.dispatchEvent(N),!N.defaultPrevented){const _=x().filter($=>$.focusable),R=_.find($=>$.active),M=_.find($=>$.id===m),A=[R,M,..._].filter(Boolean).map($=>$.ref.current);_R(A,c)}}S.current=!1}),onBlur:Je(t.onBlur,()=>b(!1))})})}),$R="RovingFocusGroupItem",OR=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=aa(),u=s||l,c=mH($R,n),h=c.currentTabStopId===u,d=NR(n),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:m}=c;return j.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),v.jsx(Uy.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:v.jsx(dt.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...a,ref:e,onMouseDown:Je(t.onMouseDown,g=>{r?c.onItemFocus(u):g.preventDefault()}),onFocus:Je(t.onFocus,()=>c.onItemFocus(u)),onKeyDown:Je(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=bH(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let C=d().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const x=C.indexOf(g.currentTarget);C=c.loop?xH(C,x+1):C.slice(x+1)}setTimeout(()=>_R(C))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});OR.displayName=$R;var vH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bH(t,e,n){const r=yH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return vH[r]}function _R(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function xH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wH=LR,SH=OR,vg="Tabs",[CH,bX]=Fs(vg,[RR]),jR=RR(),[kH,bw]=CH(vg),DR=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,c=dg(a),[h,d]=cl({prop:r,onChange:i,defaultProp:s??"",caller:vg});return v.jsx(kH,{scope:n,baseId:aa(),value:h,onValueChange:d,orientation:o,dir:c,activationMode:l,children:v.jsx(dt.div,{dir:c,"data-orientation":o,...u,ref:e})})});DR.displayName=vg;var PR="TabsList",IR=j.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=bw(PR,n),o=jR(n);return v.jsx(wH,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:v.jsx(dt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});IR.displayName=PR;var FR="TabsTrigger",BR=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=bw(FR,n),a=jR(n),l=WR(o.baseId,r),u=UR(o.baseId,r),c=r===o.value;return v.jsx(SH,{asChild:!0,...a,focusable:!i,active:c,children:v.jsx(dt.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Je(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Je(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Je(t.onFocus,()=>{const h=o.activationMode!=="manual";!c&&!i&&h&&o.onValueChange(r)})})})});BR.displayName=FR;var zR="TabsContent",HR=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=bw(zR,n),l=WR(a.baseId,r),u=UR(a.baseId,r),c=r===a.value,h=j.useRef(c);return j.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),v.jsx(Al,{present:i||c,children:({present:d})=>v.jsx(dt.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});HR.displayName=zR;function WR(t,e){return`${t}-trigger-${e}`}function UR(t,e){return`${t}-content-${e}`}var VR=DR,xw=IR,ww=BR,Sw=HR;const Qp=VR,Oh=j.forwardRef(({className:t,...e},n)=>v.jsx(xw,{ref:n,className:tt("flex border-b border-gray-200 bg-transparent p-0",t),...e}));Oh.displayName=xw.displayName;const Ai=j.forwardRef(({className:t,...e},n)=>v.jsx(ww,{ref:n,className:tt("relative -mb-px inline-flex items-center justify-center whitespace-nowrap px-6 py-2 text-base font-semibold border-b-2 border-transparent transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:border-b-black data-[state=active]:z-10","after:absolute after:left-1/2 after:-translate-x-1/2 after:bottom-[-6px] after:h-2 after:w-3/4 after:rounded-b-full after:bg-black after:transition-all after:duration-200 after:opacity-0 data-[state=active]:after:opacity-100","data-[state=inactive]:text-gray-500 data-[state=inactive]:hover:text-black",t),...e}));Ai.displayName=ww.displayName;const Ei=j.forwardRef(({className:t,...e},n)=>v.jsx(Sw,{ref:n,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ei.displayName=Sw.displayName;var yg="Dialog",[KR,xX]=Fs(yg),[AH,os]=KR(yg),GR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=j.useRef(null),l=j.useRef(null),[u,c]=cl({prop:r,defaultProp:i??!1,onChange:s,caller:yg});return v.jsx(AH,{scope:e,triggerRef:a,contentRef:l,contentId:aa(),titleId:aa(),descriptionId:aa(),open:u,onOpenChange:c,onOpenToggle:j.useCallback(()=>c(h=>!h),[c]),modal:o,children:n})};GR.displayName=yg;var qR="DialogTrigger",EH=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(qR,n),s=Vt(e,i.triggerRef);return v.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Aw(i.open),...r,ref:s,onClick:Je(t.onClick,i.onOpenToggle)})});EH.displayName=qR;var Cw="DialogPortal",[TH,YR]=KR(Cw,{forceMount:void 0}),QR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=os(Cw,e);return v.jsx(TH,{scope:e,forceMount:n,children:j.Children.map(r,o=>v.jsx(Al,{present:n||s.open,children:v.jsx(ng,{asChild:!0,container:i,children:o})}))})};QR.displayName=Cw;var Jp="DialogOverlay",JR=j.forwardRef((t,e)=>{const n=YR(Jp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=os(Jp,t.__scopeDialog);return s.modal?v.jsx(Al,{present:r||s.open,children:v.jsx(NH,{...i,ref:e})}):null});JR.displayName=Jp;var MH=Uc("DialogOverlay.RemoveScroll"),NH=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(Jp,n);return v.jsx(vw,{as:MH,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(dt.div,{"data-state":Aw(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fl="DialogContent",XR=j.forwardRef((t,e)=>{const n=YR(fl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=os(fl,t.__scopeDialog);return v.jsx(Al,{present:r||s.open,children:s.modal?v.jsx(RH,{...i,ref:e}):v.jsx(LH,{...i,ref:e})})});XR.displayName=fl;var RH=j.forwardRef((t,e)=>{const n=os(fl,t.__scopeDialog),r=j.useRef(null),i=Vt(e,n.contentRef,r);return j.useEffect(()=>{const s=r.current;if(s)return IN(s)},[]),v.jsx(ZR,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Je(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Je(t.onFocusOutside,s=>s.preventDefault())})}),LH=j.forwardRef((t,e)=>{const n=os(fl,t.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return v.jsx(ZR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),ZR=j.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=os(fl,n),l=j.useRef(null),u=Vt(e,l);return _N(),v.jsxs(v.Fragment,{children:[v.jsx(gw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx(dd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Aw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx($H,{titleId:a.titleId}),v.jsx(_H,{contentRef:l,descriptionId:a.descriptionId})]})]})}),kw="DialogTitle",eL=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(kw,n);return v.jsx(dt.h2,{id:i.titleId,...r,ref:e})});eL.displayName=kw;var tL="DialogDescription",nL=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(tL,n);return v.jsx(dt.p,{id:i.descriptionId,...r,ref:e})});nL.displayName=tL;var rL="DialogClose",iL=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=os(rL,n);return v.jsx(dt.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,()=>i.onOpenChange(!1))})});iL.displayName=rL;function Aw(t){return t?"open":"closed"}var sL="DialogTitleWarning",[wX,oL]=Y4(sL,{contentName:fl,titleName:kw,docsSlug:"dialog"}),$H=({titleId:t})=>{const e=oL(sL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},OH="DialogDescriptionWarning",_H=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oL(OH).contentName}}.`;return j.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},jH=GR,DH=QR,aL=JR,lL=XR,cL=eL,uL=nL,hL=iL;const qn=jH,PH=DH,MC=hL,dL=j.forwardRef(({className:t,...e},n)=>v.jsx(aL,{ref:n,className:tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dL.displayName=aL.displayName;const In=j.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(PH,{children:[v.jsx(dL,{}),v.jsxs(lL,{ref:r,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,v.jsxs(hL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(pd,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));In.displayName=lL.displayName;const Fn=({className:t,...e})=>v.jsx("div",{className:tt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fn.displayName="DialogHeader";const pl=({className:t,...e})=>v.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});pl.displayName="DialogFooter";const Bn=j.forwardRef(({className:t,...e},n)=>v.jsx(cL,{ref:n,className:tt("text-lg font-semibold leading-none tracking-tight",t),...e}));Bn.displayName=cL.displayName;const bg=j.forwardRef(({className:t,...e},n)=>v.jsx(uL,{ref:n,className:tt("text-sm text-muted-foreground",t),...e}));bg.displayName=uL.displayName;const xg=j.createContext(null);xg.displayName="PanelGroupContext";const Tn={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Ew=10,el=j.useLayoutEffect,NC=Dm.useId,IH=typeof NC=="function"?NC:()=>null;let FH=0;function Tw(t=null){const e=IH(),n=j.useRef(t||e||null);return n.current===null&&(n.current=""+FH++),t??n.current}function fL({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:u,onExpand:c,onResize:h,order:d,style:f,tagName:p="div",...m}){const g=j.useContext(xg);if(g===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:b,getPanelSize:C,getPanelStyle:x,groupId:S,isPanelCollapsed:w,reevaluatePanelConstraints:k,registerPanel:L,resizePanel:E,unregisterPanel:N}=g,_=Tw(o),R=j.useRef({callbacks:{onCollapse:u,onExpand:c,onResize:h},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:_,idIsFromProps:o!==void 0,order:d});j.useRef({didLogMissingDefaultSizeWarning:!1}),el(()=>{const{callbacks:T,constraints:A}=R.current,$={...A};R.current.id=_,R.current.idIsFromProps=o!==void 0,R.current.order=d,T.onCollapse=u,T.onExpand=c,T.onResize=h,A.collapsedSize=n,A.collapsible=r,A.defaultSize=i,A.maxSize=a,A.minSize=l,($.collapsedSize!==A.collapsedSize||$.collapsible!==A.collapsible||$.maxSize!==A.maxSize||$.minSize!==A.minSize)&&k(R.current,$)}),el(()=>{const T=R.current;return L(T),()=>{N(T)}},[d,_,L,N]),j.useImperativeHandle(s,()=>({collapse:()=>{y(R.current)},expand:T=>{b(R.current,T)},getId(){return _},getSize(){return C(R.current)},isCollapsed(){return w(R.current)},isExpanded(){return!w(R.current)},resize:T=>{E(R.current,T)}}),[y,b,C,w,_,E]);const M=x(R.current,i);return j.createElement(p,{...m,children:t,className:e,id:_,style:{...M,...f},[Tn.groupId]:S,[Tn.panel]:"",[Tn.panelCollapsible]:r||void 0,[Tn.panelId]:_,[Tn.panelSize]:parseFloat(""+M.flexGrow).toFixed(1)})}const pL=j.forwardRef((t,e)=>j.createElement(fL,{...t,forwardedRef:e}));fL.displayName="Panel";pL.displayName="forwardRef(Panel)";let Vy=null,ep=-1,Io=null;function BH(t,e){if(e){const n=(e&bL)!==0,r=(e&xL)!==0,i=(e&wL)!==0,s=(e&SL)!==0;if(n)return i?"se-resize":s?"ne-resize":"e-resize";if(r)return i?"sw-resize":s?"nw-resize":"w-resize";if(i)return"s-resize";if(s)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function zH(){Io!==null&&(document.head.removeChild(Io),Vy=null,Io=null,ep=-1)}function Uv(t,e){var n,r;const i=BH(t,e);if(Vy!==i){if(Vy=i,Io===null&&(Io=document.createElement("style"),document.head.appendChild(Io)),ep>=0){var s;(s=Io.sheet)===null||s===void 0||s.removeRule(ep)}ep=(n=(r=Io.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&n!==void 0?n:-1}}function mL(t){return t.type==="keydown"}function gL(t){return t.type.startsWith("pointer")}function vL(t){return t.type.startsWith("mouse")}function wg(t){if(gL(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(vL(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function HH(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function WH(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function UH(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:$C(t),b:$C(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;Tt(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:LC(RC(n.a)),b:LC(RC(n.b))};if(i.a===i.b){const s=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(i.a-i.b)}const VH=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function KH(t){var e;const n=getComputedStyle((e=yL(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function GH(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||KH(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||VH.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function RC(t){let e=t.length;for(;e--;){const n=t[e];if(Tt(n,"Missing node"),GH(n))return n}return null}function LC(t){return t&&Number(getComputedStyle(t).zIndex)||0}function $C(t){const e=[];for(;t;)e.push(t),t=yL(t);return e}function yL(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const bL=1,xL=2,wL=4,SL=8,qH=HH()==="coarse";let Zi=[],bc=!1,Pa=new Map,Sg=new Map;const _h=new Set;function YH(t,e,n,r,i){var s;const{ownerDocument:o}=e,a={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(s=Pa.get(o))!==null&&s!==void 0?s:0;return Pa.set(o,l+1),_h.add(a),Xp(),function(){var c;Sg.delete(t),_h.delete(a);const h=(c=Pa.get(o))!==null&&c!==void 0?c:1;if(Pa.set(o,h-1),Xp(),h===1&&Pa.delete(o),Zi.includes(a)){const d=Zi.indexOf(a);d>=0&&Zi.splice(d,1),Nw(),i("up",!0,null)}}}function QH(t){const{target:e}=t,{x:n,y:r}=wg(t);bc=!0,Mw({target:e,x:n,y:r}),Xp(),Zi.length>0&&(Zp("down",t),t.preventDefault(),CL(e)||t.stopImmediatePropagation())}function Vv(t){const{x:e,y:n}=wg(t);if(bc&&t.buttons===0&&(bc=!1,Zp("up",t)),!bc){const{target:r}=t;Mw({target:r,x:e,y:n})}Zp("move",t),Nw(),Zi.length>0&&t.preventDefault()}function Kv(t){const{target:e}=t,{x:n,y:r}=wg(t);Sg.clear(),bc=!1,Zi.length>0&&(t.preventDefault(),CL(e)||t.stopImmediatePropagation()),Zp("up",t),Mw({target:e,x:n,y:r}),Nw(),Xp()}function CL(t){let e=t;for(;e;){if(e.hasAttribute(Tn.resizeHandle))return!0;e=e.parentElement}return!1}function Mw({target:t,x:e,y:n}){Zi.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),_h.forEach(i=>{const{element:s,hitAreaMargins:o}=i,a=s.getBoundingClientRect(),{bottom:l,left:u,right:c,top:h}=a,d=qH?o.coarse:o.fine;if(e>=u-d&&e<=c+d&&n>=h-d&&n<=l+d){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&UH(r,s)>0){let p=r,m=!1;for(;p&&!p.contains(s);){if(WH(p.getBoundingClientRect(),a)){m=!0;break}p=p.parentElement}if(m)return}Zi.push(i)}})}function Gv(t,e){Sg.set(t,e)}function Nw(){let t=!1,e=!1;Zi.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;Sg.forEach(r=>{n|=r}),t&&e?Uv("intersection",n):t?Uv("horizontal",n):e?Uv("vertical",n):zH()}let qv=new AbortController;function Xp(){qv.abort(),qv=new AbortController;const t={capture:!0,signal:qv.signal};_h.size&&(bc?(Zi.length>0&&Pa.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("contextmenu",Kv,t),r.addEventListener("pointerleave",Vv,t),r.addEventListener("pointermove",Vv,t))}),window.addEventListener("pointerup",Kv,t),window.addEventListener("pointercancel",Kv,t)):Pa.forEach((e,n)=>{const{body:r}=n;e>0&&(r.addEventListener("pointerdown",QH,t),r.addEventListener("pointermove",Vv,t))}))}function Zp(t,e){_h.forEach(n=>{const{setResizeHandlerState:r}=n,i=Zi.includes(n);r(t,i,e)})}function JH(){const[t,e]=j.useState(0);return j.useCallback(()=>e(n=>n+1),[])}function Tt(t,e){if(!t)throw console.error(e),Error(e)}function ml(t,e,n=Ew){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function to(t,e,n=Ew){return ml(t,e,n)===0}function si(t,e,n){return ml(t,e,n)===0}function XH(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],s=e[r];if(!si(i,s,n))return!1}return!0}function rc({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];Tt(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(ml(n,a)<0)if(s){const l=(i+a)/2;ml(n,l)<0?n=i:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(Ew)),n}function Bu({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:s}){if(si(t,0))return e;const o=[...e],[a,l]=r;Tt(a!=null,"Invalid first pivot index"),Tt(l!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const h=t<0?l:a,d=n[h];Tt(d,`Panel constraints not found for index ${h}`);const{collapsedSize:f=0,collapsible:p,minSize:m=0}=d;if(p){const g=e[h];if(Tt(g!=null,`Previous layout not found for panel index ${h}`),si(g,f)){const y=m-g;ml(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}{const h=t<0?a:l,d=n[h];Tt(d,`No panel constraints found for index ${h}`);const{collapsedSize:f=0,collapsible:p,minSize:m=0}=d;if(p){const g=e[h];if(Tt(g!=null,`Previous layout not found for panel index ${h}`),si(g,m)){const y=g-f;ml(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}}{const h=t<0?1:-1;let d=t<0?l:a,f=0;for(;;){const m=e[d];Tt(m!=null,`Previous layout not found for panel index ${d}`);const y=rc({panelConstraints:n,panelIndex:d,size:100})-m;if(f+=y,d+=h,d<0||d>=n.length)break}const p=Math.min(Math.abs(t),Math.abs(f));t=t<0?0-p:p}{let d=t<0?a:l;for(;d>=0&&d<n.length;){const f=Math.abs(t)-Math.abs(u),p=e[d];Tt(p!=null,`Previous layout not found for panel index ${d}`);const m=p-f,g=rc({panelConstraints:n,panelIndex:d,size:m});if(!si(p,g)&&(u+=p-g,o[d]=g,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?d--:d++}}if(XH(i,o))return i;{const h=t<0?l:a,d=e[h];Tt(d!=null,`Previous layout not found for panel index ${h}`);const f=d+u,p=rc({panelConstraints:n,panelIndex:h,size:f});if(o[h]=p,!si(p,f)){let m=f-p,y=t<0?l:a;for(;y>=0&&y<n.length;){const b=o[y];Tt(b!=null,`Previous layout not found for panel index ${y}`);const C=b+m,x=rc({panelConstraints:n,panelIndex:y,size:C});if(si(b,x)||(m-=x-b,o[y]=x),si(m,0))break;t>0?y--:y++}}}const c=o.reduce((h,d)=>d+h,0);return si(c,100)?o:i}function ZH({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,s=0,o=0;const a=n[0];Tt(a!=null,"No pivot index found"),e.forEach((h,d)=>{const{constraints:f}=h,{maxSize:p=100,minSize:m=0}=f;d===a?(r=m,i=p):(s+=m,o+=p)});const l=Math.min(i,100-s),u=Math.max(r,100-o),c=t[a];return{valueMax:l,valueMin:u,valueNow:c}}function jh(t,e=document){return Array.from(e.querySelectorAll(`[${Tn.resizeHandleId}][data-panel-group-id="${t}"]`))}function kL(t,e,n=document){const i=jh(t,n).findIndex(s=>s.getAttribute(Tn.resizeHandleId)===e);return i??null}function AL(t,e,n){const r=kL(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function EL(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function Cg(t,e=document){const n=e.querySelector(`[${Tn.resizeHandleId}="${t}"]`);return n||null}function e6(t,e,n,r=document){var i,s,o,a;const l=Cg(e,r),u=jh(t,r),c=l?u.indexOf(l):-1,h=(i=(s=n[c])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,d=(o=(a=n[c+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[h,d]}function t6({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){j.useRef({didWarnAboutMissingResizeHandle:!1}),el(()=>{if(!s)return;const a=jh(n,s);for(let l=0;l<i.length-1;l++){const{valueMax:u,valueMin:c,valueNow:h}=ZH({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),d=a[l];if(d!=null){const f=i[l];Tt(f,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",f.id),d.setAttribute("aria-valuemax",""+Math.round(u)),d.setAttribute("aria-valuemin",""+Math.round(c)),d.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{a.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,s]),j.useEffect(()=>{if(!s)return;const a=e.current;Tt(a,"Eager values not found");const{panelDataArray:l}=a,u=EL(n,s);Tt(u!=null,`No group found for id "${n}"`);const c=jh(n,s);Tt(c,`No resize handles found for group id "${n}"`);const h=c.map(d=>{const f=d.getAttribute(Tn.resizeHandleId);Tt(f,"Resize handle element has no handle id attribute");const[p,m]=e6(n,f,l,s);if(p==null||m==null)return()=>{};const g=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const b=l.findIndex(C=>C.id===p);if(b>=0){const C=l[b];Tt(C,`No panel data found for index ${b}`);const x=r[b],{collapsedSize:S=0,collapsible:w,minSize:k=0}=C.constraints;if(x!=null&&w){const L=Bu({delta:si(x,S)?k-S:S-x,initialLayout:r,panelConstraints:l.map(E=>E.constraints),pivotIndices:AL(n,f,s),prevLayout:r,trigger:"keyboard"});r!==L&&o(L)}}break}}};return d.addEventListener("keydown",g),()=>{d.removeEventListener("keydown",g)}});return()=>{h.forEach(d=>d())}},[s,t,e,n,r,i,o])}function OC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function TL(t,e){const n=t==="horizontal",{x:r,y:i}=wg(e);return n?r:i}function n6(t,e,n,r,i){const s=n==="horizontal",o=Cg(e,i);Tt(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute(Tn.groupId);Tt(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=TL(n,t),c=EL(a,i);Tt(c,`No group element found for id "${a}"`);const h=c.getBoundingClientRect(),d=s?h.width:h.height;return(u-l)/d*100}function r6(t,e,n,r,i,s){if(mL(t)){const o=n==="horizontal";let a=0;t.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(t.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:n6(t,e,n,r,s)}function i6({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<t.length;s++){const o=n[s];Tt(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,i-=a)}for(let s=0;s<t.length;s++){const o=n[s];Tt(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-r,u=i/l;r++,e[s]=u,i-=u}return e}function Dl(t,e,n){e.forEach((r,i)=>{const s=t[i];Tt(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:u=0,collapsible:c}=a,h=n[l];if(h==null||r!==h){n[l]=r;const{onCollapse:d,onExpand:f,onResize:p}=o;p&&p(r,h),c&&(d||f)&&(f&&(h==null||to(h,u))&&!to(r,u)&&f(),d&&(h==null||!to(h,u))&&to(r,u)&&d())}})}function lf(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function s6({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:s=3}){const o=n[i];let a;return o==null?a=t!=null?t.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function o6(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function _C(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function ML(t){return`react-resizable-panels:${t}`}function NL(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function RL(t,e){try{const n=ML(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function a6(t,e,n){var r,i;const s=(r=RL(t,n))!==null&&r!==void 0?r:{},o=NL(e);return(i=s[o])!==null&&i!==void 0?i:null}function l6(t,e,n,r,i){var s;const o=ML(t),a=NL(e),l=(s=RL(t,i))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(o,JSON.stringify(l))}catch(u){console.error(u)}}function jC({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!si(r,100)&&n.length>0)for(let s=0;s<e.length;s++){const o=n[s];Tt(o!=null,`No layout data found for index ${s}`);const a=100/r*o;n[s]=a}let i=0;for(let s=0;s<e.length;s++){const o=n[s];Tt(o!=null,`No layout data found for index ${s}`);const a=rc({panelConstraints:e,panelIndex:s,size:o});o!=a&&(i+=o-a,n[s]=a)}if(!si(i,0))for(let s=0;s<e.length;s++){const o=n[s];Tt(o!=null,`No layout data found for index ${s}`);const a=o+i,l=rc({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(i-=l-o,n[s]=l,si(i,0)))break}return n}const c6=100,zu={getItem:t=>(_C(zu),zu.getItem(t)),setItem:(t,e)=>{_C(zu),zu.setItem(t,e)}},DC={};function LL({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=zu,style:u,tagName:c="div",...h}){const d=Tw(s),f=j.useRef(null),[p,m]=j.useState(null),[g,y]=j.useState([]),b=JH(),C=j.useRef({}),x=j.useRef(new Map),S=j.useRef(0),w=j.useRef({autoSaveId:t,direction:r,dragState:p,id:d,keyboardResizeBy:a,onLayout:o,storage:l}),k=j.useRef({layout:g,panelDataArray:[],panelDataArrayChanged:!1});j.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),j.useImperativeHandle(i,()=>({getId:()=>w.current.id,getLayout:()=>{const{layout:H}=k.current;return H},setLayout:H=>{const{onLayout:U}=w.current,{layout:q,panelDataArray:K}=k.current,Q=jC({layout:H,panelConstraints:K.map(ee=>ee.constraints)});OC(q,Q)||(y(Q),k.current.layout=Q,U&&U(Q),Dl(K,Q,C.current))}}),[]),el(()=>{w.current.autoSaveId=t,w.current.direction=r,w.current.dragState=p,w.current.id=d,w.current.onLayout=o,w.current.storage=l}),t6({committedValuesRef:w,eagerValuesRef:k,groupId:d,layout:g,panelDataArray:k.current.panelDataArray,setLayout:y,panelGroupElement:f.current}),j.useEffect(()=>{const{panelDataArray:H}=k.current;if(t){if(g.length===0||g.length!==H.length)return;let U=DC[t];U==null&&(U=o6(l6,c6),DC[t]=U);const q=[...H],K=new Map(x.current);U(t,q,K,g,l)}},[t,g,l]),j.useEffect(()=>{});const L=j.useCallback(H=>{const{onLayout:U}=w.current,{layout:q,panelDataArray:K}=k.current;if(H.constraints.collapsible){const Q=K.map(be=>be.constraints),{collapsedSize:ee=0,panelSize:re,pivotIndices:ae}=La(K,H,q);if(Tt(re!=null,`Panel size not found for panel "${H.id}"`),!to(re,ee)){x.current.set(H.id,re);const Ae=Fl(K,H)===K.length-1?re-ee:ee-re,Le=Bu({delta:Ae,initialLayout:q,panelConstraints:Q,pivotIndices:ae,prevLayout:q,trigger:"imperative-api"});lf(q,Le)||(y(Le),k.current.layout=Le,U&&U(Le),Dl(K,Le,C.current))}}},[]),E=j.useCallback((H,U)=>{const{onLayout:q}=w.current,{layout:K,panelDataArray:Q}=k.current;if(H.constraints.collapsible){const ee=Q.map(He=>He.constraints),{collapsedSize:re=0,panelSize:ae=0,minSize:be=0,pivotIndices:Ae}=La(Q,H,K),Le=U??be;if(to(ae,re)){const He=x.current.get(H.id),Ue=He!=null&&He>=Le?He:Le,Gt=Fl(Q,H)===Q.length-1?ae-Ue:Ue-ae,bt=Bu({delta:Gt,initialLayout:K,panelConstraints:ee,pivotIndices:Ae,prevLayout:K,trigger:"imperative-api"});lf(K,bt)||(y(bt),k.current.layout=bt,q&&q(bt),Dl(Q,bt,C.current))}}},[]),N=j.useCallback(H=>{const{layout:U,panelDataArray:q}=k.current,{panelSize:K}=La(q,H,U);return Tt(K!=null,`Panel size not found for panel "${H.id}"`),K},[]),_=j.useCallback((H,U)=>{const{panelDataArray:q}=k.current,K=Fl(q,H);return s6({defaultSize:U,dragState:p,layout:g,panelData:q,panelIndex:K})},[p,g]),R=j.useCallback(H=>{const{layout:U,panelDataArray:q}=k.current,{collapsedSize:K=0,collapsible:Q,panelSize:ee}=La(q,H,U);return Tt(ee!=null,`Panel size not found for panel "${H.id}"`),Q===!0&&to(ee,K)},[]),M=j.useCallback(H=>{const{layout:U,panelDataArray:q}=k.current,{collapsedSize:K=0,collapsible:Q,panelSize:ee}=La(q,H,U);return Tt(ee!=null,`Panel size not found for panel "${H.id}"`),!Q||ml(ee,K)>0},[]),T=j.useCallback(H=>{const{panelDataArray:U}=k.current;U.push(H),U.sort((q,K)=>{const Q=q.order,ee=K.order;return Q==null&&ee==null?0:Q==null?-1:ee==null?1:Q-ee}),k.current.panelDataArrayChanged=!0,b()},[b]);el(()=>{if(k.current.panelDataArrayChanged){k.current.panelDataArrayChanged=!1;const{autoSaveId:H,onLayout:U,storage:q}=w.current,{layout:K,panelDataArray:Q}=k.current;let ee=null;if(H){const ae=a6(H,Q,q);ae&&(x.current=new Map(Object.entries(ae.expandToSizes)),ee=ae.layout)}ee==null&&(ee=i6({panelDataArray:Q}));const re=jC({layout:ee,panelConstraints:Q.map(ae=>ae.constraints)});OC(K,re)||(y(re),k.current.layout=re,U&&U(re),Dl(Q,re,C.current))}}),el(()=>{const H=k.current;return()=>{H.layout=[]}},[]);const A=j.useCallback(H=>{let U=!1;const q=f.current;return q&&window.getComputedStyle(q,null).getPropertyValue("direction")==="rtl"&&(U=!0),function(Q){Q.preventDefault();const ee=f.current;if(!ee)return()=>null;const{direction:re,dragState:ae,id:be,keyboardResizeBy:Ae,onLayout:Le}=w.current,{layout:He,panelDataArray:Ue}=k.current,{initialLayout:yt}=ae??{},Gt=AL(be,H,ee);let bt=r6(Q,H,re,ae,Ae,ee);const Mn=re==="horizontal";Mn&&U&&(bt=-bt);const cr=Ue.map(cn=>cn.constraints),Qt=Bu({delta:bt,initialLayout:yt??He,panelConstraints:cr,pivotIndices:Gt,prevLayout:He,trigger:mL(Q)?"keyboard":"mouse-or-touch"}),bn=!lf(He,Qt);(gL(Q)||vL(Q))&&S.current!=bt&&(S.current=bt,!bn&&bt!==0?Mn?Gv(H,bt<0?bL:xL):Gv(H,bt<0?wL:SL):Gv(H,0)),bn&&(y(Qt),k.current.layout=Qt,Le&&Le(Qt),Dl(Ue,Qt,C.current))}},[]),$=j.useCallback((H,U)=>{const{onLayout:q}=w.current,{layout:K,panelDataArray:Q}=k.current,ee=Q.map(He=>He.constraints),{panelSize:re,pivotIndices:ae}=La(Q,H,K);Tt(re!=null,`Panel size not found for panel "${H.id}"`);const Ae=Fl(Q,H)===Q.length-1?re-U:U-re,Le=Bu({delta:Ae,initialLayout:K,panelConstraints:ee,pivotIndices:ae,prevLayout:K,trigger:"imperative-api"});lf(K,Le)||(y(Le),k.current.layout=Le,q&&q(Le),Dl(Q,Le,C.current))},[]),D=j.useCallback((H,U)=>{const{layout:q,panelDataArray:K}=k.current,{collapsedSize:Q=0,collapsible:ee}=U,{collapsedSize:re=0,collapsible:ae,maxSize:be=100,minSize:Ae=0}=H.constraints,{panelSize:Le}=La(K,H,q);Le!=null&&(ee&&ae&&to(Le,Q)?to(Q,re)||$(H,re):Le<Ae?$(H,Ae):Le>be&&$(H,be))},[$]),O=j.useCallback((H,U)=>{const{direction:q}=w.current,{layout:K}=k.current;if(!f.current)return;const Q=Cg(H,f.current);Tt(Q,`Drag handle element not found for id "${H}"`);const ee=TL(q,U);m({dragHandleId:H,dragHandleRect:Q.getBoundingClientRect(),initialCursorPosition:ee,initialLayout:K})},[]),P=j.useCallback(()=>{m(null)},[]),I=j.useCallback(H=>{const{panelDataArray:U}=k.current,q=Fl(U,H);q>=0&&(U.splice(q,1),delete C.current[H.id],k.current.panelDataArrayChanged=!0,b())},[b]),B=j.useMemo(()=>({collapsePanel:L,direction:r,dragState:p,expandPanel:E,getPanelSize:N,getPanelStyle:_,groupId:d,isPanelCollapsed:R,isPanelExpanded:M,reevaluatePanelConstraints:D,registerPanel:T,registerResizeHandle:A,resizePanel:$,startDragging:O,stopDragging:P,unregisterPanel:I,panelGroupElement:f.current}),[L,p,r,E,N,_,d,R,M,D,T,A,$,O,P,I]),Y={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return j.createElement(xg.Provider,{value:B},j.createElement(c,{...h,children:e,className:n,id:s,ref:f,style:{...Y,...u},[Tn.group]:"",[Tn.groupDirection]:r,[Tn.groupId]:d}))}const $L=j.forwardRef((t,e)=>j.createElement(LL,{...t,forwardedRef:e}));LL.displayName="PanelGroup";$L.displayName="forwardRef(PanelGroup)";function Fl(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function La(t,e,n){const r=Fl(t,e),s=r===t.length-1?[r-1,r]:[r,r+1],o=n[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function u6({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){j.useEffect(()=>{if(t||n==null||r==null)return;const i=Cg(e,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const a=i.getAttribute(Tn.groupId);Tt(a,`No group element found for id "${a}"`);const l=jh(a,r),u=kL(a,e,r);Tt(u!==null,`No resize element found for id "${e}"`);const c=o.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[c].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,t,e,n])}function OL({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:s,onClick:o,onDragging:a,onFocus:l,onPointerDown:u,onPointerUp:c,style:h={},tabIndex:d=0,tagName:f="div",...p}){var m,g;const y=j.useRef(null),b=j.useRef({onClick:o,onDragging:a,onPointerDown:u,onPointerUp:c});j.useEffect(()=>{b.current.onClick=o,b.current.onDragging=a,b.current.onPointerDown=u,b.current.onPointerUp=c});const C=j.useContext(xg);if(C===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:x,groupId:S,registerResizeHandle:w,startDragging:k,stopDragging:L,panelGroupElement:E}=C,N=Tw(i),[_,R]=j.useState("inactive"),[M,T]=j.useState(!1),[A,$]=j.useState(null),D=j.useRef({state:_});el(()=>{D.current.state=_}),j.useEffect(()=>{if(n)$(null);else{const B=w(N);$(()=>B)}},[n,N,w]);const O=(m=r==null?void 0:r.coarse)!==null&&m!==void 0?m:15,P=(g=r==null?void 0:r.fine)!==null&&g!==void 0?g:5;j.useEffect(()=>{if(n||A==null)return;const B=y.current;Tt(B,"Element ref not attached");let Y=!1;return YH(N,B,x,{coarse:O,fine:P},(U,q,K)=>{if(!q){R("inactive");return}switch(U){case"down":{R("drag"),Y=!1,Tt(K,'Expected event to be defined for "down" action'),k(N,K);const{onDragging:Q,onPointerDown:ee}=b.current;Q==null||Q(!0),ee==null||ee();break}case"move":{const{state:Q}=D.current;Y=!0,Q!=="drag"&&R("hover"),Tt(K,'Expected event to be defined for "move" action'),A(K);break}case"up":{R("hover"),L();const{onClick:Q,onDragging:ee,onPointerUp:re}=b.current;ee==null||ee(!1),re==null||re(),Y||Q==null||Q();break}}})},[O,x,n,P,w,N,A,k,L]),u6({disabled:n,handleId:N,resizeHandler:A,panelGroupElement:E});const I={touchAction:"none",userSelect:"none"};return j.createElement(f,{...p,children:t,className:e,id:i,onBlur:()=>{T(!1),s==null||s()},onFocus:()=>{T(!0),l==null||l()},ref:y,role:"separator",style:{...I,...h},tabIndex:d,[Tn.groupDirection]:x,[Tn.groupId]:S,[Tn.resizeHandle]:"",[Tn.resizeHandleActive]:_==="drag"?"pointer":M?"keyboard":void 0,[Tn.resizeHandleEnabled]:!n,[Tn.resizeHandleId]:N,[Tn.resizeHandleState]:_})}OL.displayName="PanelResizeHandle";const h6=({className:t,...e})=>v.jsx($L,{className:tt("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),PC=pL,d6=({withHandle:t,className:e,...n})=>v.jsx(OL,{className:tt("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...n,children:t&&v.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:v.jsx(FM,{className:"h-2.5 w-2.5"})})});var f6="Label",_L=j.forwardRef((t,e)=>v.jsx(dt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_L.displayName=f6;var jL=_L;const p6=sg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=j.forwardRef(({className:t,...e},n)=>v.jsx(jL,{ref:n,className:tt(p6(),t),...e}));Ge.displayName=jL.displayName;class m6{getKey(e){return`devtoolnest-${e}`}set(e,n){try{localStorage.setItem(this.getKey(e),JSON.stringify(n))}catch(r){console.error("Failed to save to localStorage:",r)}}get(e){try{const n=localStorage.getItem(this.getKey(e));return n?JSON.parse(n):null}catch(n){return console.error("Failed to read from localStorage:",n),null}}remove(e){try{localStorage.removeItem(this.getKey(e))}catch(n){console.error("Failed to remove from localStorage:",n)}}clear(){try{Object.keys(localStorage).forEach(n=>{n.startsWith("devtoolnest-")&&localStorage.removeItem(n)})}catch(e){console.error("Failed to clear localStorage:",e)}}getCollections(){return this.get("collections")||[]}saveCollection(e){let n=this.getCollections();const r=n.findIndex(i=>i.id===e.id);r>=0?n[r]={...e,updatedAt:new Date}:n=[...n,e],this.set("collections",n)}deleteCollection(e){const r=this.getCollections().filter(i=>i.id!==e);this.set("collections",r)}getToolData(e){return this.get(`tool-${e}`)}saveToolData(e,n){this.set(`tool-${e}`,n)}deleteToolData(e){this.remove(`tool-${e}`)}}const st=new m6;function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(null,arguments)}function g6(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let Gy=[],DL=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?DL:Gy).push(n=n+t[e])})();function v6(t){if(t<768)return!1;for(let e=0,n=Gy.length;;){let r=e+n>>1;if(t<Gy[r])n=r;else if(t>=DL[r])e=r+1;else return!0;if(e==n)return!1}}function IC(t){return t>=127462&&t<=127487}const FC=8205;function y6(t,e,n=!0,r=!0){return(n?PL:b6)(t,e,r)}function PL(t,e,n){if(e==t.length)return e;e&&IL(t.charCodeAt(e))&&FL(t.charCodeAt(e-1))&&e--;let r=Yv(t,e);for(e+=BC(r);e<t.length;){let i=Yv(t,e);if(r==FC||i==FC||n&&v6(i))e+=BC(i),r=i;else if(IC(i)){let s=0,o=e-2;for(;o>=0&&IC(Yv(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function b6(t,e,n){for(;e>0;){let r=PL(t,e-2,n);if(r<e)return r;e--}return 0}function Yv(t,e){let n=t.charCodeAt(e);if(!FL(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return IL(r)?(n-55296<<10)+(r-56320)+65536:n}function IL(t){return t>=56320&&t<57344}function FL(t){return t>=55296&&t<56320}function BC(t){return t<65536?1:2}class Ht{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Gc(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),As.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Gc(this,e,n);let r=[];return this.decompose(e,n,r,0),As.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new ih(this),s=new ih(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new ih(this,e)}iterRange(e,n=this.length){return new BL(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new zL(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ht.empty:e.length<=32?new Rn(e):As.from(Rn.split(e,[]))}}class Rn extends Ht{constructor(e,n=x6(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new w6(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new Rn(zC(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=tp(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new Rn(a,o.length+s.length));else{let l=a.length>>1;r.push(new Rn(a.slice(0,l)),new Rn(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof Rn))return super.replace(e,n,r);[e,n]=Gc(this,e,n);let i=tp(this.text,tp(r.text,zC(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new Rn(i,s):As.from(Rn.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Gc(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new Rn(r,i)),r=[],i=-1);return i>-1&&n.push(new Rn(r,i)),n}}class As extends Ht{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if([e,n]=Gc(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new As(c,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Gc(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof As))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let f of e)r+=f.lines;if(r<32){let f=[];for(let p of e)p.flatten(f);return new Rn(f,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,c=[];function h(f){let p;if(f.lines>s&&f instanceof As)for(let m of f.children)h(m);else f.lines>o&&(l>o||!l)?(d(),a.push(f)):f instanceof Rn&&l&&(p=c[c.length-1])instanceof Rn&&f.lines+p.lines<=32?(l+=f.lines,u+=f.length+1,c[c.length-1]=new Rn(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>i&&d(),l+=f.lines,u+=f.length+1,c.push(f))}function d(){l!=0&&(a.push(c.length==1?c[0]:As.from(c,u)),u=-1,l=c.length=0)}for(let f of e)h(f);return d(),a.length==1?a[0]:new As(a,n)}}Ht.empty=new Rn([""],0);function x6(t){let e=-1;for(let n of t)e+=n.length+1;return e}function tp(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function zC(t,e,n){return tp(t,[""],e,n)}class ih{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Rn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof Rn?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Rn){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Rn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class BL{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new ih(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class zL{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ht.prototype[Symbol.iterator]=function(){return this.iter()},ih.prototype[Symbol.iterator]=BL.prototype[Symbol.iterator]=zL.prototype[Symbol.iterator]=function(){return this});class w6{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function Gc(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function ir(t,e,n=!0,r=!0){return y6(t,e,n,r)}function S6(t){return t>=56320&&t<57344}function C6(t){return t>=55296&&t<56320}function Dr(t,e){let n=t.charCodeAt(e);if(!C6(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return S6(r)?(n-55296<<10)+(r-56320)+65536:n}function Rw(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Es(t){return t<65536?1:2}const qy=/\r\n?|\n/;var Tr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Tr||(Tr={}));class js{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){Yy(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new js(e)}composeDesc(e){return this.empty?e:e.empty?this:HL(this,e)}mapDesc(e,n=!1){return e.empty?this:Qy(this,e,n)}mapPos(e,n=-1,r=Tr.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=Tr.Simple&&u>=e&&(r==Tr.TrackDel&&i<e&&u>e||r==Tr.TrackBefore&&i<e||r==Tr.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new js(e)}static create(e){return new js(e)}}class Hn extends js{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Yy(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return Qy(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(Ht.empty);r.push(o?e.slice(s,s+o):Ht.empty)}s+=o}return new Hn(n,r)}compose(e){return this.empty?e:e.empty?this:HL(this,e,!0)}map(e,n=!1){return e.empty?this:Qy(this,e,n,!0)}iterChanges(e,n=!1){Yy(this,e,n)}get desc(){return js.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Dh(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);mr(i,c,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;mr(n,c,h),h>0&&qo(r,n,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);mr(n,c,-1),mr(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new Hn(n,r),filtered:js.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!i.length)return;o<n&&mr(i,n-o,-1);let h=new Hn(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof Hn){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:h,to:d=h,insert:f}=c;if(h>d||h<0||d>n)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${n})`);let p=f?typeof f=="string"?Ht.of(f.split(r||qy)):f:Ht.empty,m=p.length;if(h==d&&m==0)return;h<o&&l(),h>o&&mr(i,h-o,-1),mr(i,d-h,m),qo(s,i,p),o=d}}return u(e),l(!a),a}static empty(e){return new Hn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(Ht.empty);r[i]=Ht.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Hn(n,r)}static createSet(e,n){return new Hn(e,n)}}function mr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function qo(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Ht.empty);t.push(n)}}function Yy(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,c=s,h=Ht.empty;for(;u+=a,c+=l,l&&r&&(h=h.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,c,h),i=u,s=c}}}function Qy(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Dh(t),a=new Dh(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);mr(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(mr(i,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(mr(i,0,o.ins),s&&qo(s,i,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let h=Math.min(c,a.len);u+=h,c-=h,a.forward(h)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;mr(i,u,l<o.i?o.ins:0),s&&l<o.i&&qo(s,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?Hn.createSet(i,s):js.create(i);throw new Error("Mismatched change set lengths")}}}function HL(t,e,n=!1){let r=[],i=n?[]:null,s=new Dh(t),o=new Dh(e);for(let a=!1;;){if(s.done&&o.done)return i?Hn.createSet(r,i):js.create(r);if(s.ins==0)mr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)mr(r,0,o.ins,a),i&&qo(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;mr(r,l,c,a),i&&c&&qo(i,r,o.text)}else o.ins==-1?(mr(r,s.off?0:s.len,l,a),i&&qo(i,r,s.textBit(l))):(mr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&qo(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class Dh{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Ht.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Ht.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Wa{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Wa(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Ce.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Ce.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ce.range(e.anchor,e.head)}static create(e,n,r){return new Wa(e,n,r)}}class Ce{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Ce.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ce([this.main],0)}addRange(e,n=!0){return Ce.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Ce.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ce(e.ranges.map(n=>Wa.fromJSON(n)),e.main)}static single(e,n=e){return new Ce([Ce.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Ce.normalized(e.slice(),n);r=s.to}return new Ce(e,n)}static cursor(e,n=0,r,i){return Wa.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Wa.create(n,e,48|s):Wa.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Ce.range(l,a):Ce.range(a,l))}}return new Ce(e,n)}}function WL(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Lw=0;class Ie{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Lw++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ie(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:$w),!!e.static,e.enables)}of(e){return new np([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new np(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new np(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function $w(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class np{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Lw++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?u=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||c.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||Jy(h,c)){let f=r(h);if(a?!HC(f,h.values[o],i):!i(f,h.values[o]))return h.values[o]=f,1}return 0},reconfigure:(h,d)=>{let f,p=d.config.address[s];if(p!=null){let m=tm(d,p);if(this.dependencies.every(g=>g instanceof Ie?d.facet(g)===h.facet(g):g instanceof lr?d.field(g,!1)==h.field(g,!1):!0)||(a?HC(f=r(h),m,i):i(f=r(h),m)))return h.values[o]=m,0}else f=r(h);return h.values[o]=f,1}}}}function HC(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Jy(t,e){let n=!1;for(let r of e)sh(t,r)&1&&(n=!0);return n}function k6(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let h=tm(l,r[c]);if(i[c]==2)for(let d of h)u.push(d);else u.push(h)}return e.combine(u)}return{create(l){for(let u of r)sh(l,u);return l.values[o]=a(l),1},update(l,u){if(!Jy(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=Jy(l,r),h=u.config.facets[e.id],d=u.facet(e);if(h&&!c&&$w(n,h))return l.values[o]=d,0;let f=a(l);return e.compare(f,d)?(l.values[o]=d,0):(l.values[o]=f,1)}}}const cf=Ie.define({static:!0});class lr{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new lr(Lw++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(cf).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(cf),o=i.facet(cf),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,cf.of({field:this,create:e})]}get extension(){return this}}const Ia={lowest:4,low:3,default:2,high:1,highest:0};function Eu(t){return e=>new UL(e,t)}const El={highest:Eu(Ia.highest),high:Eu(Ia.high),default:Eu(Ia.default),low:Eu(Ia.low),lowest:Eu(Ia.lowest)};class UL{constructor(e,n){this.inner=e,this.prec=n}}class kg{of(e){return new Xy(this,e)}reconfigure(e){return kg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Xy{constructor(e,n){this.compartment=e,this.inner=n}}class em{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let d of A6(e,n,o))d instanceof lr?i.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],u=[];for(let d of i)a[d.id]=u.length<<1,u.push(f=>d.slot(f));let c=r==null?void 0:r.config.facets;for(let d in s){let f=s[d],p=f[0].facet,m=c&&c[d]||[];if(f.every(g=>g.type==0))if(a[p.id]=l.length<<1|1,$w(m,f))l.push(r.facet(p));else{let g=p.combine(f.map(y=>y.value));l.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of f)g.type==0?(a[g.id]=l.length<<1|1,l.push(g.value)):(a[g.id]=u.length<<1,u.push(y=>g.dynamicSlot(y)));a[p.id]=u.length<<1,u.push(g=>k6(g,p,f))}}let h=u.map(d=>d(a));return new em(e,o,h,a,l,s)}}function A6(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof Xy&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof Xy){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof UL)s(o.inner,o.prec);else if(o instanceof lr)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof np)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ia.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,Ia.default),r.reduce((o,a)=>o.concat(a))}function sh(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function tm(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const VL=Ie.define(),Zy=Ie.define({combine:t=>t.some(e=>e),static:!0}),KL=Ie.define({combine:t=>t.length?t[0]:void 0,static:!0}),GL=Ie.define(),qL=Ie.define(),YL=Ie.define(),QL=Ie.define({combine:t=>t.length?t[0]:!1});class Hs{constructor(e,n){this.type=e,this.value=n}static define(){return new E6}}class E6{of(e){return new Hs(this,e)}}class T6{constructor(e){this.map=e}of(e){return new St(this,e)}}class St{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new St(this.type,n)}is(e){return this.type==e}static define(e={}){return new T6(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}St.reconfigure=St.define();St.appendConfig=St.define();class Vn{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&WL(r,n.newLength),s.some(a=>a.type==Vn.time)||(this.annotations=s.concat(Vn.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Vn(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Vn.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Vn.time=Hs.define();Vn.userEvent=Hs.define();Vn.addToHistory=Hs.define();Vn.remote=Hs.define();function M6(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function JL(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Hn.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:St.mapEffects(t.effects,i).concat(St.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function eb(t,e,n){let r=e.selection,i=xc(e.annotations);return e.userEvent&&(i=i.concat(Vn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Hn?e.changes:Hn.of(e.changes||[],n,t.facet(KL)),selection:r&&(r instanceof Ce?r:Ce.single(r.anchor,r.head)),effects:xc(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function XL(t,e,n){let r=eb(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=JL(r,eb(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=Vn.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return R6(n?N6(i):i)}function N6(t){let e=t.startState,n=!0;for(let i of e.facet(GL)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:M6(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Hn.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Vn.create(e,i,t.selection&&t.selection.map(s),St.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(qL);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Vn?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Vn?t=s[0]:t=XL(e,xc(s),!1)}return t}function R6(t){let e=t.startState,n=e.facet(YL),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=JL(r,eb(e,s,t.changes.newLength),!0))}return r==t?t:Vn.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const L6=[];function xc(t){return t==null?L6:Array.isArray(t)?t:[t]}var yn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(yn||(yn={}));const $6=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let tb;try{tb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function O6(t){if(tb)return tb.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||$6.test(n)))return!0}return!1}function _6(t){return e=>{if(!/\S/.test(e))return yn.Space;if(O6(e))return yn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return yn.Word;return yn.Other}}class Dt{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)sh(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return sh(this,r),tm(this,r)}update(...e){return XL(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(kg.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(St.reconfigure)?(n=null,r=a.value):a.is(St.appendConfig)&&(n=null,r=xc(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=em.resolve(r,i,this),s=new Dt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(Zy)?e.newSelection:e.newSelection.asSingle();new Dt(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Ce.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=xc(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(i);for(let d=0;d<a;d++)s[d]=s[d].map(c);let h=i.mapDesc(u,!0);s.push(l.range.map(h)),i=i.compose(c),o=St.mapEffects(o,c).concat(St.mapEffects(xc(l.effects),h))}return{changes:i,selection:Ce.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Hn?e:Hn.of(e,this.doc.length,this.facet(Dt.lineSeparator))}toText(e){return Ht.of(e.split(this.facet(Dt.lineSeparator)||qy))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(sh(this,n),tm(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof lr&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Dt.create({doc:e.doc,selection:Ce.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=em.resolve(e.extensions||[],new Map),r=e.doc instanceof Ht?e.doc:Ht.of((e.doc||"").split(n.staticFacet(Dt.lineSeparator)||qy)),i=e.selection?e.selection instanceof Ce?e.selection:Ce.single(e.selection.anchor,e.selection.head):Ce.single(0);return WL(i,r.length),n.staticFacet(Zy)||(i=i.asSingle()),new Dt(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Dt.tabSize)}get lineBreak(){return this.facet(Dt.lineSeparator)||`
`}get readOnly(){return this.facet(QL)}phrase(e,...n){for(let r of this.facet(Dt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(VL))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return _6(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=ir(n,o,!1);if(s(n.slice(l,o))!=yn.Word)break;o=l}for(;a<i;){let l=ir(n,a);if(s(n.slice(a,l))!=yn.Word)break;a=l}return o==a?null:Ce.range(o+r,a+r)}}Dt.allowMultipleSelections=Zy;Dt.tabSize=Ie.define({combine:t=>t.length?t[0]:4});Dt.lineSeparator=KL;Dt.readOnly=QL;Dt.phrases=Ie.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Dt.languageData=VL;Dt.changeFilter=GL;Dt.transactionFilter=qL;Dt.transactionExtender=YL;kg.reconfigure=St.define();function Ws(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class gl{eq(e){return this==e}range(e,n=e){return nb.create(e,n,this)}}gl.prototype.startSide=gl.prototype.endSide=0;gl.prototype.point=!1;gl.prototype.mapMode=Tr.TrackDel;let nb=class ZL{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new ZL(e,n,r)}};function rb(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Ow{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,h=this.to[l]+e,d,f;if(c==h){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(d=f=p,u.startSide!=u.endSide&&(f=n.mapPos(c,u.endSide),f<d)))continue}else if(d=n.mapPos(c,u.startSide),f=n.mapPos(h,u.endSide),d>f||d==f&&u.startSide>0&&u.endSide<=0)continue;(f-d||u.endSide-u.startSide)<0||(o<0&&(o=d),u.point&&(a=Math.max(a,f-d)),r.push(u),i.push(d-o),s.push(f-o))}return{mapped:r.length?new Ow(i,s,r,a):null,pos:o}}}class zt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new zt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(rb)),this.isEmpty)return n.length?zt.of(n):this;let a=new e$(this,null,-1).goto(0),l=0,u=[],c=new po;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];c.addInner(h.from,h.to,h.value)||u.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(nb.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?zt.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:h}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(h))}}let s=this.nextLayer.map(e);return n.length==0?s:new zt(r,n,s||zt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Ph.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Ph.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=WC(o,a,r),u=new Tu(o,l,s),c=new Tu(a,l,s);r.iterGaps((h,d,f)=>UC(u,h,c,d,f,i)),r.empty&&r.length==0&&UC(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=WC(s,o),l=new Tu(s,a,0).goto(r),u=new Tu(o,a,0).goto(r);for(;;){if(l.to!=u.to||!ib(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new Tu(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),h=o.pointFrom<n?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);i.point(a,u,o.point,c,h,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new po;for(let i of e instanceof nb?[e]:n?j6(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return zt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=zt.empty;i=i.nextLayer)n=new zt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}zt.empty=new zt([],[],null,-1);function j6(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(rb(e,r)>0)return t.slice().sort(rb);e=r}return t}zt.empty.nextLayer=zt.empty;class po{finishChunk(e){this.chunks.push(new Ow(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new po)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(zt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=zt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function WC(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!(n!=null&&n.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class e${constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ph{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new e$(o,n,r,s));return i.length==1?i[0]:new Ph(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Qv(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Qv(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Qv(this.heap,0)}}}function Qv(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Tu{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ph.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){uf(this.active,e),uf(this.activeTo,e),uf(this.activeRank,e),this.minActive=VC(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;hf(this.active,n,r),hf(this.activeTo,n,i),hf(this.activeRank,n,s),e&&hf(e,n,this.cursor.from),this.minActive=VC(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&uf(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function UC(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to,c=u||t.endSide-n.endSide,h=c<0?t.to+l:n.to,d=Math.min(h,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&ib(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,d,t.point,n.point):d>a&&!ib(t.active,n.active)&&s.compareRange(a,d,t.active,n.active),h>o)break;(u||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(h),a=h,c<=0&&t.next(),c>=0&&n.next()}}function ib(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function uf(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function hf(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function VC(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function uu(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=ir(t,i));return r}function sb(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=ir(t,i)}return r===!0?-1:t.length}const ob="ͼ",KC=typeof Symbol>"u"?"__"+ob:Symbol.for(ob),ab=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),GC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class pa{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],h=/^@(\w+)\b/.exec(o[0]),d=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let f in a){let p=a[f];if(/&/.test(f))s(f.split(/,\s*/).map(m=>o.map(g=>m.replace(/&/,g))).reduce((m,g)=>m.concat(g)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(i(f),p,c,d)}else p!=null&&c.push(f.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(c.length||d)&&l.push((r&&!h&&!u?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=GC[KC]||1;return GC[KC]=e+1,ob+e.toString(36)}static mount(e,n,r){let i=e[ab],s=r&&r.nonce;i?s&&i.setNonce(s):i=new D6(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let qC=new Map;class D6{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=qC.get(r);if(s)return e[ab]=s;this.sheet=new i.CSSStyleSheet,qC.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[ab]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ma={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ih={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},P6=typeof navigator<"u"&&/Mac/.test(navigator.platform),I6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var nr=0;nr<10;nr++)ma[48+nr]=ma[96+nr]=String(nr);for(var nr=1;nr<=24;nr++)ma[nr+111]="F"+nr;for(var nr=65;nr<=90;nr++)ma[nr]=String.fromCharCode(nr+32),Ih[nr]=String.fromCharCode(nr);for(var Jv in ma)Ih.hasOwnProperty(Jv)||(Ih[Jv]=ma[Jv]);function F6(t){var e=P6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||I6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ih:ma)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function en(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)t$(t,arguments[e]);return t}function t$(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)t$(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}function Fh(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function lb(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function rp(t,e){if(!e.anchorNode)return!1;try{return lb(t,e.anchorNode)}catch{return!1}}function qc(t){return t.nodeType==3?yl(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function oh(t,e,n,r){return n?YC(t,e,n,r,-1)||YC(t,e,n,r,1):!1}function vl(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function nm(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function YC(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Is(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=vl(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Is(t):0}else return!1}}function Is(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vd(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function B6(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function n$(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function z6(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,h=!1;c&&!h;)if(c.nodeType==1){let d,f=c==l.body,p=1,m=1;if(f)d=B6(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let b=c.getBoundingClientRect();({scaleX:p,scaleY:m}=n$(c,b)),d={left:b.left,right:b.left+c.clientWidth*p,top:b.top,bottom:b.top+c.clientHeight*m}}let g=0,y=0;if(i=="nearest")e.top<d.top?(y=e.top-(d.top+o),n>0&&e.bottom>d.bottom+y&&(y=e.bottom-d.bottom+o)):e.bottom>d.bottom&&(y=e.bottom-d.bottom+o,n<0&&e.top-y<d.top&&(y=e.top-(d.top+o)));else{let b=e.bottom-e.top,C=d.bottom-d.top;y=(i=="center"&&b<=C?e.top+b/2-C/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-C+o)-d.top}if(r=="nearest"?e.left<d.left?(g=e.left-(d.left+s),n>0&&e.right>d.right+g&&(g=e.right-d.right+s)):e.right>d.right&&(g=e.right-d.right+s,n<0&&e.left<d.left+g&&(g=e.left-(d.left+s))):g=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,g||y)if(f)u.scrollBy(g,y);else{let b=0,C=0;if(y){let x=c.scrollTop;c.scrollTop+=y/m,C=(c.scrollTop-x)*m}if(g){let x=c.scrollLeft;c.scrollLeft+=g/p,b=(c.scrollLeft-x)*p}e={left:e.left-b,top:e.top-C,right:e.right-b,bottom:e.bottom-C},b&&Math.abs(b-g)<1&&(r="nearest"),C&&Math.abs(C-y)<1&&(i="nearest")}if(f)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function H6(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class W6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Is(n):0),r,Math.min(e.focusOffset,r?Is(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Pl=null;function r$(t){if(t.setActive)return t.setActive();if(Pl)return t.focus(Pl);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Pl==null?{get preventScroll(){return Pl={preventScroll:!0},!0}}:void 0),!Pl){Pl=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let QC;function yl(t,e,n=e){let r=QC||(QC=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function wc(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function U6(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function i$(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function V6(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Is(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Is(n))}else{if(n==t)return!0;r=vl(n),n=n.parentNode}}function s$(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function o$(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Is(n)}else if(n.parentNode&&!nm(n))r=vl(n),n=n.parentNode;else return null}}function a$(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!nm(n))r=vl(n)+1,n=n.parentNode;else return null}}class vr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new vr(e.parentNode,vl(e),n)}static after(e,n){return new vr(e.parentNode,vl(e)+1,n)}}const _w=[];class rn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=rn.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=JC(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=JC(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Is(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!rn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let h=this.children[l],d=u+h.length;if(u<e&&d>n)return h.domBoundsAround(e,n,u);if(d>=e&&i==-1&&(i=l,s=u),u>n&&h.dom.parentNode==this.dom){o=l,a=c;break}c=d,u=d+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=_w){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new l$(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}rn.prototype.breakAfter=0;function JC(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class l${constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function c$(t,e,n,r,i,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,h=s.length?s[s.length-1]:null,d=h?h.breakAfter:o;if(!(e==r&&c&&!o&&!d&&s.length<2&&c.merge(n,i,s.length?h:null,n==0,a,l))){if(r<u.length){let f=u[r];f&&(i<f.length||f.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(f=f.split(i),i=0),!d&&h&&f.merge(0,i,h,!0,0,l)?s[s.length-1]=f:((i||f.children.length&&!f.children[0].length)&&f.merge(0,i,null,!1,0,l),s.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function u$(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),h=e-n;for(let d of r)h+=d.length;t.length+=h,c$(t,u,c,a,l,r,0,i,s)}let Pr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},cb=typeof document<"u"?document:{documentElement:{style:{}}};const ub=/Edge\/(\d+)/.exec(Pr.userAgent),h$=/MSIE \d/.test(Pr.userAgent),hb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pr.userAgent),Ag=!!(h$||hb||ub),XC=!Ag&&/gecko\/(\d+)/i.test(Pr.userAgent),Xv=!Ag&&/Chrome\/(\d+)/.exec(Pr.userAgent),K6="webkitFontSmoothing"in cb.documentElement.style,d$=!Ag&&/Apple Computer/.test(Pr.vendor),ZC=d$&&(/Mobile\/\w+/.test(Pr.userAgent)||Pr.maxTouchPoints>2);var Pe={mac:ZC||/Mac/.test(Pr.platform),windows:/Win/.test(Pr.platform),linux:/Linux|X11/.test(Pr.platform),ie:Ag,ie_version:h$?cb.documentMode||6:hb?+hb[1]:ub?+ub[1]:0,gecko:XC,gecko_version:XC?+(/Firefox\/(\d+)/.exec(Pr.userAgent)||[0,0])[1]:0,chrome:!!Xv,chrome_version:Xv?+Xv[1]:0,ios:ZC,android:/Android\b/.test(Pr.userAgent),safari:d$,webkit_version:K6?+(/\bAppleWebKit\/(\d+)/.exec(Pr.userAgent)||[0,0])[1]:0,tabSize:cb.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const G6=256;class rs extends rn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof rs)||this.length-(n-e)+r.length>G6||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new rs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new vr(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return q6(this.dom,e,n)}}class mo extends rn{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(i$(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof mo&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(u$(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new mo(this.mark,n,o)}domAtPos(e){return f$(this,e)}coordsAt(e,n){return m$(this,e,n)}}function q6(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?Pe.chrome||Pe.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=yl(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return Pe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?vd(l,o<0):l||null}class Yo extends rn{static create(e,n,r){return new Yo(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Yo.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Yo)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Yo&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Ht.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Ht.empty}domAtPos(e){return(this.length?e==0:this.side>0)?vr.before(this.dom):vr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return vd(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Yc extends rn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Yc&&e.side==this.side}split(){return new Yc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?vr.before(this.dom):vr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ht.empty}get isHidden(){return!0}}rs.prototype.children=Yo.prototype.children=Yc.prototype.children=_w;function f$(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new vr(n,0)}function p$(t,e,n){let r,{children:i}=t;n>0&&e instanceof mo&&i.length&&(r=i[i.length-1])instanceof mo&&r.mark.eq(e.mark)?p$(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function m$(t,e,n){let r=null,i=-1,s=null,o=-1;function a(u,c){for(let h=0,d=0;h<u.children.length&&d<=c;h++){let f=u.children[h],p=d+f.length;p>=c&&(f.children.length?a(f,c-d):(!s||s.isHidden&&(n>0||Q6(s,f)))&&(p>c||d==p&&f.getSide()>0)?(s=f,o=c-d):(d<c||d==p&&f.getSide()<0&&!f.isHidden)&&(r=f,i=c-d)),d=p}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):Y6(t)}function Y6(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=qc(e);return n[n.length-1]||null}function Q6(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function db(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const ek=Object.create(null);function rm(t,e,n){if(t==e)return!0;t||(t=ek),e||(e=ek);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function fb(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function J6(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class bo{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Rr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Rr||(Rr={}));class Xe extends gl{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new yd(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new ga(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=g$(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new ga(e,r,i,n,e.widget||null,!0)}static line(e){return new bd(e)}static set(e,n=!1){return zt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Xe.none=zt.empty;class yd extends Xe{constructor(e){let{start:n,end:r}=g$(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof yd&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&rm(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}yd.prototype.point=!1;class bd extends Xe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof bd&&this.spec.class==e.spec.class&&rm(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}bd.prototype.mapMode=Tr.TrackBefore;bd.prototype.point=!0;class ga extends Xe{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?Tr.TrackBefore:Tr.TrackAfter:Tr.TrackDel}get type(){return this.startSide!=this.endSide?Rr.WidgetRange:this.startSide<=0?Rr.WidgetBefore:Rr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ga&&X6(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}ga.prototype.point=!0;function g$(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function X6(t,e){return t==e||!!(t&&e&&t.compare(e))}function ip(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class _n extends rn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof _n))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),u$(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new _n;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){rm(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){p$(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=db(n,this.attrs||{})),r&&(this.attrs=db({class:r},this.attrs||{}))}domAtPos(e){return f$(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(i$(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(fb(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&rn.get(i)instanceof mo;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=rn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Pe.ios||!this.children.some(s=>s instanceof rs))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof rs)||/[^ -~]/.test(r.text))return null;let i=qc(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=m$(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof _n&&this.children.length==0&&e.children.length==0&&rm(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof _n)return s;if(o>n)break}i=o+s.breakAfter}return null}}class oo extends rn{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof oo)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?vr.before(this.dom):vr.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new oo(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return _w}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ht.empty}domBoundsAround(){return null}become(e){return e instanceof oo&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof pb?null:vd(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class pb extends bo{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ah{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof oo&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new _n),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(df(new Yc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof oo)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(df(new rs(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof ga){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof ga)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new oo(r.widget||Qc.block,a,r));else{let l=Yo.create(r.widget||Qc.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(h.append(df(new Yc(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(df(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new ah(e,n,r,s);return o.openEnd=zt.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function df(t,e){for(let n of e)t=new mo(n,[t],t.length);return t}class Qc extends bo{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Qc.inline=new Qc("span");Qc.block=new Qc("div");var mn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(mn||(mn={}));const bl=mn.LTR,jw=mn.RTL;function v$(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Z6=v$("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),eW=v$("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),mb=Object.create(null),fs=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);mb[e]=n,mb[n]=-e}function y$(t){return t<=247?Z6[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?eW[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const tW=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Qo{get dir(){return this.level%2?jw:bl}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function b$(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!b$(r.inner,i.inner))return!1}return!0}const tn=[];function nW(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let u=o,c=l,h=l;u<a;u++){let d=y$(t.charCodeAt(u));d==512?d=c:d==8&&h==4&&(d=16),tn[u]=d==4?2:d,d&7&&(h=d),c=d}for(let u=o,c=l,h=l;u<a;u++){let d=tn[u];if(d==128)u<a-1&&c==tn[u+1]&&c&24?d=tn[u]=c:tn[u]=256;else if(d==64){let f=u+1;for(;f<a&&tn[f]==64;)f++;let p=u&&c==8||f<n&&tn[f]==8?h==1?1:8:256;for(let m=u;m<f;m++)tn[m]=p;u=f-1}else d==8&&h==1&&(tn[u]=1);c=d,d&7&&(h=d)}}}function rW(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let h=u,d,f,p;h<c;h++)if(f=mb[d=t.charCodeAt(h)])if(f<0){for(let m=a-3;m>=0;m-=3)if(fs[m+1]==-f){let g=fs[m+2],y=g&2?i:g&4?g&1?s:i:0;y&&(tn[h]=tn[fs[m]]=y),a=m;break}}else{if(fs.length==189)break;fs[a++]=h,fs[a++]=d,fs[a++]=l}else if((p=tn[h])==2||p==1){let m=p==i;l=m?0:1;for(let g=a-3;g>=0;g-=3){let y=fs[g+2];if(y&2)break;if(m)fs[g+2]|=2;else{if(y&4)break;fs[g+2]|=4}}}}}function iW(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let u=tn[l];if(u==256){let c=l+1;for(;;)if(c==a){if(i==n.length)break;c=n[i++].to,a=i<n.length?n[i].from:e}else if(tn[c]==256)c++;else break;let h=s==1,d=(c<e?tn[c]:r)==1,f=h==d?h?1:2:r;for(let p=c,m=i,g=m?n[m-1].to:t;p>l;)p==g&&(p=n[--m].from,g=m?n[m-1].to:t),tn[--p]=f;l=c}else s=u,l++}}}function gb(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let c=!0,h=!1;if(u==s.length||l<s[u].from){let m=tn[l];m!=a&&(c=!1,h=m==16)}let d=!c&&a==1?[]:null,f=c?r:r+1,p=l;e:for(;;)if(u<s.length&&p==s[u].from){if(h)break e;let m=s[u];if(!c)for(let g=m.to,y=u+1;;){if(g==n)break e;if(y<s.length&&s[y].from==g)g=s[y++].to;else{if(tn[g]==a)break e;break}}if(u++,d)d.push(m);else{m.from>l&&o.push(new Qo(l,m.from,f));let g=m.direction==bl!=!(f%2);vb(t,g?r+1:r,i,m.inner,m.from,m.to,o),l=m.to}p=m.to}else{if(p==n||(c?tn[p]!=a:tn[p]==a))break;p++}d?gb(t,l,p,r+1,i,d,o):l<p&&o.push(new Qo(l,p,f)),l=p}else for(let l=n,u=s.length;l>e;){let c=!0,h=!1;if(!u||l>s[u-1].to){let m=tn[l-1];m!=a&&(c=!1,h=m==16)}let d=!c&&a==1?[]:null,f=c?r:r+1,p=l;e:for(;;)if(u&&p==s[u-1].to){if(h)break e;let m=s[--u];if(!c)for(let g=m.from,y=u;;){if(g==e)break e;if(y&&s[y-1].to==g)g=s[--y].from;else{if(tn[g-1]==a)break e;break}}if(d)d.push(m);else{m.to<l&&o.push(new Qo(m.to,l,f));let g=m.direction==bl!=!(f%2);vb(t,g?r+1:r,i,m.inner,m.from,m.to,o),l=m.from}p=m.from}else{if(p==e||(c?tn[p-1]!=a:tn[p-1]==a))break;p--}d?gb(t,p,l,r+1,i,d,o):p<l&&o.push(new Qo(p,l,f)),l=p}}function vb(t,e,n,r,i,s,o){let a=e%2?2:1;nW(t,i,s,r,a),rW(t,i,s,r,a),iW(i,s,r,a),gb(t,i,s,e,n,r,o)}function sW(t,e,n){if(!t)return[new Qo(0,0,e==jw?1:0)];if(e==bl&&!n.length&&!tW.test(t))return x$(t.length);if(n.length)for(;t.length>tn.length;)tn[tn.length]=256;let r=[],i=e==bl?0:1;return vb(t,i,i,n,0,t.length,r),r}function x$(t){return[new Qo(0,t,0)]}let w$="";function oW(t,e,n,r,i){var s;let o=r.head-t.from,a=Qo.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(i,n);if(o==u){let d=a+=i?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!i,n),u=l.side(i,n)}let c=ir(t.text,o,l.forward(i,n));(c<l.from||c>l.to)&&(c=u),w$=t.text.slice(Math.min(o,c),Math.max(o,c));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<l.level?Ce.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):Ce.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function aW(t,e,n){for(let r=e;r<n;r++){let i=y$(t.charCodeAt(r));if(i==1)return bl;if(i==2||i==4)return jw}return bl}const S$=Ie.define(),C$=Ie.define(),k$=Ie.define(),A$=Ie.define(),yb=Ie.define(),E$=Ie.define(),T$=Ie.define(),Dw=Ie.define(),Pw=Ie.define(),M$=Ie.define({combine:t=>t.some(e=>e)}),N$=Ie.define({combine:t=>t.some(e=>e)}),R$=Ie.define();class Sc{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Sc(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Sc(Ce.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ff=St.define({map:(t,e)=>t.map(e)}),L$=St.define();function Wr(t,e,n){let r=t.facet(A$);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const no=Ie.define({combine:t=>t.length?t[0]:!0});let lW=0;const ic=Ie.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class On{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(ic.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(ic.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new On(lW++,e,r,i,a=>{let l=[];return o&&l.push(Bh.of(u=>{let c=u.plugin(a);return c?o(c):Xe.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return On.define((r,i)=>new e(r,i),n)}}class Zv{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Wr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Wr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Wr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $$=Ie.define(),Iw=Ie.define(),Bh=Ie.define(),O$=Ie.define(),Fw=Ie.define(),_$=Ie.define();function tk(t,e){let n=t.state.facet(_$);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return zt.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,h=i;for(let d=a.length-1;d>=0;d--,l--){let f=a[d].spec.bidiIsolate,p;if(f==null&&(f=aW(e.text,u,c)),l>0&&h.length&&(p=h[h.length-1]).to==u&&p.direction==f)p.to=c,h=p.inner;else{let m={from:u,to:c,direction:f,inner:[]};h.push(m),h=m.inner}}}}),i}const j$=Ie.define();function Bw(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(j$)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Hu=Ie.define();class Li{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Li(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let h=n[s],d=n[s+1],f=Math.max(a,h),p=Math.min(c,d);if(f<=p&&new Li(f+u,p+u,f,p).addToSet(r),d>c)break;s+=2}if(!l)return r;new Li(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class im{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Hn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Li(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new im(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class nk extends rn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Xe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new _n],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Li(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!mW(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?uW(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new Li(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Pe.ie||Pe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=fW(o,a,e.changes);return r=Li.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Pe.chrome||Pe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof oo&&o.widget instanceof pb&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:h}=a,d,f,p,m;if(r&&r.range.fromB<h&&r.range.toB>c){let x=ah.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=ah.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);f=x.breakAtStart,p=x.openStart,m=S.openEnd;let w=this.compositionView(r);S.breakAtStart?w.breakAfter=1:S.content.length&&w.merge(w.length,w.length,S.content[0],!1,S.openStart,0)&&(w.breakAfter=S.content[0].breakAfter,S.content.shift()),x.content.length&&w.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),d=x.content.concat(w).concat(S.content)}else({content:d,breakAtStart:f,openStart:p,openEnd:m}=ah.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:g,off:y}=s.findPos(u,1),{i:b,off:C}=s.findPos(l,-1);c$(this,b,C,g,y,d,f,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(L$)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new rs(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new mo(i,[n],n.length);let r=new _n;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=rn.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(no)||this.dom.tabIndex>-1)&&rp(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Pe.gecko&&a.empty&&!this.hasComposition&&cW(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=u=new vr(h,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!oh(l.node,l.offset,c.anchorNode,c.anchorOffset)||!oh(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{Pe.android&&Pe.chrome&&this.dom.contains(c.focusNode)&&pW(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=Fh(this.view.root);if(h)if(a.empty){if(Pe.gecko){let d=hW(l.node,l.offset);if(d&&d!=3){let f=(d==1?o$:a$)(l.node,l.offset);f&&(l=new vr(f.node,f.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new vr(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new vr(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&oh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Fh(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=_n.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=rn.get(n.childNodes[i]);s instanceof _n&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=rn.get(n.childNodes[i]);s instanceof _n&&(r=s.domAtPos(s.length))}return r?new vr(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=rn.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof _n)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof _n&&!(r instanceof _n&&n>=0)))r=a,i=u;else if(r&&u==e&&l==e&&a instanceof oo&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof _n))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof rs))return null;let s=ir(i.text,r);if(s==r)return null;let o=yl(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==mn.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],d=u+h.length;if(d>i)break;if(u>=r){let f=h.dom.getBoundingClientRect();if(n.push(f.height),o){let p=h.dom.lastChild,m=p?qc(p):[];if(m.length){let g=m[m.length-1],y=l?g.right-f.left:f.right-g.left;y>a&&(a=y,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?mn.RTL:mn.LTR}measureTextSize(){for(let s of this.children)if(s instanceof _n){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=qc(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new l$(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Xe.replace({widget:new pb(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Xe.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Bh).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(O$).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(zt.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(R$))try{if(u(this.view,e.range,e))return!0}catch(c){Wr(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=Bw(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;z6(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==mn.LTR)}}function cW(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function D$(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=o$(n.focusNode,n.focusOffset),i=a$(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=rn.get(i.node);if(!a||a instanceof rs&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=rn.get(r.node);!l||l instanceof rs&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function uW(t,e,n){let r=D$(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new Li(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let h=i.parentNode;;h=h.parentNode){let d=rn.get(h);if(d instanceof mo)c.push({node:h,deco:d.mark});else{if(d instanceof _n||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:h};if(h!=t.contentDOM)c.push({node:h,deco:new yd({inclusive:!0,attributes:J6(h),tagName:h.tagName.toLowerCase()})});else return null}}}function hW(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let dW=class{constructor(){this.changes=[]}compareRange(e,n){ip(e,n,this.changes)}comparePoint(e,n){ip(e,n,this.changes)}boundChange(e){ip(e,e,this.changes)}};function fW(t,e,n){let r=new dW;return zt.compare(t,e,n,r),r.changes}function pW(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function mW(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function gW(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Ce.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=ir(i.text,s,!1):a=ir(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=ir(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=ir(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return Ce.range(o+i.from,a+i.from)}function vW(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function yW(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function e0(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function rk(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function ik(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function bb(t,e,n){let r,i,s,o,a=!1,l,u,c,h;for(let p=t.firstChild;p;p=p.nextSibling){let m=qc(p);for(let g=0;g<m.length;g++){let y=m[g];i&&e0(i,y)&&(y=rk(ik(y,i.bottom),i.top));let b=vW(e,y),C=yW(n,y);if(b==0&&C==0)return p.nodeType==3?sk(p,e,n):bb(p,e,n);(!r||o>C||o==C&&s>b)&&(r=p,i=y,s=b,o=C,a=b?e<y.left?g>0:g<m.length-1:!0),b==0?n>y.bottom&&(!c||c.bottom<y.bottom)?(l=p,c=y):n<y.top&&(!h||h.top>y.top)&&(u=p,h=y):c&&e0(c,y)?c=ik(c,y.bottom):h&&e0(h,y)&&(h=rk(h,y.top))}}if(c&&c.bottom>=n?(r=l,i=c):h&&h.top<=n&&(r=u,i=h),!r)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return sk(r,d,n);if(a&&r.contentEditable!="false")return bb(r,d,n);let f=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:f}}function sk(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=yl(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<s){let d=e>=(c.left+c.right)/2,f=d;if((Pe.chrome||Pe.gecko)&&yl(t,a).getBoundingClientRect().left==c.right&&(f=!d),h<=0)return{node:t,offset:a+(f?1:0)};i=a+(f?1:0),s=h}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function P$(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:h}=e,d=h-a;if(d<0)return 0;if(d>u)return t.state.doc.length;for(let x=t.viewState.heightOracle.textHeight/2,S=!1;l=t.elementAtHeight(d),l.type!=Rr.Text;)for(;d=r>0?l.bottom+x:l.top-x,!(d>=0&&d<=u);){if(S)return n?null:0;S=!0,r=-r}h=a+d;let f=l.from;if(f<t.viewport.from)return t.viewport.from==0?0:n?null:ok(t,o,l,c,h);if(f>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:ok(t,o,l,c,h);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,g=m.elementFromPoint(c,h);g&&!t.contentDOM.contains(g)&&(g=null),g||(c=Math.max(o.left+1,Math.min(o.right-1,c)),g=m.elementFromPoint(c,h),g&&!t.contentDOM.contains(g)&&(g=null));let y,b=-1;if(g&&((i=t.docView.nearest(g))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let x=p.caretPositionFromPoint(c,h);x&&({offsetNode:y,offset:b}=x)}else if(p.caretRangeFromPoint){let x=p.caretRangeFromPoint(c,h);x&&({startContainer:y,startOffset:b}=x,(!t.contentDOM.contains(y)||Pe.safari&&bW(y,b,c)||Pe.chrome&&xW(y,b,c))&&(y=void 0))}y&&(b=Math.min(Is(y),b))}if(!y||!t.docView.dom.contains(y)){let x=_n.find(t.docView,f);if(!x)return d>l.top+l.height/2?l.to:l.from;({node:y,offset:b}=bb(x.dom,c,h))}let C=t.docView.nearest(y);if(!C)return null;if(C.isWidget&&((s=C.dom)===null||s===void 0?void 0:s.nodeType)==1){let x=C.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(y,b)+C.posAtStart}function ok(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+sb(o,s,t.state.tabSize)}function bW(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return yl(t,r-1,r).getBoundingClientRect().right>n}function xW(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():yl(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function xb(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Rr.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function wW(t,e,n,r){let i=xb(t,e.head,e.assoc||-1),s=!r||i.type!=Rr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==mn.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Ce.cursor(l,n?-1:1)}return Ce.cursor(n?i.to:i.from,n?-1:1)}function ak(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=oW(i,s,o,a,n),c=w$;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function SW(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==yn.Space&&(i=o),i==o}}function CW(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Ce.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let f=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-f.from))),a=(s<0?f.top:f.bottom)+c}let h=l.left+o,d=r??t.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=a+(d+f)*s,m=P$(t,{x:h,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?m<i:m>i)){let g=t.docView.coordsForChar(m),y=!g||p<g.top?-1:1;return Ce.cursor(m,y,void 0,o)}}}function sp(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function t0(t,e,n){let r=sp(t.state.facet(Fw).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Ce.cursor(r,r<n.from?1:-1)}const Wu="￿";class kW{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Dt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Wu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=rn.get(i),l=rn.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:nm(i))||nm(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=rn.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(AW(e,r.node,r.offset)?n:0))}}function AW(t,e,n){for(;;){if(!e||n<Is(e))return!1;if(e==t)return!0;n=vl(e)+1,e=e.parentNode}}class lk{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class EW{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:NW(e),l=new kW(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=RW(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!lb(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!lb(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((Pe.ios||Pe.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(l,u),d=Math.max(l,u),f=c.from-h,p=c.to-d;(f==0||f==1||h==0)&&(p==0||p==-1||d==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Ce.single(u,l)}}}function I$(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||Pe.android&&e.text.length<a-o)&&(l=i.to,u="end");let c=MW(t.state.doc.sliceString(o,a,Wu),e.text,l-o,u);c&&(Pe.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Wu+Wu&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:Ht.of(e.text.slice(c.from,c.toB).split(Wu))})}else r&&(!t.hasFocus&&t.state.facet(no)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(Pe.mac||Pe.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ce.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ht.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:Pe.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Ce.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Ht.of([" "])}),n)return zw(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function zw(t,e,n,r=-1){if(Pe.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Pe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&wc(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&wc(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&wc(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=TW(t,e,n));return t.state.facet(E$).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function TW(t,e,n){let r,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=t.state.sliceDoc(e.from,e.to),c,h=n&&D$(t,n.main.head);if(h){let p=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-p}}else c=t.state.doc.lineAt(s.head);let d=s.to-e.to,f=s.to-s.from;r=i.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:a,range:l||p.map(a)};let m=p.to-d,g=m-u.length;if(p.to-p.from!=f||t.state.sliceDoc(g,m)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let y=i.changes({from:g,to:m,insert:e.insert}),b=p.to-s.to;return{changes:y,range:l?Ce.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):p.map(y)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function MW(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function NW(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new lk(n,r)),(i!=n||s!=r)&&e.push(new lk(i,s))),e}function RW(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Ce.single(n+e,r+e):null}class LW{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Pe.safari&&e.contentDOM.addEventListener("input",()=>null),Pe.gecko&&GW(e.contentDOM.ownerDocument)}handleEvent(e){!FW(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=$W(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&B$.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Pe.android&&Pe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Pe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=F$.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||OW.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,wc(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Pe.safari&&!Pe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function ck(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Wr(n.state,i)}}}function $W(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&n(a).handlers.push(ck(r.value,l))}if(o)for(let a in o){let l=o[a];l&&n(a).observers.push(ck(r.value,l))}}for(let r in is)n(r).handlers.push(is[r]);for(let r in Di)n(r).observers.push(Di[r]);return e}const F$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],OW="dthko",B$=[16,17,18,20,91,92,224,225],pf=6;function mf(t){return Math.max(0,t)*.7+8}function _W(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class jW{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=H6(e.contentDOM),this.atoms=e.state.facet(Fw).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Dt.allowMultipleSelections)&&DW(e,n),this.dragging=IW(e,n)&&W$(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&_W(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Bw(this.view);e.clientX-l.left<=i+pf?n=-mf(i-e.clientX):e.clientX+l.right>=o-pf&&(n=mf(e.clientX-o)),e.clientY-l.top<=s+pf?r=-mf(s-e.clientY):e.clientY+l.bottom>=a-pf&&(r=mf(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=sp(this.atoms,i.from,0);o!=i.from&&(s=Ce.cursor(o,-1))}else{let o=sp(this.atoms,i.from,-1),a=sp(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=Ce.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Ce.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function DW(t,e){let n=t.state.facet(S$);return n.length?n[0](e):Pe.mac?e.metaKey:e.ctrlKey}function PW(t,e){let n=t.state.facet(C$);return n.length?n[0](e):Pe.mac?!e.altKey:!e.ctrlKey}function IW(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Fh(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function FW(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=rn.get(n))&&r.ignoreEvent(e))return!1;return!0}const is=Object.create(null),Di=Object.create(null),z$=Pe.ie&&Pe.ie_version<15||Pe.ios&&Pe.webkit_version<604;function BW(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),H$(t,n.value)},50)}function Eg(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function H$(t,e){e=Eg(t.state,Dw,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(wb!=null&&n.selection.ranges.every(l=>l.empty)&&wb==s.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let h=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:h},range:Ce.cursor(u.from+h.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Ce.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Di.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};is.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Di.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Di.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};is.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(k$))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=WW(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new jW(t,e,n,r)),r&&t.observer.ignore(()=>{r$(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function uk(t,e,n,r){if(r==1)return Ce.cursor(e,n);if(r==2)return gW(t.state,e,n);{let i=_n.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Ce.range(o,a)}}let hk=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function zW(t,e,n,r){let i=_n.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&hk(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&hk(n,r,a)?1:o&&o.bottom>=r?-1:1}function dk(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:zW(t,n,e.clientX,e.clientY)}}const HW=Pe.ie&&Pe.ie_version<=11;let fk=null,pk=0,mk=0;function W$(t){if(!HW)return t.detail;let e=fk,n=mk;return fk=t,mk=Date.now(),pk=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(pk+1)%3:1}function WW(t,e){let n=dk(t,e),r=W$(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=dk(t,s),u,c=uk(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let h=uk(t,n.pos,n.bias,r),d=Math.min(h.from,c.from),f=Math.max(h.to,c.to);c=d<c.from?Ce.range(d,f):Ce.range(f,d)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(u=UW(i,l.pos))?u:a?i.addRange(c):Ce.create([c])}}}function UW(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Ce.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}is.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Ce.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Eg(t.state,Pw,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};is.dragend=t=>(t.inputState.draggedContent=null,!1);function gk(t,e,n,r){if(n=Eg(t.state,Dw,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&PW(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}is.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&gk(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return gk(t,e,r,!0),!0}return!1};is.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=z$?null:e.clipboardData;return n?(H$(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(BW(t),!1)};function VW(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function KW(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:Eg(t,Pw,e.join(t.lineBreak)),ranges:n,linewise:r}}let wb=null;is.copy=is.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=KW(t.state);if(!n&&!i)return!1;wb=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=z$?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(VW(t,n),!1)};const U$=Hs.define();function V$(t,e){let n=[];for(let r of t.facet(T$)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:U$.of(!0)}):null}function K$(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=V$(t.state,e);n?t.dispatch(n):t.update([])}},10)}Di.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),K$(t)};Di.blur=t=>{t.observer.clearSelectionRange(),K$(t)};Di.compositionstart=Di.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Di.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Pe.chrome&&Pe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Di.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};is.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),u=t.posAtDOM(a.endContainer,a.endOffset);return zw(t,{from:l,to:u,insert:t.state.toText(s)},null),!0}}let i;if(Pe.chrome&&Pe.android&&(i=F$.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Pe.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Pe.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Di.compositionend(t,e),20),!1};const vk=new Set;function GW(t){vk.has(t)||(vk.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const yk=["pre-wrap","normal","pre-line","break-spaces"];let Jc=!1;function bk(){Jc=!1}class qW{constructor(e){this.lineWrapping=e,this.doc=Ht.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return yk.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=yk.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class YW{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Ts{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Rr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ga?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ts(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var fn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(fn||(fn={}));const op=.001;class Lr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>op&&(Jc=!0),this.height=e)}replace(e,n,r){return Lr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:h}=i[a],d=s.lineAt(l,fn.ByPosNoHeight,r.setDoc(n),0,0),f=d.to>=u?d:s.lineAt(u,fn.ByPosNoHeight,r,0,0);for(h+=f.to-u,u=f.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,fn.ByPosNoHeight,r,0,0));c+=d.from-l,l=d.from;let p=Hw.build(r.setDoc(o),e,c,h);s=sm(s,s.replace(l,u,p))}return s.updateHeight(r,0)}static empty(){return new oi(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new QW(Lr.of(e.slice(0,n)),o,Lr.of(e.slice(r)))}}function sm(t,e){return t==e?t:(t.constructor!=e.constructor&&(Jc=!0),e)}Lr.prototype.size=1;class G$ extends Lr{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Ts(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class oi extends G${constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Ts(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof oi||i instanceof tr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof tr?i=new oi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Lr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class tr extends Lr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(u),h=a+c.length*l,d=Math.max(r,e-h/2);return new Ts(c.from,c.length,d,h,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:h}=n.doc.line(s+u);return new Ts(c,h,r+a*u,a,0)}}lineAt(e,n,r,i,s){if(n==fn.ByHeight)return this.blockAt(e,r,i,s);if(n==fn.ByPosNoHeight){let{from:f,to:p}=r.doc.lineAt(e);return new Ts(f,p-f,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=a+u.length*l,h=u.number-o,d=i+a*h+l*(u.from-s-h);return new Ts(u.from,u.length,Math.max(i,Math.min(d,i+this.height-c)),c,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,h=i;c<=n;){let d=r.doc.lineAt(c);if(c==e){let p=d.number-a;h+=l*p+u*(e-s-p)}let f=l+u*d.length;o(new Ts(d.from,d.length,h,f,0)),h+=f,c=d.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof tr?r[r.length-1]=new tr(s.length+i):r.push(null,new tr(i-1))}if(e>0){let s=r[0];s instanceof tr?r[0]=new tr(e+s.length):r.unshift(new tr(e-1),null)}return Lr.of(r)}decomposeLeft(e,n){n.push(new tr(e-1),null)}decomposeRight(e,n){n.push(null,new tr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new tr(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=op&&(l=-2);let d=new oi(c,h);d.outdated=!1,o.push(d),a+=c+1}a<=s&&o.push(null,new tr(s-a).updateHeight(e,a));let u=Lr.of(o);return(l<0||Math.abs(u.height-this.height)>=op||Math.abs(l-this.heightMetrics(e,n).perLine)>=op)&&(Jc=!0),sm(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class QW extends Lr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==fn.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==fn.ByPosNoHeight?fn.ByPosNoHeight:fn.ByPos;return l?u.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,fn.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&xk(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),xk(s,a)}return Lr.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Lr.of(this.break?[e,null,n]:[e,n]):(this.left=sm(this.left,e),this.right=sm(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function xk(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof tr&&(r=t[e+1])instanceof tr&&t.splice(e-1,3,new tr(n.length+1+r.length))}const JW=5;class Hw{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof oi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new oi(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new G$(o,i,r)):(o||s||i>=JW)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new oi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new tr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof oi)return e;let n=new oi(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof oi)&&!this.isCovered?this.nodes.push(new oi(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof oi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new Hw(r,e);return zt.spans(n,r,i,s,0),s.finish(r)}}function XW(t,e,n){let r=new ZW;return zt.compare(t,e,n,r,0),r.changes}class ZW{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&ip(e,n,this.changes,5)}}function e8(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let d=c.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(u==t.parentNode?i.innerHeight:l,d.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function t8(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function n8(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class n0{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return Xe.replace({widget:new r8(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class r8 extends bo{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class wk{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Sk,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=mn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Iw).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new qW(n),this.stateDeco=e.facet(Bh).filter(r=>typeof r!="function"),this.heightMap=Lr.empty().applyChanges(this.stateDeco,Ht.empty,this.heightOracle.setDoc(e.doc),[new Li(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Xe.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new gf(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Sk:new Ww(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Uu(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Bh).filter(c=>typeof c!="function");let i=e.changedRanges,s=Li.extendWithRanges(i,XW(r,this.stateDeco,e?e.changes:Hn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);bk(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Jc)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(N$)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?mn.RTL:mn.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:x,scaleY:S}=n$(n,a);(x>.005&&Math.abs(this.scaleX-x)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=x,this.scaleY=S,u|=16,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=d)&&(this.paddingTop=h,this.paddingBottom=d,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=s$(e.scrollDOM);let p=(this.printing?n8:e8)(n,this.paddingTop),m=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget&&!t8(e.dom))return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let x=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(x)&&(o=!0),o||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:w,textHeight:k}=e.docView.measureTextSize();o=S>0&&i.refresh(s,S,w,k,b/w,x),o&&(e.docView.minWidth=0,u|=16)}m>0&&g>0?c=Math.max(m,g):m<0&&g<0&&(c=Math.min(m,g)),bk();for(let S of this.viewports){let w=S.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(S);this.heightMap=(o?Lr.empty().applyChanges(this.stateDeco,Ht.empty,this.heightOracle,[new Li(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new YW(S.from,w))}Jc&&(u|=2)}let C=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new gf(i.lineAt(o-r*1e3,fn.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,fn.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,fn.ByPos,s,0,0),d;n.y=="center"?d=(h.top+h.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?d=h.top:d=h.bottom-c,l=new gf(i.lineAt(d-1e3/2,fn.ByHeight,s,0,0).from,i.lineAt(d+c+1e3/2,fn.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new gf(this.heightMap.lineAt(r,fn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,fn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,fn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,fn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new n0(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=mn.LTR&&!r)return[];let a=[],l=(c,h,d,f)=>{if(h-c<s)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let y of m)if(y>c&&y<h){l(c,y-10,d,f),l(y+10,h,d,f);return}let g=s8(e,y=>y.from>=d.from&&y.to<=d.to&&Math.abs(y.from-c)<s&&Math.abs(y.to-h)<s&&!m.some(b=>y.from<b&&y.to>b));if(!g){if(h<d.to&&n&&r&&n.visibleRanges.some(C=>C.from<=h&&C.to>=h)){let C=n.moveToLineBoundary(Ce.cursor(h),!1,!0).head;C>c&&(h=C)}let y=this.gapSize(d,c,h,f),b=r||y<2e6?y:2e6;g=new n0(c,h,y,b)}a.push(g)},u=c=>{if(c.length<o||c.type!=Rr.Text)return;let h=i8(c.from,c.to,this.stateDeco);if(h.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,y;if(d!=null){let b=yf(h,d),C=((this.visibleBottom-this.visibleTop)/2+m)/c.height;g=b-C,y=b+C}else g=(this.visibleTop-c.top-m)/c.height,y=(this.visibleBottom-c.top+m)/c.height;f=vf(h,g),p=vf(h,y)}else{let m=h.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,y=0;if(m>2e6)for(let w of e)w.from>=c.from&&w.from<c.to&&w.size!=w.displaySize&&w.from*this.heightOracle.charWidth+y<this.pixelViewport.left&&(y=w.size-w.displaySize);let b=this.pixelViewport.left+y,C=this.pixelViewport.right+y,x,S;if(d!=null){let w=yf(h,d),k=((C-b)/2+g)/m;x=w-k,S=w+k}else x=(b-g)/m,S=(C+g)/m;f=vf(h,x),p=vf(h,S)}f>c.from&&l(c.from,f,c,h),p<c.to&&l(p,c.to,c,h)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,n,r,i){let s=yf(i,r)-yf(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){n0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Xe.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];zt.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Uu(this.heightMap.lineAt(e,fn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Uu(this.heightMap.lineAt(this.scaler.fromDOM(e),fn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Uu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class gf{constructor(e,n){this.from=e,this.to=n}}function i8(t,e,n){let r=[],i=t,s=0;return zt.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function vf({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function yf(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function s8(t,e){for(let n of t)if(e(n))return n}const Sk={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class Ww{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,fn.ByPos,e,0,0).top,c=n.lineAt(l,fn.ByPos,e,0,0).bottom;return i+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof Ww?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Uu(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ts(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Uu(i,e)):t._content)}const bf=Ie.define({combine:t=>t.join(" ")}),Sb=Ie.define({combine:t=>t.indexOf(!0)>-1}),Cb=pa.newName(),q$=pa.newName(),Y$=pa.newName(),Q$={"&light":"."+q$,"&dark":"."+Y$};function kb(t,e,n){return new pa(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const o8=kb("."+Cb,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Q$),a8={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},r0=Pe.ie&&Pe.ie_version<=11;class l8{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new W6,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Pe.ie&&Pe.ie_version<=11||Pe.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Pe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Pe.chrome&&Pe.chrome_version<126)&&(this.editContext=new u8(e),e.state.facet(no)&&(e.contentDOM.editContext=this.editContext.editContext)),r0&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(no)?r.root.activeElement!=this.dom:!rp(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Pe.ie&&Pe.ie_version<=11||Pe.android&&Pe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&oh(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Fh(e.root);if(!n)return!1;let r=Pe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&c8(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=rp(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&V6(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,a8),r0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),r0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&wc(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&rp(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new EW(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=I$(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=Ck(n,e.previousSibling||e.target.previousSibling,-1),i=Ck(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(no)!=e.state.facet(no)&&(e.view.contentDOM.editContext=e.state.facet(no)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Ck(t,e,n){for(;e;){let r=rn.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function kk(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return oh(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function c8(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return kk(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?kk(t,n):null}class u8{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u={from:a,to:l,insert:Ht.of(r.text.split(`
`))};if(u.from==this.from&&s<this.from?u.from=s:u.to==this.to&&s>this.to&&(u.to=s),u.from==u.to&&!u.insert.length){let c=Ce.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));c.main.eq(i)||e.dispatch({selection:c,userEvent:"select"});return}if((Pe.mac||Pe.android)&&u.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:a,to:l,insert:Ht.of([r.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let c=this.to-this.from+(u.to-u.from+u.insert.length);zw(e,u,Ce.single(this.toEditorPos(r.selectionStart,c),this.toEditorPos(r.selectionEnd,c)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let c=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(Xe.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:L$.of(Xe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Fh(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(r)return;let c=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Re{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||U6(e.parent)||document,this.viewState=new wk(e.state||Dt.create(e)),e.scrollTo&&e.scrollTo.is(ff)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ic).map(i=>new Zv(i));for(let i of this.plugins)i.update(this);this.observer=new l8(this),this.inputState=new LW(this),this.inputState.ensureHandlers(this.plugins),this.docView=new nk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Vn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(U$))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=V$(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Dt.phrases)!=this.state.facet(Dt.phrases))return this.setState(s);i=im.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(h&&(h=h.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;h=new Sc(f.empty?f:Ce.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(ff)&&(h=f.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=om.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Hu)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(bf)!=i.state.facet(bf)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(yb))try{d(i)}catch(f){Wr(this.state,f,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!I$(this,c)&&u.force&&wc(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new wk(e),this.plugins=e.facet(ic).map(r=>new Zv(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new nk(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(ic),r=e.state.facet(ic);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new Zv(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Wr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(s$(r))s=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(i);s=f.from,o=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(f=>{try{return f.read(this)}catch(p){return Wr(this.state,p),Ak}}),h=im.create(this,this.state,[]),d=!1;h.flags|=l,n?n.flags|=l:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h),d&&this.docViewUpdate());for(let f=0;f<u.length;f++)if(c[f]!=Ak)try{let p=u[f];p.write&&p.write(c[f],this)}catch(p){Wr(this.state,p)}if(d&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(yb))a(n)}get themeClasses(){return Cb+" "+(this.state.facet(Sb)?Y$:q$)+" "+this.state.facet(bf)}updateAttrs(){let e=Ek(this,$$,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(no)?"true":"false",class:"cm-content",style:`${Pe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Ek(this,Iw,n);let r=this.observer.ignore(()=>{let i=fb(this.contentDOM,this.contentAttrs,n),s=fb(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Re.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Hu);let e=this.state.facet(Re.cspNonce);pa.mount(this.root,this.styleModules.concat(o8).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return t0(this,e,ak(this,e,n,r))}moveByGroup(e,n){return t0(this,e,ak(this,e,n,r=>SW(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Ce.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return wW(this,e,n,r)}moveVertically(e,n,r){return t0(this,e,CW(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),P$(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Qo.find(s,e-i.from,-1,n)];return vd(r,o.dir==mn.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(M$)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>h8)return x$(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||b$(s.isolates,r=tk(this,e))))return s.order;r||(r=tk(this,e));let i=sW(e.text,n,r);return this.bidiCache.push(new om(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Pe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{r$(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return ff.of(new Sc(typeof e=="number"?Ce.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return ff.of(new Sc(Ce.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return On.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return On.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=pa.newName(),i=[bf.of(r),Hu.of(kb(`.${r}`,e))];return n&&n.dark&&i.push(Sb.of(!0)),i}static baseTheme(e){return El.lowest(Hu.of(kb("."+Cb,e,Q$)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&rn.get(r)||rn.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}Re.styleModule=Hu;Re.inputHandler=E$;Re.clipboardInputFilter=Dw;Re.clipboardOutputFilter=Pw;Re.scrollHandler=R$;Re.focusChangeEffect=T$;Re.perLineTextDirection=M$;Re.exceptionSink=A$;Re.updateListener=yb;Re.editable=no;Re.mouseSelectionStyle=k$;Re.dragMovesSelection=C$;Re.clickAddsSelectionRange=S$;Re.decorations=Bh;Re.outerDecorations=O$;Re.atomicRanges=Fw;Re.bidiIsolatedRanges=_$;Re.scrollMargins=j$;Re.darkTheme=Sb;Re.cspNonce=Ie.define({combine:t=>t.length?t[0]:""});Re.contentAttributes=Iw;Re.editorAttributes=$$;Re.lineWrapping=Re.contentAttributes.of({class:"cm-lineWrapping"});Re.announce=St.define();const h8=4096,Ak={};class om{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:mn.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new om(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function Ek(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&db(o,n)}return n}const d8=Pe.mac?"mac":Pe.windows?"win":Pe.linux?"linux":"key";function f8(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function xf(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const p8=El.default(Re.domEventHandlers({keydown(t,e){return X$(J$(e.state),t,e,"editor")}})),Tg=Ie.define({enables:p8}),Tk=new WeakMap;function J$(t){let e=t.facet(Tg),n=Tk.get(e);return n||Tk.set(e,n=v8(e.reduce((r,i)=>r.concat(i),[]))),n}function m8(t,e,n){return X$(J$(t.state),e,t,n)}let Fo=null;const g8=4e3;function v8(t,e=d8){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var h,d;let f=n[o]||(n[o]=Object.create(null)),p=a.split(/ (?!$)/).map(y=>f8(y,e));for(let y=1;y<p.length;y++){let b=p.slice(0,y).join(" ");i(b,!0),f[b]||(f[b]={preventDefault:!0,stopPropagation:!1,run:[C=>{let x=Fo={view:C,prefix:b,scope:o};return setTimeout(()=>{Fo==x&&(Fo=null)},g8),!0}]})}let m=p.join(" ");i(m,!1);let g=f[m]||(f[m]={preventDefault:!1,stopPropagation:!1,run:((d=(h=f._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});l&&g.run.push(l),u&&(g.preventDefault=!0),c&&(g.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let d in c)c[d].run.push(f=>h(f,Ab))}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let Ab=null;function X$(t,e,n,r){Ab=e;let i=F6(e),s=Dr(i,0),o=Es(s)==i.length&&i!=" ",a="",l=!1,u=!1,c=!1;Fo&&Fo.view==n&&Fo.scope==r&&(a=Fo.prefix+" ",B$.indexOf(e.keyCode)<0&&(u=!0,Fo=null));let h=new Set,d=g=>{if(g){for(let y of g.run)if(!h.has(y)&&(h.add(y),y(n)))return g.stopPropagation&&(c=!0),!0;g.preventDefault&&(g.stopPropagation&&(c=!0),u=!0)}return!1},f=t[r],p,m;return f&&(d(f[a+xf(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Pe.windows&&e.ctrlKey&&e.altKey)&&(p=ma[e.keyCode])&&p!=i?(d(f[a+xf(p,e,!0)])||e.shiftKey&&(m=Ih[e.keyCode])!=i&&m!=p&&d(f[a+xf(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(f[a+xf(i,e,!0)])&&(l=!0),!l&&d(f._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),Ab=null,l}class xd{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=Z$(e);return[new xd(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return y8(e,n,r)}}function Z$(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==mn.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Mk(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function y8(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==mn.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=Z$(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=a.right-(c?parseInt(c.paddingRight):0),f=xb(t,r,1),p=xb(t,i,-1),m=f.type==Rr.Text?f:null,g=p.type==Rr.Text?p:null;if(m&&(t.lineWrapping||f.widgetLineBreaks)&&(m=Mk(t,r,1,m)),g&&(t.lineWrapping||p.widgetLineBreaks)&&(g=Mk(t,i,-1,g)),m&&g&&m.from==g.from&&m.to==g.to)return b(C(n.from,n.to,m));{let S=m?C(n.from,null,m):x(f,!1),w=g?C(null,n.to,g):x(p,!0),k=[];return(m||f).to<(g||p).from-(m&&g?1:0)||f.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<w.top?k.push(y(h,S.bottom,d,w.top)):S.bottom<w.top&&t.elementAtHeight((S.bottom+w.top)/2).type==Rr.Text&&(S.bottom=w.top=(S.bottom+w.top)/2),b(S).concat(k).concat(b(w))}function y(S,w,k,L){return new xd(e,S-l.left,w-l.top,k-S,L-w)}function b({top:S,bottom:w,horizontal:k}){let L=[];for(let E=0;E<k.length;E+=2)L.push(y(k[E],S,k[E+1],w));return L}function C(S,w,k){let L=1e9,E=-1e9,N=[];function _(T,A,$,D,O){let P=t.coordsAtPos(T,T==k.to?-2:2),I=t.coordsAtPos($,$==k.from?2:-2);!P||!I||(L=Math.min(P.top,I.top,L),E=Math.max(P.bottom,I.bottom,E),O==mn.LTR?N.push(s&&A?h:P.left,s&&D?d:I.right):N.push(!s&&D?h:I.left,!s&&A?d:P.right))}let R=S??k.from,M=w??k.to;for(let T of t.visibleRanges)if(T.to>R&&T.from<M)for(let A=Math.max(T.from,R),$=Math.min(T.to,M);;){let D=t.state.doc.lineAt(A);for(let O of t.bidiSpans(D)){let P=O.from+D.from,I=O.to+D.from;if(P>=$)break;I>A&&_(Math.max(P,A),S==null&&P<=R,Math.min(I,$),w==null&&I>=M,O.dir)}if(A=D.to+1,A>=$)break}return N.length==0&&_(R,S==null,M,w==null,t.textDirection),{top:L,bottom:E,horizontal:N}}function x(S,w){let k=a.top+(w?S.top:S.bottom);return{top:k,bottom:k,horizontal:[]}}}function b8(t,e){return t.constructor==e.constructor&&t.eq(e)}class x8{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(ap)!=e.state.facet(ap)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(ap);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!b8(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const ap=Ie.define();function eO(t){return[On.define(e=>new x8(e,t)),ap.of(t)]}const zh=Ie.define({combine(t){return Ws(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function w8(t={}){return[zh.of(t),S8,C8,k8,N$.of(!0)]}function tO(t){return t.startState.facet(zh)!=t.state.facet(zh)}const S8=eO({above:!0,markers(t){let{state:e}=t,n=e.facet(zh),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Ce.cursor(i.head,i.head>i.anchor?-1:1);for(let l of xd.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=tO(t);return n&&Nk(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){Nk(e.state,t)},class:"cm-cursorLayer"});function Nk(t,e){e.style.animationDuration=t.facet(zh).cursorBlinkRate+"ms"}const C8=eO({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:xd.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||tO(t)},class:"cm-selectionLayer"}),k8=El.highest(Re.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),nO=St.define({map(t,e){return t==null?null:e.mapPos(t)}}),Vu=lr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(nO)?r.value:n,t)}}),A8=On.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Vu);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Vu)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Vu),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Vu)!=t&&this.view.dispatch({effects:nO.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function E8(){return[Vu,A8]}function Rk(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function T8(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class M8{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,c)=>i(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let h=r(a,l,u);h&&c(u,u+a[0].length,h)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new po,r=n.add.bind(n);for(let{from:i,to:s}of T8(e,this.maxLength))Rk(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),h=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){h=a;break}}let d=[],f,p=(m,g,y)=>d.push(y.range(m,g));if(l==u)for(this.regexp.lastIndex=c-l.from;(f=this.regexp.exec(l.text))&&f.index<h-l.from;)this.addMatch(f,e,f.index+l.from,p);else Rk(e.state.doc,this.regexp,c,h,(m,g)=>this.addMatch(g,e,m,p));n=n.update({filterFrom:c,filterTo:h,filter:(m,g)=>m<c||g>h,add:d})}}return n}}const Eb=/x/.unicode!=null?"gu":"g",N8=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Eb),R8={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let i0=null;function L8(){var t;if(i0==null&&typeof document<"u"&&document.body){let e=document.body.style;i0=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return i0||!1}const lp=Ie.define({combine(t){let e=Ws(t,{render:null,specialChars:N8,addSpecialChars:null});return(e.replaceTabs=!L8())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Eb)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Eb)),e}});function $8(t={}){return[lp.of(t),O8()]}let Lk=null;function O8(){return Lk||(Lk=On.fromClass(class{constructor(t){this.view=t,this.decorations=Xe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(lp)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new M8({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=Dr(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=uu(o.text,a,r-o.from);return Xe.replace({widget:new P8((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Xe.replace({widget:new D8(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(lp);t.startState.facet(lp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const _8="•";function j8(t){return t>=32?_8:t==10?"␤":String.fromCharCode(9216+t)}class D8 extends bo{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=j8(this.code),r=e.state.phrase("Control character")+" "+(R8[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class P8 extends bo{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function I8(){return B8}const F8=Xe.line({class:"cm-activeLine"}),B8=On.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(F8.range(i.from)),e=i.from)}return Xe.set(n)}},{decorations:t=>t.decorations});class z8 extends bo{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?qc(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=vd(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function H8(t){let e=On.fromClass(class{constructor(n){this.view=n,this.placeholder=t?Xe.set([Xe.widget({widget:new z8(t),side:1}).range(0)]):Xe.none}get decorations(){return this.view.state.doc.length?Xe.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,Re.contentAttributes.of({"aria-placeholder":t})]:e}const Tb=2e3;function W8(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>Tb||n.off>Tb||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(Ce.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=sb(u.text,o,t.tabSize,!0);if(c<0)s.push(Ce.cursor(u.to));else{let h=sb(u.text,a,t.tabSize);s.push(Ce.range(u.from+c,u.from+h))}}}return s}function U8(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function $k(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>Tb?-1:i==r.length?U8(t,e.clientX):uu(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function V8(t,e){let n=$k(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=$k(t,i);if(!a)return r;let l=W8(t.state,n,a);return l.length?o?Ce.create(l.concat(r.ranges)):Ce.create(l):r}}:null}function K8(t){let e=n=>n.altKey&&n.button==0;return Re.mouseSelectionStyle.of((n,r)=>e(r)?V8(n,r):null)}const G8={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},q8={style:"cursor: crosshair"};function Y8(t={}){let[e,n]=G8[t.key||"Alt"],r=On.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Re.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?q8:null})]}const Mu="-10000px";class rO{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let u=s[l],c=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let d=this.tooltips[h];d&&d.create==u.create&&(c=h)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let h=o[l]=this.tooltipViews[c];a&&(a[l]=n[c]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function Q8(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const s0=Ie.define({combine:t=>{var e,n,r;return{position:Pe.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Q8}}}),Ok=new WeakMap,Uw=On.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(s0);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new rO(t,Vw,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(s0);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Mu,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Pe.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Mu&&s.style.left=="0px"){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=Bw(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(s0).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,h=t.pos[a],d=t.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1)){c.style.top=Mu;continue}let f=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=d.right-d.left,g=(e=Ok.get(u))!==null&&e!==void 0?e:d.bottom-d.top,y=u.offset||X8,b=this.view.textDirection==mn.LTR,C=d.width>r.right-r.left?b?r.left:r.right-d.width:b?Math.max(r.left,Math.min(h.left-(f?14:0)+y.x,r.right-m)):Math.min(Math.max(r.left,h.left-m+(f?14:0)-y.x),r.right-m),x=this.above[a];!l.strictSide&&(x?h.top-g-p-y.y<r.top:h.bottom+g+p+y.y>r.bottom)&&x==r.bottom-h.bottom>h.top-r.top&&(x=this.above[a]=!x);let S=(x?h.top-r.top:r.bottom-h.bottom)-p;if(S<g&&u.resize!==!1){if(S<this.view.defaultLineHeight){c.style.top=Mu;continue}Ok.set(u,g),c.style.height=(g=S)/s+"px"}else c.style.height&&(c.style.height="");let w=x?h.top-g-p-y.y:h.bottom+p+y.y,k=C+m;if(u.overlap!==!0)for(let L of o)L.left<k&&L.right>C&&L.top<w+g&&L.bottom>w&&(w=x?L.top-g-2-p:L.bottom+p+2);if(this.position=="absolute"?(c.style.top=(w-t.parent.top)/s+"px",_k(c,(C-t.parent.left)/i)):(c.style.top=w/s+"px",_k(c,C/i)),f){let L=h.left+(b?y.x:-y.x)-(C+14-7);f.style.left=L/i+"px"}u.overlap!==!0&&o.push({left:C,top:w,right:k,bottom:w+g}),c.classList.toggle("cm-tooltip-above",x),c.classList.toggle("cm-tooltip-below",!x),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Mu}},{eventObservers:{scroll(){this.maybeMeasure()}}});function _k(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const J8=Re.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),X8={x:0,y:0},Vw=Ie.define({enables:[Uw,J8]}),am=Ie.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Mg{static create(e){return new Mg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new rO(e,am,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Z8=Vw.compute([am],t=>{let e=t.facet(am);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Mg.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class e9{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof Yo)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==mn.RTL?-1:1;s=n.x<a.left?-u:u}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Wr(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Uw),n=e?e.manager.tooltips.findIndex(r=>r.create==Mg.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!t9(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!n9(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const wf=4;function t9(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-wf&&e.clientX<=r+wf&&e.clientY>=i-wf&&e.clientY<=s+wf}function n9(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function r9(t,e={}){let n=St.define(),r=lr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,Tr.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(i9)&&(i=[]);return i},provide:i=>am.from(i)});return{active:r,extension:[r,On.define(i=>new e9(i,t,r,n,e.hoverTime||300)),Z8]}}function iO(t,e){let n=t.plugin(Uw);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const i9=St.define(),jk=Ie.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Hh(t,e){let n=t.plugin(sO),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const sO=On.fromClass(class{constructor(t){this.input=t.state.facet(Wh),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(jk);this.top=new Sf(t,!0,e.topContainer),this.bottom=new Sf(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(jk);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Sf(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Sf(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Wh);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Re.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Sf{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=Dk(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=Dk(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Dk(t){let e=t.nextSibling;return t.remove(),e}const Wh=Ie.define({enables:sO});class go extends gl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}go.prototype.elementClass="";go.prototype.toDOM=void 0;go.prototype.mapMode=Tr.TrackBefore;go.prototype.startSide=go.prototype.endSide=-1;go.prototype.point=!0;const cp=Ie.define(),s9=Ie.define(),o9={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>zt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},lh=Ie.define();function a9(t){return[oO(),lh.of({...o9,...t})]}const Pk=Ie.define({combine:t=>t.some(e=>e)});function oO(t){return[l9]}const l9=On.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(lh).map(e=>new Fk(t,e)),this.fixed=!t.state.facet(Pk);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(Pk)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=zt.iter(this.view.state.facet(cp),this.view.viewport.from),r=[],i=this.gutters.map(s=>new c9(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Rr.Text&&o){Mb(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Rr.Text){Mb(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(lh),n=t.state.facet(lh),r=t.docChanged||t.heightChanged||t.viewportChanged||!zt.eq(t.startState.facet(cp),t.state.facet(cp),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new Fk(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Re.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==mn.LTR?{left:r,right:i}:{right:r,left:i}})});function Ik(t){return Array.isArray(t)?t:[t]}function Mb(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class c9{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=zt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new aO(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];Mb(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(s9)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class Fk{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=Ik(n.markers(e)),n.initialSpacer&&(this.spacer=new aO(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=Ik(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!zt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class aO{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),u9(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function u9(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const h9=Ie.define(),d9=Ie.define(),sc=Ie.define({combine(t){return Ws(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class o0 extends go{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function a0(t,e){return t.state.facet(sc).formatNumber(e,t.state)}const f9=lh.compute([sc],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(h9)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new o0(a0(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(d9)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(sc)!=e.state.facet(sc),initialSpacer(e){return new o0(a0(e,Bk(e.state.doc.lines)))},updateSpacer(e,n){let r=a0(n.view,Bk(n.view.state.doc.lines));return r==e.number?e:new o0(r)},domEventHandlers:t.facet(sc).domEventHandlers,side:"before"}));function p9(t={}){return[sc.of(t),oO(),f9]}function Bk(t){let e=9;for(;e<t;)e=e*10+9;return e}const m9=new class extends go{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},g9=cp.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(m9.range(i)))}return zt.of(e)});function v9(){return g9}const lO=1024;let y9=0,l0=class{constructor(e,n){this.from=e,this.to=n}};class Rt{constructor(e={}){this.id=y9++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Yr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Rt.closedBy=new Rt({deserialize:t=>t.split(" ")});Rt.openedBy=new Rt({deserialize:t=>t.split(" ")});Rt.group=new Rt({deserialize:t=>t.split(" ")});Rt.isolate=new Rt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Rt.contextHash=new Rt({perNode:!0});Rt.lookAhead=new Rt({perNode:!0});Rt.mounted=new Rt({perNode:!0});class lm{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Rt.mounted.id]}}const b9=Object.create(null);class Yr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):b9,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Yr(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Rt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Rt.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}Yr.none=new Yr("",Object.create(null),0,8);class Kw{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}n.push(i?new Yr(r.name,i,r.id,r.flags):r)}return new Kw(n)}}const Cf=new WeakMap,zk=new WeakMap;var Qn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Qn||(Qn={}));class Pn{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=lm.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Rb(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Cf.get(this)||this.topNode,s=new Rb(i);return s.moveTo(e,n),Cf.set(this,s._tree),s}get topNode(){return new $i(this,0,0,null)}resolve(e,n=0){let r=Uh(Cf.get(this)||this.topNode,e,n,!1);return Cf.set(this,r),r}resolveInner(e,n=0){let r=Uh(zk.get(this)||this.topNode,e,n,!0);return zk.set(this,r),r}resolveStack(e,n=0){return S9(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Qn.IncludeAnonymous)>0;for(let l=this.cursor(o|Qn.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Yw(Yr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Pn(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Pn(Yr.none,n,r,i)))}static build(e){return C9(e)}}Pn.empty=new Pn(Yr.none,[],[],0);class Gw{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Gw(this.buffer,this.index)}}class va{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Yr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(cO(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new va(s,o,this.set)}}function cO(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Uh(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof $i&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Qn.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof $i&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class uO{cursor(e=0){return new Rb(this,e)}getChild(e,n=null,r=null){let i=Hk(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Hk(this,e,n,r)}resolve(e,n=0){return Uh(this,e,n,!1)}resolveInner(e,n=0){return Uh(this,e,n,!0)}matchContext(e){return Nb(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class $i extends uO{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],h=l[e]+o.from;if(cO(i,r,h,h+c.length)){if(c instanceof va){if(s&Qn.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,n,r-h,i);if(d>-1)return new Jo(new x9(o,c,e,h),null,d)}else if(s&Qn.IncludeAnonymous||!c.type.isAnonymous||qw(c)){let d;if(!(s&Qn.IgnoreMounts)&&(d=lm.get(c))&&!d.overlay)return new $i(d.tree,h,e,o);let f=new $i(c,h,e,o);return s&Qn.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(s&Qn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Qn.IgnoreOverlays)&&(i=lm.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new $i(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Hk(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function Nb(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class x9{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Jo extends uO{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Jo(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Qn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Jo(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Jo(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Jo(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new Pn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function hO(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof $i&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new w9(i,n)}class w9{constructor(e,n){this.heads=e,this.node=n}get next(){return hO(this.heads)}}function S9(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof $i?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=lm.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new $i(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Uh(a,e,n,!1))}}return i?hO(i):r}class Rb{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof $i)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof $i?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Qn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Qn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Qn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Qn.IncludeAnonymous||a instanceof va||!a.type.isAnonymous||qw(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Jo(this.buffer,n,this.stack[i]);return this.bufferNode=new Jo(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Nb(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return Nb(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function qw(t){return t.children.some(e=>e instanceof va||!e.type.isAnonymous||qw(e))}function C9(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=lO,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new Gw(n,n.length):n,l=r.types,u=0,c=0;function h(S,w,k,L,E,N){let{id:_,start:R,end:M,size:T}=a,A=c,$=u;for(;T<0;)if(a.next(),T==-1){let B=s[_];k.push(B),L.push(R-S);return}else if(T==-3){u=_;return}else if(T==-4){c=_;return}else throw new RangeError(`Unrecognized record size: ${T}`);let D=l[_],O,P,I=R-S;if(M-R<=i&&(P=g(a.pos-w,E))){let B=new Uint16Array(P.size-P.skip),Y=a.pos-P.size,H=B.length;for(;a.pos>Y;)H=y(P.start,B,H);O=new va(B,M-P.start,r),I=P.start-S}else{let B=a.pos-T;a.next();let Y=[],H=[],U=_>=o?_:-1,q=0,K=M;for(;a.pos>B;)U>=0&&a.id==U&&a.size>=0?(a.end<=K-i&&(p(Y,H,R,q,a.end,K,U,A,$),q=Y.length,K=a.end),a.next()):N>2500?d(R,B,Y,H):h(R,B,Y,H,U,N+1);if(U>=0&&q>0&&q<Y.length&&p(Y,H,R,q,R,K,U,A,$),Y.reverse(),H.reverse(),U>-1&&q>0){let Q=f(D,$);O=Yw(D,Y,H,0,Y.length,0,M-R,Q,Q)}else O=m(D,Y,H,M-R,A-M,$)}k.push(O),L.push(I)}function d(S,w,k,L){let E=[],N=0,_=-1;for(;a.pos>w;){let{id:R,start:M,end:T,size:A}=a;if(A>4)a.next();else{if(_>-1&&M<_)break;_<0&&(_=T-i),E.push(R,M,T),N++,a.next()}}if(N){let R=new Uint16Array(N*4),M=E[E.length-2];for(let T=E.length-3,A=0;T>=0;T-=3)R[A++]=E[T],R[A++]=E[T+1]-M,R[A++]=E[T+2]-M,R[A++]=A;k.push(new va(R,E[2]-M,r)),L.push(M-S)}}function f(S,w){return(k,L,E)=>{let N=0,_=k.length-1,R,M;if(_>=0&&(R=k[_])instanceof Pn){if(!_&&R.type==S&&R.length==E)return R;(M=R.prop(Rt.lookAhead))&&(N=L[_]+R.length+M)}return m(S,k,L,E,N,w)}}function p(S,w,k,L,E,N,_,R,M){let T=[],A=[];for(;S.length>L;)T.push(S.pop()),A.push(w.pop()+k-E);S.push(m(r.types[_],T,A,N-E,R-N,M)),w.push(E-k)}function m(S,w,k,L,E,N,_){if(N){let R=[Rt.contextHash,N];_=_?[R].concat(_):[R]}if(E>25){let R=[Rt.lookAhead,E];_=_?[R].concat(_):[R]}return new Pn(S,w,k,L,_)}function g(S,w){let k=a.fork(),L=0,E=0,N=0,_=k.end-i,R={size:0,start:0,skip:0};e:for(let M=k.pos-S;k.pos>M;){let T=k.size;if(k.id==w&&T>=0){R.size=L,R.start=E,R.skip=N,N+=4,L+=4,k.next();continue}let A=k.pos-T;if(T<0||A<M||k.start<_)break;let $=k.id>=o?4:0,D=k.start;for(k.next();k.pos>A;){if(k.size<0)if(k.size==-3)$+=4;else break e;else k.id>=o&&($+=4);k.next()}E=D,L+=T,N+=$}return(w<0||L==S)&&(R.size=L,R.start=E,R.skip=N),R.size>4?R:void 0}function y(S,w,k){let{id:L,start:E,end:N,size:_}=a;if(a.next(),_>=0&&L<o){let R=k;if(_>4){let M=a.pos-(_-4);for(;a.pos>M;)k=y(S,w,k)}w[--k]=R,w[--k]=N-S,w[--k]=E-S,w[--k]=L}else _==-3?u=L:_==-4&&(c=L);return k}let b=[],C=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,b,C,-1,0);let x=(e=t.length)!==null&&e!==void 0?e:b.length?C[0]+b[0].length:0;return new Pn(l[t.topID],b.reverse(),C.reverse(),x)}const Wk=new WeakMap;function up(t,e){if(!t.isAnonymous||e instanceof va||e.type!=t)return 1;let n=Wk.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Pn)){n=1;break}n+=up(t,r)}Wk.set(e,n)}return n}function Yw(t,e,n,r,i,s,o,a,l){let u=0;for(let p=r;p<i;p++)u+=up(t,e[p]);let c=Math.ceil(u*1.5/8),h=[],d=[];function f(p,m,g,y,b){for(let C=g;C<y;){let x=C,S=m[C],w=up(t,p[C]);for(C++;C<y;C++){let k=up(t,p[C]);if(w+k>=c)break;w+=k}if(C==x+1){if(w>c){let k=p[x];f(k.children,k.positions,0,k.children.length,m[x]+b);continue}h.push(p[x])}else{let k=m[C-1]+p[C-1].length-S;h.push(Yw(t,p,m,x,C,S,k,null,l))}d.push(S+b-s)}}return f(e,n,r,i,0),(a||l)(h,d,o)}class tl{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new tl(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,h=c?c.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||u){let f=Math.max(d.from,l)-u,p=Math.min(d.to,h)-u;d=f>=p?null:new tl(f,p,d.tree,d.offset+u,a>0,!!c)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class dO{startParse(e,n,r){return typeof e=="string"&&(e=new k9(e)),r=r?r.length?r.map(i=>new l0(i.from,i.to)):[new l0(0,0)]:[new l0(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class k9{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Rt({perNode:!0});let A9=0;class ki{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=A9++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof ki&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new ki(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new cm(e);return r=>r.modified.indexOf(n)>-1?r:cm.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let E9=0;class cm{constructor(e){this.name=e,this.instances=[],this.id=E9++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&T9(n,a.modified));if(r)return r;let i=[],s=new ki(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=M9(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(cm.get(a,l));return s}}function T9(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function M9(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function fO(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==i.length)break;let f=i[h++];if(h==i.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new um(r,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return pO.add(e)}const pO=new Rt;class um{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}um.empty=new um([],2,null);function mO(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function N9(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function R9(t,e,n,r=0,i=t.length){let s=new L9(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class L9{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(o)));let u=i,c=$9(e)||um.empty,h=N9(s,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,a),u),c.opaque)return;let d=e.tree&&e.tree.prop(Rt.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+a,1),p=this.highlighters.filter(g=>!g.scope||g.scope(d.tree.type)),m=e.firstChild();for(let g=0,y=a;;g++){let b=g<d.overlay.length?d.overlay[g]:null,C=b?b.from+a:l,x=Math.max(n,y),S=Math.min(r,C);if(x<S&&m)for(;e.from<S&&(this.highlightRange(e,x,S,i,s),this.startSpan(Math.min(S,e.to),u),!(e.to>=C||!e.nextSibling())););if(!b||C>r)break;y=b.to+a,y>n&&(this.highlightRange(f.cursor(),Math.max(n,b.from+a),Math.min(r,y),"",p),this.startSpan(Math.min(r,y),u))}m&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function $9(t){let e=t.type.prop(pO);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const je=ki.define,kf=je(),Oo=je(),Uk=je(Oo),Vk=je(Oo),_o=je(),Af=je(_o),c0=je(_o),gs=je(),$a=je(gs),ps=je(),ms=je(),Lb=je(),Nu=je(Lb),Ef=je(),ge={comment:kf,lineComment:je(kf),blockComment:je(kf),docComment:je(kf),name:Oo,variableName:je(Oo),typeName:Uk,tagName:je(Uk),propertyName:Vk,attributeName:je(Vk),className:je(Oo),labelName:je(Oo),namespace:je(Oo),macroName:je(Oo),literal:_o,string:Af,docString:je(Af),character:je(Af),attributeValue:je(Af),number:c0,integer:je(c0),float:je(c0),bool:je(_o),regexp:je(_o),escape:je(_o),color:je(_o),url:je(_o),keyword:ps,self:je(ps),null:je(ps),atom:je(ps),unit:je(ps),modifier:je(ps),operatorKeyword:je(ps),controlKeyword:je(ps),definitionKeyword:je(ps),moduleKeyword:je(ps),operator:ms,derefOperator:je(ms),arithmeticOperator:je(ms),logicOperator:je(ms),bitwiseOperator:je(ms),compareOperator:je(ms),updateOperator:je(ms),definitionOperator:je(ms),typeOperator:je(ms),controlOperator:je(ms),punctuation:Lb,separator:je(Lb),bracket:Nu,angleBracket:je(Nu),squareBracket:je(Nu),paren:je(Nu),brace:je(Nu),content:gs,heading:$a,heading1:je($a),heading2:je($a),heading3:je($a),heading4:je($a),heading5:je($a),heading6:je($a),contentSeparator:je(gs),list:je(gs),quote:je(gs),emphasis:je(gs),strong:je(gs),link:je(gs),monospace:je(gs),strikethrough:je(gs),inserted:je(),deleted:je(),changed:je(),invalid:je(),meta:Ef,documentMeta:je(Ef),annotation:je(Ef),processingInstruction:je(Ef),definition:ki.defineModifier("definition"),constant:ki.defineModifier("constant"),function:ki.defineModifier("function"),standard:ki.defineModifier("standard"),local:ki.defineModifier("local"),special:ki.defineModifier("special")};for(let t in ge){let e=ge[t];e instanceof ki&&(e.name=t)}mO([{tag:ge.link,class:"tok-link"},{tag:ge.heading,class:"tok-heading"},{tag:ge.emphasis,class:"tok-emphasis"},{tag:ge.strong,class:"tok-strong"},{tag:ge.keyword,class:"tok-keyword"},{tag:ge.atom,class:"tok-atom"},{tag:ge.bool,class:"tok-bool"},{tag:ge.url,class:"tok-url"},{tag:ge.labelName,class:"tok-labelName"},{tag:ge.inserted,class:"tok-inserted"},{tag:ge.deleted,class:"tok-deleted"},{tag:ge.literal,class:"tok-literal"},{tag:ge.string,class:"tok-string"},{tag:ge.number,class:"tok-number"},{tag:[ge.regexp,ge.escape,ge.special(ge.string)],class:"tok-string2"},{tag:ge.variableName,class:"tok-variableName"},{tag:ge.local(ge.variableName),class:"tok-variableName tok-local"},{tag:ge.definition(ge.variableName),class:"tok-variableName tok-definition"},{tag:ge.special(ge.variableName),class:"tok-variableName2"},{tag:ge.definition(ge.propertyName),class:"tok-propertyName tok-definition"},{tag:ge.typeName,class:"tok-typeName"},{tag:ge.namespace,class:"tok-namespace"},{tag:ge.className,class:"tok-className"},{tag:ge.macroName,class:"tok-macroName"},{tag:ge.propertyName,class:"tok-propertyName"},{tag:ge.operator,class:"tok-operator"},{tag:ge.comment,class:"tok-comment"},{tag:ge.meta,class:"tok-meta"},{tag:ge.invalid,class:"tok-invalid"},{tag:ge.punctuation,class:"tok-punctuation"}]);var u0;const oc=new Rt;function O9(t){return Ie.define({combine:t?e=>e.concat(t):void 0})}const _9=new Rt;class qi{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Dt.prototype.hasOwnProperty("tree")||Object.defineProperty(Dt.prototype,"tree",{get(){return xr(this)}}),this.parser=n,this.extension=[ya.of(this),Dt.languageData.of((s,o,a)=>{let l=Kk(s,o,a),u=l.type.prop(oc);if(!u)return[];let c=s.facet(u),h=l.type.prop(_9);if(h){let d=l.resolve(o-l.from,a);for(let f of h)if(f.test(d,s)){let p=s.facet(f.facet);return f.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return Kk(e,n,r).type.prop(oc)==this.data}findRegions(e){let n=e.facet(ya);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(oc)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Rt.mounted);if(a){if(a.tree.prop(oc)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof Pn&&i(u,s.positions[l]+o)}};return i(xr(e),0),r}get allowsNesting(){return!0}}qi.setState=St.define();function Kk(t,e,n){let r=t.facet(ya),i=xr(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Qn.ExcludeBuffers))s.type.isTop&&(i=s);return i}class hm extends qi{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=O9(e.languageData);return new hm(n,e.parser.configure({props:[oc.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new hm(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function xr(t){let e=t.field(qi.state,!1);return e?e.tree:Pn.empty}class j9{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Ru=null;class dm{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new dm(e,n,[],Pn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new j9(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Pn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(tl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(tl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Ru;Ru=this;try{return e()}finally{Ru=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=Gk(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,h,d)=>l.push({fromA:u,toA:c,fromB:h,toB:d})),r=tl.applyChanges(r,l),i=Pn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&a.push({from:c,to:h})}}}return new dm(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=Gk(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends dO{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Ru;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Pn(Yr.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Ru}}function Gk(t,e,n){return tl.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Xc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Xc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=dm.create(e.facet(ya).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Xc(r)}}qi.state=lr.define({create:Xc.init,update(t,e){for(let n of e.effects)if(n.is(qi.setState))return n.value;return e.startState.facet(ya)!=e.state.facet(ya)?Xc.init(e.state):t.apply(e)}});let gO=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(gO=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const h0=typeof navigator<"u"&&(!((u0=navigator.scheduling)===null||u0===void 0)&&u0.isInputPending)?()=>navigator.scheduling.isInputPending():null,D9=On.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(qi.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(qi.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=gO(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(qi.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!h0?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>h0&&h0()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:qi.setState.of(new Xc(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Wr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ya=Ie.define({combine(t){return t.length?t[0]:null},enables:t=>[qi.state,D9,Re.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class P9{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const I9=Ie.define(),Ng=Ie.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function fm(t){let e=t.facet(Ng);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Vh(t,e){let n="",r=t.tabSize,i=t.facet(Ng)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function Qw(t,e){t instanceof Dt&&(t=new Rg(t));for(let r of t.state.facet(I9)){let i=r(t,e);if(i!==void 0)return i}let n=xr(t.state);return n.length>=e?F9(t,n,e):null}class Rg{constructor(e,n={}){this.state=e,this.options=n,this.unit=fm(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return uu(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const vO=new Rt;function F9(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return yO(r,t,n)}function yO(t,e,n){for(let r=t;r;r=r.next){let i=z9(r.node);if(i)return i(Jw.create(e,n,r))}return 0}function B9(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function z9(t){let e=t.type.prop(vO);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Rt.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>V9(o,!0,1,void 0,s&&!B9(o)?i.from:void 0)}return t.parent==null?H9:null}function H9(){return 0}class Jw extends Rg{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new Jw(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(W9(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return yO(this.context.next,this.base,this.pos)}}function W9(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function U9(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+u}}a=l.to}}function V9(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=U9(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function qk({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const K9=200;function G9(){return Dt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+K9)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==a)continue;a=c.from;let h=Qw(o,c.from);if(h==null)continue;let d=/^\s*/.exec(c.text)[0],f=Vh(o,h);d!=f&&l.push({from:c.from,to:c.from+d.length,insert:f})}return l.length?[t,{changes:l,sequential:!0}]:t})}const q9=Ie.define(),bO=new Rt;function Y9(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function Q9(t,e,n){let r=xr(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(bO);if(l&&(a.to<r.length-50||r.length==t.doc.length||!J9(a))){let u=l(a,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(s=u)}}return s}function J9(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function pm(t,e,n){for(let r of t.facet(q9)){let i=r(t,e,n);if(i)return i}return Q9(t,e,n)}function xO(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Lg=St.define({map:xO}),wd=St.define({map:xO});function wO(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const xl=lr.define({create(){return Xe.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=Yk(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(Lg)&&!X9(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(kO),i=r?Xe.replace({widget:new sU(r(e.state,n.value))}):Qk;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(wd)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=Yk(t,e.selection.main.head)),t},provide:t=>Re.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Qk.range(r,i))}return Xe.set(e,!0)}});function Yk(t,e,n=e){let r=!1;return t.between(e,n,(i,s)=>{i<n&&s>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,s)=>i>=n||s<=e}):t}function mm(t,e,n){var r;let i=null;return(r=t.field(xl,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function X9(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function SO(t,e){return t.field(xl,!1)?e:e.concat(St.appendConfig.of(AO()))}const Z9=t=>{for(let e of wO(t)){let n=pm(t.state,e.from,e.to);if(n)return t.dispatch({effects:SO(t.state,[Lg.of(n),CO(t,n)])}),!0}return!1},eU=t=>{if(!t.state.field(xl,!1))return!1;let e=[];for(let n of wO(t)){let r=mm(t.state,n.from,n.to);r&&e.push(wd.of(r),CO(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function CO(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Re.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const tU=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=pm(e,i.from,i.to);s&&n.push(Lg.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:SO(t.state,n)}),!!n.length},nU=t=>{let e=t.state.field(xl,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(wd.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},rU=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Z9},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:eU},{key:"Ctrl-Alt-[",run:tU},{key:"Ctrl-Alt-]",run:nU}],iU={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},kO=Ie.define({combine(t){return Ws(t,iU)}});function AO(t){return[xl,lU]}function EO(t,e){let{state:n}=t,r=n.facet(kO),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=mm(t.state,a.from,a.to);l&&t.dispatch({effects:wd.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const Qk=Xe.replace({widget:new class extends bo{toDOM(t){return EO(t,null)}}});class sU extends bo{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return EO(e,this.value)}}const oU={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class d0 extends go{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function aU(t={}){let e={...oU,...t},n=new d0(e,!0),r=new d0(e,!1),i=On.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(ya)!=o.state.facet(ya)||o.startState.field(xl,!1)!=o.state.field(xl,!1)||xr(o.startState)!=xr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new po;for(let l of o.viewportLineBlocks){let u=mm(o.state,l.from,l.to)?r:pm(o.state,l.from,l.to)?n:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,a9({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||zt.empty},initialSpacer(){return new d0(e,!1)},domEventHandlers:{...s,click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=mm(o.state,a.from,a.to);if(u)return o.dispatch({effects:wd.of(u)}),!0;let c=pm(o.state,a.from,a.to);return c?(o.dispatch({effects:Lg.of(c)}),!0):!1}}}),AO()]}const lU=Re.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Sd{constructor(e,n){this.specs=e;let r;function i(a){let l=pa.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof qi?a=>a.prop(oc)==o.data:o?a=>a==o:void 0,this.style=mO(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new pa(r):null,this.themeType=n.themeType}static define(e,n){return new Sd(e,n||{})}}const $b=Ie.define(),TO=Ie.define({combine(t){return t.length?[t[0]]:null}});function f0(t){let e=t.facet($b);return e.length?e:t.facet(TO)}function MO(t,e){let n=[uU],r;return t instanceof Sd&&(t.module&&n.push(Re.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(TO.of(t)):r?n.push($b.computeN([Re.darkTheme],i=>i.facet(Re.darkTheme)==(r=="dark")?[t]:[])):n.push($b.of(t)),n}class cU{constructor(e){this.markCache=Object.create(null),this.tree=xr(e.state),this.decorations=this.buildDeco(e,f0(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=xr(e.state),r=f0(e.state),i=r!=f0(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Xe.none;let r=new po;for(let{from:i,to:s}of e.visibleRanges)R9(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Xe.mark({class:l})))},i,s);return r.finish()}}const uU=El.high(On.fromClass(cU,{decorations:t=>t.decorations})),hU=Sd.define([{tag:ge.meta,color:"#404740"},{tag:ge.link,textDecoration:"underline"},{tag:ge.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ge.emphasis,fontStyle:"italic"},{tag:ge.strong,fontWeight:"bold"},{tag:ge.strikethrough,textDecoration:"line-through"},{tag:ge.keyword,color:"#708"},{tag:[ge.atom,ge.bool,ge.url,ge.contentSeparator,ge.labelName],color:"#219"},{tag:[ge.literal,ge.inserted],color:"#164"},{tag:[ge.string,ge.deleted],color:"#a11"},{tag:[ge.regexp,ge.escape,ge.special(ge.string)],color:"#e40"},{tag:ge.definition(ge.variableName),color:"#00f"},{tag:ge.local(ge.variableName),color:"#30a"},{tag:[ge.typeName,ge.namespace],color:"#085"},{tag:ge.className,color:"#167"},{tag:[ge.special(ge.variableName),ge.macroName],color:"#256"},{tag:ge.definition(ge.propertyName),color:"#00c"},{tag:ge.comment,color:"#940"},{tag:ge.invalid,color:"#f00"}]),dU=Re.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),NO=1e4,RO="()[]{}",LO=Ie.define({combine(t){return Ws(t,{afterCursor:!0,brackets:RO,maxScanDistance:NO,renderMatch:mU})}}),fU=Xe.mark({class:"cm-matchingBracket"}),pU=Xe.mark({class:"cm-nonmatchingBracket"});function mU(t){let e=[],n=t.matched?fU:pU;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const gU=lr.define({create(){return Xe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(LO);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Ns(e.state,i.head,-1,r)||i.head>0&&Ns(e.state,i.head-1,1,r)||r.afterCursor&&(Ns(e.state,i.head,1,r)||i.head<e.state.doc.length&&Ns(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return Xe.set(n,!0)},provide:t=>Re.decorations.from(t)}),vU=[gU,dU];function yU(t={}){return[LO.of(t),vU]}const bU=new Rt;function Ob(t,e,n){let r=t.prop(e<0?Rt.openedBy:Rt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function _b(t){let e=t.type.prop(bU);return e?e(t.node):t}function Ns(t,e,n,r={}){let i=r.maxScanDistance||NO,s=r.brackets||RO,o=xr(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=Ob(l.type,n,s);if(u&&l.from<l.to){let c=_b(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return xU(t,e,n,l,c,u,s)}}return wU(t,e,n,o,a.type,i,s)}function xU(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,c=a==null?void 0:a.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let h=_b(c);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(Ob(c.type,n,o))u++;else if(Ob(c.type,-n,o)){if(u==0){let h=_b(c);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function wU(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let d=0;!c.next().done&&d<=s;){let f=c.value;n<0&&(d+=f.length);let p=e+d*n;for(let m=n>0?0:f.length-1,g=n>0?f.length:-1;m!=g;m+=n){let y=o.indexOf(f[m]);if(!(y<0||r.resolveInner(p+m,1).type!=i))if(y%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:p+m,to:p+m+1},matched:y>>1==l>>1};h--}}n>0&&(d+=f.length)}return c.done?{start:u,matched:!1}:null}const SU=Object.create(null),Jk=[Yr.none],Xk=[],Zk=Object.create(null),CU=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])CU[t]=kU(SU,e);function p0(t,e){Xk.indexOf(t)>-1||(Xk.push(t),console.warn(e))}function kU(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=t[u]||ge[u];c?typeof c=="function"?l.length?l=l.map(c):p0(u,`Modifier ${u} used at start of tag`):l.length?p0(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:p0(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=Zk[i];if(s)return s.id;let o=Zk[i]=Yr.define({id:Jk.length,name:r,props:[fO({[r]:n})]});return Jk.push(o),o.id}mn.RTL,mn.LTR;const AU=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Zw(t.state,n.from);return r.line?EU(t):r.block?MU(t):!1};function Xw(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const EU=Xw(LU,0),TU=Xw($O,0),MU=Xw((t,e)=>$O(t,e,RU(e)),0);function Zw(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Lu=50;function NU(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Lu,r),o=t.sliceDoc(i,i+Lu),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,h;i-r<=2*Lu?c=h=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+Lu),h=t.sliceDoc(i-Lu,i));let d=/^\s*/.exec(c)[0].length,f=/\s*$/.exec(h)[0].length,p=h.length-f-n.length;return c.slice(d,d+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:r+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:i-f-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function RU(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function $O(t,e,n=e.selection.ranges){let r=n.map(s=>Zw(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>NU(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function LU(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,u=Zw(e,s).line;if(u){for(let c=s;c<=o;){let h=e.doc.lineAt(c);if(h.from>i&&(s==o||o>h.from)){i=h.from;let d=/^\s*/.exec(h.text)[0].length,f=d==h.length,p=h.text.slice(d,d+u.length)==u?d:-1;d<h.text.length&&d<l&&(l=d),r.push({line:h,comment:p,token:u,indent:d,empty:f,single:!1})}c=h.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:h}of r)(h||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const jb=Hs.define(),$U=Hs.define(),OU=Ie.define(),OO=Ie.define({combine(t){return Ws(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),_O=lr.define({create(){return Rs.empty},update(t,e){let n=e.state.facet(OO),r=e.annotation(jb);if(r){let l=Ur.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=gm(c,c.length,n.minDepth,l):c=PO(c,e.startState.selection),new Rs(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation($U);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Vn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Ur.fromTransaction(e),o=e.annotation(Vn.time),a=e.annotation(Vn.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Rs(t.done.map(Ur.fromJSON),t.undone.map(Ur.fromJSON))}});function _U(t={}){return[_O,OO.of(t),Re.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?jO:e.inputType=="historyRedo"?Db:null;return r?(e.preventDefault(),r(n)):!1}})]}function $g(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(_O,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const jO=$g(0,!1),Db=$g(1,!1),jU=$g(0,!0),DU=$g(1,!0);class Ur{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Ur(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Ur(e.changes&&Hn.fromJSON(e.changes),[],e.mapped&&js.fromJSON(e.mapped),e.startSelection&&Ce.fromJSON(e.startSelection),e.selectionsAfter.map(Ce.fromJSON))}static fromTransaction(e,n){let r=Mi;for(let i of e.startState.facet(OU)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Ur(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Mi)}static selection(e){return new Ur(void 0,Mi,void 0,void 0,e)}}function gm(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function PU(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&o<=c&&(r=!0)}}),r}function IU(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function DO(t,e){return t.length?e.length?t.concat(e):t:e}const Mi=[],FU=200;function PO(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-FU));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),gm(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Ur.selection([e])]}function BU(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function m0(t,e){if(!t.length)return t;let n=t.length,r=Mi;for(;n;){let i=zU(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ur.selection(r)]:Mi}function zU(t,e,n){let r=DO(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Mi,n);if(!t.changes)return Ur.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Ur(i,St.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const HU=/^(input\.type|delete)($|\.)/;class Rs{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Rs(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||HU.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,PU(a.changes,e.changes))||r=="input.type.compose")?o=gm(o,o.length-1,i.minDepth,new Ur(e.changes.compose(a.changes),DO(St.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Mi)):o=gm(o,o.length,i.minDepth,e),new Rs(o,Mi,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Mi;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&IU(s[s.length-1],e)?this:new Rs(PO(this.done,e),this.undone,n,r)}addMapping(e){return new Rs(m0(this.done,e),m0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:jb.of({side:e,rest:BU(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?Mi:i.slice(0,i.length-1);return s.mapped&&(a=m0(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:jb.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Rs.empty=new Rs(Mi,Mi);const WU=[{key:"Mod-z",run:jO,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Db,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Db,preventDefault:!0},{key:"Mod-u",run:jU,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:DU,preventDefault:!0}];function hu(t,e){return Ce.create(t.ranges.map(e),t.mainIndex)}function Us(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function as({state:t,dispatch:e},n){let r=hu(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Us(t,r)),!0)}function Og(t,e){return Ce.cursor(e?t.to:t.from)}function IO(t,e){return as(t,n=>n.empty?t.moveByChar(n,e):Og(n,e))}function wr(t){return t.textDirectionAt(t.state.selection.main.head)==mn.LTR}const FO=t=>IO(t,!wr(t)),BO=t=>IO(t,wr(t));function zO(t,e){return as(t,n=>n.empty?t.moveByGroup(n,e):Og(n,e))}const UU=t=>zO(t,!wr(t)),VU=t=>zO(t,wr(t));function KU(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function _g(t,e,n){let r=xr(t).resolveInner(e.head),i=n?Rt.closedBy:Rt.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;KU(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?Ns(t,r.from,1):Ns(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Ce.cursor(a,n?-1:1)}const GU=t=>as(t,e=>_g(t.state,e,!wr(t))),qU=t=>as(t,e=>_g(t.state,e,wr(t)));function HO(t,e){return as(t,n=>{if(!n.empty)return Og(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const WO=t=>HO(t,!1),UO=t=>HO(t,!0);function VO(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(Re.scrollMargins)){let o=s(t);o!=null&&o.top&&(n=Math.max(o==null?void 0:o.top,n)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function KO(t,e){let n=VO(t),{state:r}=t,i=hu(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):Og(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=Re.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Us(r,i),{effects:s}),!0}const eA=t=>KO(t,!1),Pb=t=>KO(t,!0);function Ea(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Ce.cursor(r.from+s))}return i}const YU=t=>as(t,e=>Ea(t,e,!0)),QU=t=>as(t,e=>Ea(t,e,!1)),JU=t=>as(t,e=>Ea(t,e,!wr(t))),XU=t=>as(t,e=>Ea(t,e,wr(t))),ZU=t=>as(t,e=>Ce.cursor(t.lineBlockAt(e.head).from,1)),eV=t=>as(t,e=>Ce.cursor(t.lineBlockAt(e.head).to,-1));function tV(t,e,n){let r=!1,i=hu(t.selection,s=>{let o=Ns(t,s.head,-1)||Ns(t,s.head,1)||s.head>0&&Ns(t,s.head-1,1)||s.head<t.doc.length&&Ns(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Ce.cursor(a)});return r?(e(Us(t,i)),!0):!1}const nV=({state:t,dispatch:e})=>tV(t,e);function Pi(t,e){let n=hu(t.state.selection,r=>{let i=e(r);return Ce.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Us(t.state,n)),!0)}function GO(t,e){return Pi(t,n=>t.moveByChar(n,e))}const qO=t=>GO(t,!wr(t)),YO=t=>GO(t,wr(t));function QO(t,e){return Pi(t,n=>t.moveByGroup(n,e))}const rV=t=>QO(t,!wr(t)),iV=t=>QO(t,wr(t)),sV=t=>Pi(t,e=>_g(t.state,e,!wr(t))),oV=t=>Pi(t,e=>_g(t.state,e,wr(t)));function JO(t,e){return Pi(t,n=>t.moveVertically(n,e))}const XO=t=>JO(t,!1),ZO=t=>JO(t,!0);function e_(t,e){return Pi(t,n=>t.moveVertically(n,e,VO(t).height))}const tA=t=>e_(t,!1),nA=t=>e_(t,!0),aV=t=>Pi(t,e=>Ea(t,e,!0)),lV=t=>Pi(t,e=>Ea(t,e,!1)),cV=t=>Pi(t,e=>Ea(t,e,!wr(t))),uV=t=>Pi(t,e=>Ea(t,e,wr(t))),hV=t=>Pi(t,e=>Ce.cursor(t.lineBlockAt(e.head).from)),dV=t=>Pi(t,e=>Ce.cursor(t.lineBlockAt(e.head).to)),rA=({state:t,dispatch:e})=>(e(Us(t,{anchor:0})),!0),iA=({state:t,dispatch:e})=>(e(Us(t,{anchor:t.doc.length})),!0),sA=({state:t,dispatch:e})=>(e(Us(t,{anchor:t.selection.main.anchor,head:0})),!0),oA=({state:t,dispatch:e})=>(e(Us(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),fV=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),pV=({state:t,dispatch:e})=>{let n=jg(t).map(({from:r,to:i})=>Ce.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Ce.create(n),userEvent:"select"})),!0},mV=({state:t,dispatch:e})=>{let n=hu(t.selection,r=>{let i=xr(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Ce.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(Us(t,n)),!0)},gV=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Ce.create([n.main]):n.main.empty||(r=Ce.create([Ce.cursor(n.main.head)])),r?(e(Us(t,r)),!0):!1};function Cd(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Tf(t,l,!1)):l>o&&(n="delete.forward",l=Tf(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Tf(t,o,!1),a=Tf(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Ce.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Re.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Tf(t,e,n){if(t instanceof Re)for(let r of t.state.facet(Re.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const t_=(t,e,n)=>Cd(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let u=uu(a,s.tabSize),c=u%fm(s)||fm(s);for(let h=0;h<c&&a[a.length-1-h]==" ";h++)i--;l=i}else l=ir(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=ir(o.text,l-o.from,!1,!1)+o.from);return l}),Ib=t=>t_(t,!1,!0),n_=t=>t_(t,!0,!1),r_=(t,e)=>Cd(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=ir(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||r!=n.head)&&(a=c),r=l}return r}),i_=t=>r_(t,!1),vV=t=>r_(t,!0),yV=t=>Cd(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),bV=t=>Cd(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),xV=t=>Cd(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),wV=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ht.of(["",""])},range:Ce.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},SV=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:ir(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:ir(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Ce.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function jg(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function s_(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of jg(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Ce.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Ce.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Ce.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const CV=({state:t,dispatch:e})=>s_(t,e,!1),kV=({state:t,dispatch:e})=>s_(t,e,!0);function o_(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of jg(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const AV=({state:t,dispatch:e})=>o_(t,e,!1),EV=({state:t,dispatch:e})=>o_(t,e,!0),TV=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(jg(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=hu(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function MV(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=xr(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Rt.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const aA=a_(!1),NV=a_(!0);function a_(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&MV(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new Rg(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=Qw(u,s);for(c==null&&(c=uu(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",Vh(e,c)];return l&&h.push(Vh(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Ht.of(h)},range:Ce.cursor(s+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function e1(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Ce.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const RV=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Rg(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=e1(t,(s,o,a)=>{let l=Qw(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=Vh(t,l);(u!=c||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},l_=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(e1(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Ng)})}),{userEvent:"input.indent"})),!0),c_=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(e1(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=uu(i,t.tabSize),o=0,a=Vh(t,Math.max(0,s-fm(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),LV=t=>(t.setTabFocusMode(),!0),$V=[{key:"Ctrl-b",run:FO,shift:qO,preventDefault:!0},{key:"Ctrl-f",run:BO,shift:YO},{key:"Ctrl-p",run:WO,shift:XO},{key:"Ctrl-n",run:UO,shift:ZO},{key:"Ctrl-a",run:ZU,shift:hV},{key:"Ctrl-e",run:eV,shift:dV},{key:"Ctrl-d",run:n_},{key:"Ctrl-h",run:Ib},{key:"Ctrl-k",run:yV},{key:"Ctrl-Alt-h",run:i_},{key:"Ctrl-o",run:wV},{key:"Ctrl-t",run:SV},{key:"Ctrl-v",run:Pb}],OV=[{key:"ArrowLeft",run:FO,shift:qO,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:UU,shift:rV,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:JU,shift:cV,preventDefault:!0},{key:"ArrowRight",run:BO,shift:YO,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:VU,shift:iV,preventDefault:!0},{mac:"Cmd-ArrowRight",run:XU,shift:uV,preventDefault:!0},{key:"ArrowUp",run:WO,shift:XO,preventDefault:!0},{mac:"Cmd-ArrowUp",run:rA,shift:sA},{mac:"Ctrl-ArrowUp",run:eA,shift:tA},{key:"ArrowDown",run:UO,shift:ZO,preventDefault:!0},{mac:"Cmd-ArrowDown",run:iA,shift:oA},{mac:"Ctrl-ArrowDown",run:Pb,shift:nA},{key:"PageUp",run:eA,shift:tA},{key:"PageDown",run:Pb,shift:nA},{key:"Home",run:QU,shift:lV,preventDefault:!0},{key:"Mod-Home",run:rA,shift:sA},{key:"End",run:YU,shift:aV,preventDefault:!0},{key:"Mod-End",run:iA,shift:oA},{key:"Enter",run:aA,shift:aA},{key:"Mod-a",run:fV},{key:"Backspace",run:Ib,shift:Ib},{key:"Delete",run:n_},{key:"Mod-Backspace",mac:"Alt-Backspace",run:i_},{key:"Mod-Delete",mac:"Alt-Delete",run:vV},{mac:"Mod-Backspace",run:bV},{mac:"Mod-Delete",run:xV}].concat($V.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),_V=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:GU,shift:sV},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:qU,shift:oV},{key:"Alt-ArrowUp",run:CV},{key:"Shift-Alt-ArrowUp",run:AV},{key:"Alt-ArrowDown",run:kV},{key:"Shift-Alt-ArrowDown",run:EV},{key:"Escape",run:gV},{key:"Mod-Enter",run:NV},{key:"Alt-l",mac:"Ctrl-l",run:pV},{key:"Mod-i",run:mV,preventDefault:!0},{key:"Mod-[",run:c_},{key:"Mod-]",run:l_},{key:"Mod-Alt-\\",run:RV},{key:"Shift-Mod-k",run:TV},{key:"Shift-Mod-\\",run:nV},{key:"Mod-/",run:AU},{key:"Alt-A",run:TU},{key:"Ctrl-m",mac:"Shift-Alt-m",run:LV}].concat(OV),jV={key:"Tab",run:l_,shift:c_},lA=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Zc{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(lA(a)):lA,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Dr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Rw(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Es(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Zc.prototype[Symbol.iterator]=function(){return this});const u_={from:-1,to:-1,match:/.*/.exec("")},t1="gm"+(/x/.unicode==null?"":"u");class h_{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=u_,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new d_(e,n,r,i,s);this.re=new RegExp(n,t1+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=vm(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=vm(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const g0=new WeakMap;class Cc{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=g0.get(e);if(!i||i.from>=r||i.to<=n){let a=new Cc(n,e.sliceString(n,r));return g0.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),g0.set(e,new Cc(o,s)),new Cc(n,s.slice(n-o,r-o))}}class d_{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=u_,this.matchPos=vm(e,i),this.re=new RegExp(n,t1+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Cc.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=vm(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Cc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(h_.prototype[Symbol.iterator]=d_.prototype[Symbol.iterator]=function(){return this});function DV(t){try{return new RegExp(t,t1),!0}catch{return!1}}function vm(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function Fb(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=en("input",{class:"cm-textfield",name:"line",value:e}),r=en("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:ch.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},en("label",t.state.phrase("Go to line"),": ",n)," ",en("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),en("button",{name:"close",onclick:()=>{t.dispatch({effects:ch.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["×"]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,u,c,h]=s,d=c?+c.slice(1):0,f=u?+u:a.number;if(u&&h){let g=f/100;l&&(g=g*(l=="-"?-1:1)+a.number/o.doc.lines),f=Math.round(o.doc.lines*g)}else u&&l&&(f=f*(l=="-"?-1:1)+a.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,f))),m=Ce.cursor(p.from+Math.max(0,Math.min(d,p.length)));t.dispatch({effects:[ch.of(!1),Re.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}const ch=St.define(),cA=lr.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(ch)&&(t=n.value);return t},provide:t=>Wh.from(t,e=>e?Fb:null)}),PV=t=>{let e=Hh(t,Fb);if(!e){let n=[ch.of(!0)];t.state.field(cA,!1)==null&&n.push(St.appendConfig.of([cA,IV])),t.dispatch({effects:n}),e=Hh(t,Fb)}return e&&e.dom.querySelector("input").select(),!0},IV=Re.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),FV={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},BV=Ie.define({combine(t){return Ws(t,FV,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function zV(t){return[KV,VV]}const HV=Xe.mark({class:"cm-selectionMatch"}),WV=Xe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function uA(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=yn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=yn.Word)}function UV(t,e,n,r){return t(e.sliceDoc(n,n+1))==yn.Word&&t(e.sliceDoc(r-1,r))==yn.Word}const VV=On.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(BV),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Xe.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Xe.none;let l=n.wordAt(i.head);if(!l)return Xe.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Xe.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(uA(o,n,i.from,i.to)&&UV(o,n,i.from,i.to)))return Xe.none}else if(s=n.sliceDoc(i.from,i.to),!s)return Xe.none}let a=[];for(let l of t.visibleRanges){let u=new Zc(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!o||uA(o,n,c,h))&&(i.empty&&c<=i.from&&h>=i.to?a.push(WV.range(c,h)):(c>=i.to||h<=i.from)&&a.push(HV.range(c,h)),a.length>e.maxMatches))return Xe.none}}return Xe.set(a)}},{decorations:t=>t.decorations}),KV=Re.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),GV=({state:t,dispatch:e})=>{let{selection:n}=t,r=Ce.create(n.ranges.map(i=>t.wordAt(i.head)||Ce.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function qV(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new Zc(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Zc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const YV=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return GV({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=qV(t,r);return i?(e(t.update({selection:t.selection.addRange(Ce.range(i.from,i.to),!1),effects:Re.scrollIntoView(i.to)})),!0):!1},du=Ie.define({combine(t){return Ws(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new a7(e),scrollToMatch:e=>Re.scrollIntoView(e)})}});class f_{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||DV(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new ZV(this):new JV(this)}getCursor(e,n=0,r){let i=e.doc?e:Dt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?zl(this,i,n,r):Bl(this,i,n,r)}}class p_{constructor(e){this.spec=e}}function Bl(t,e,n,r){return new Zc(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?QV(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function QV(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(ym(i,n-s))!=yn.Word||e(bm(i,n-s))!=yn.Word)&&(e(bm(i,r-s))!=yn.Word||e(ym(i,r-s))!=yn.Word))}class JV extends p_{constructor(e){super(e)}nextMatch(e,n,r){let i=Bl(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Bl(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=Bl(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Bl(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Bl(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function zl(t,e,n,r){return new h_(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?XV(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function ym(t,e){return t.slice(ir(t,e,!1),e)}function bm(t,e){return t.slice(e,ir(t,e))}function XV(t){return(e,n,r)=>!r[0].length||(t(ym(r.input,r.index))!=yn.Word||t(bm(r.input,r.index))!=yn.Word)&&(t(bm(r.input,r.index+r[0].length))!=yn.Word||t(ym(r.input,r.index+r[0].length))!=yn.Word)}class ZV extends p_{nextMatch(e,n,r){let i=zl(this.spec,e,r,e.doc.length).next();return i.done&&(i=zl(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=zl(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=zl(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=zl(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Kh=St.define(),n1=St.define(),la=lr.define({create(t){return new v0(Bb(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Kh)?t=new v0(n.value.create(),t.panel):n.is(n1)&&(t=new v0(t.query,n.value?r1:null));return t},provide:t=>Wh.from(t,e=>e.panel)});class v0{constructor(e,n){this.query=e,this.panel=n}}const e7=Xe.mark({class:"cm-searchMatch"}),t7=Xe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),n7=On.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(la))}update(t){let e=t.state.field(la);(e!=t.startState.field(la)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Xe.none;let{view:n}=this,r=new po;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,a,l,(u,c)=>{let h=n.state.selection.ranges.some(d=>d.from==u&&d.to==c);r.add(u,c,h?t7:e7)})}return r.finish()}},{decorations:t=>t.decorations});function kd(t){return e=>{let n=e.state.field(la,!1);return n&&n.query.spec.valid?t(e,n):v_(e)}}const xm=kd((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Ce.single(r.from,r.to),s=t.state.facet(du);return t.dispatch({selection:i,effects:[i1(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),g_(t),!0}),wm=kd((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Ce.single(i.from,i.to),o=t.state.facet(du);return t.dispatch({selection:s,effects:[i1(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),g_(t),!0}),r7=kd((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Ce.create(n.map(r=>Ce.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),i7=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new Zc(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Ce.range(a.value.from,a.value.to))}return e(t.update({selection:Ce.create(s,o),userEvent:"select.search.matches"})),!0},hA=kd((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,u,c=[];o.from==r&&o.to==i&&(u=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(n,o.from,o.to),c.push(Re.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let h=t.state.changes(a);return o&&(l=Ce.single(o.from,o.to).map(h),c.push(i1(t,o)),c.push(n.facet(du).scrollToMatch(l.main,t))),t.dispatch({changes:h,selection:l,effects:c,userEvent:"input.replace"}),!0}),s7=kd((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Re.announce.of(r),userEvent:"input.replace.all"}),!0});function r1(t){return t.state.facet(du).createPanel(t)}function Bb(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(du);return new f_({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function m_(t){let e=Hh(t,r1);return e&&e.dom.querySelector("[main-field]")}function g_(t){let e=m_(t);e&&e==t.root.activeElement&&e.select()}const v_=t=>{let e=t.state.field(la,!1);if(e&&e.panel){let n=m_(t);if(n&&n!=t.root.activeElement){let r=Bb(t.state,e.query.spec);r.valid&&t.dispatch({effects:Kh.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[n1.of(!0),e?Kh.of(Bb(t.state,e.query.spec)):St.appendConfig.of(c7)]});return!0},y_=t=>{let e=t.state.field(la,!1);if(!e||!e.panel)return!1;let n=Hh(t,r1);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:n1.of(!1)}),!0},o7=[{key:"Mod-f",run:v_,scope:"editor search-panel"},{key:"F3",run:xm,shift:wm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:xm,shift:wm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:y_,scope:"editor search-panel"},{key:"Mod-Shift-l",run:i7},{key:"Mod-Alt-g",run:PV},{key:"Mod-d",run:YV,preventDefault:!0}];class a7{constructor(e){this.view=e;let n=this.query=e.state.field(la).query.spec;this.commit=this.commit.bind(this),this.searchField=en("input",{value:n.search,placeholder:ti(e,"Find"),"aria-label":ti(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=en("input",{value:n.replace,placeholder:ti(e,"Replace"),"aria-label":ti(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=en("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=en("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=en("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return en("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=en("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>xm(e),[ti(e,"next")]),r("prev",()=>wm(e),[ti(e,"previous")]),r("select",()=>r7(e),[ti(e,"all")]),en("label",null,[this.caseField,ti(e,"match case")]),en("label",null,[this.reField,ti(e,"regexp")]),en("label",null,[this.wordField,ti(e,"by word")]),...e.state.readOnly?[]:[en("br"),this.replaceField,r("replace",()=>hA(e),[ti(e,"replace")]),r("replaceAll",()=>s7(e),[ti(e,"replace all")])],en("button",{name:"close",onclick:()=>y_(e),"aria-label":ti(e,"close"),type:"button"},["×"])])}commit(){let e=new f_({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Kh.of(e)}))}keydown(e){m8(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?wm:xm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),hA(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Kh)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(du).top}}function ti(t,e){return t.state.phrase(e)}const Mf=30,Nf=/[\s\.,:;?!]/;function i1(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Mf),o=Math.min(i,n+Mf),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Mf;l++)if(!Nf.test(a[l+1])&&Nf.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Mf;l--)if(!Nf.test(a[l-1])&&Nf.test(a[l])){a=a.slice(0,l);break}}return Re.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const l7=Re.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),c7=[la,El.low(n7),l7];class b_{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=xr(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(x_(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function dA(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function u7(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=dA(e)+dA(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function h7(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:u7(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}class fA{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function nl(t){return t.selection.main.from}function x_(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const w_=Hs.define();function d7(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Ce.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const pA=new WeakMap;function f7(t){if(!Array.isArray(t))return t;let e=pA.get(t);return e||pA.set(t,e=h7(t)),e}const Sm=St.define(),Gh=St.define();class p7{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Dr(e,n),i=Es(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(Dr(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let b=Dr(e,0),C=Es(b),x=C==e.length?0:-100;if(b!=n[0])if(b==r[0])x+=-200;else return null;return this.ret(x,[0,C])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let b=0,C=Math.min(e.length,200);b<C&&u<l;){let x=Dr(e,b);(x==n[u]||x==r[u])&&(i[u++]=b),b+=Es(x)}if(u<l)return null}let c=0,h=0,d=!1,f=0,p=-1,m=-1,g=/[a-z]/.test(e),y=!0;for(let b=0,C=Math.min(e.length,200),x=0;b<C&&h<l;){let S=Dr(e,b);a<0&&(c<l&&S==n[c]&&(s[c++]=b),f<l&&(S==n[f]||S==r[f]?(f==0&&(p=b),m=b+1,f++):f=0));let w,k=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(w=Rw(S))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!b||k==1&&g||x==0&&k!=0)&&(n[h]==S||r[h]==S&&(d=!0)?o[h++]=b:o.length&&(y=!1)),x=k,b+=Es(S)}return h==l&&o[0]==0&&y?this.result(-100+(d?-200:0),o,e):f==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):f==l?this.ret(-900-e.length,[p,m]):h==l?this.result(-100+(d?-200:0)+-700+(y?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Es(Dr(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class m7{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Jn=Ie.define({combine(t){return Ws(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:g7,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>mA(e(r),n(r)),optionClass:(e,n)=>r=>mA(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function mA(t,e){return t?e?t+" "+e:t:e}function g7(t,e,n,r,i,s){let o=t.textDirection==mn.RTL,a=o,l=!1,u="top",c,h,d=e.left-i.left,f=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(a&&d<Math.min(p,f)?a=!1:!a&&f<Math.min(p,d)&&(a=!0),p<=(a?d:f))c=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,h=Math.min(400,a?d:f);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let b=i.bottom-e.bottom;b>=m||b>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let g=(e.bottom-e.top)/s.offsetHeight,y=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/g}px; max-width: ${h/y}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function v7(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<s.length;){let c=s[u++],h=s[u++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(c,h))),d.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function y0(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class y7{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(Jn);this.optionContent=v7(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=y0(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(Jn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Gh.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=y0(s.length,o,e.state.facet(Jn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=y0(n.options.length,n.selected,this.view.state.facet(Jn).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>Wr(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&x7(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Jn).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let d=typeof u=="string"?u:u.name;if(d!=s&&(o>r.from||r.from==0))if(s=d,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let f=i.appendChild(document.createElement("completion-section"));f.textContent=d}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let h=this.optionClass(a);h&&(c.className=h);for(let d of this.optionContent){let f=d(a,this.view.state,this.view,l);f&&c.appendChild(f)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function b7(t,e){return n=>new y7(n,t,e)}function x7(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function gA(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function w7(t,e){let n=[],r=null,i=u=>{n.push(u);let{section:c}=u.completion;if(c){r||(r=[]);let h=typeof c=="string"?c:c.name;r.some(d=>d.name==h)||r.push(typeof c=="string"?{name:h}:c)}},s=e.facet(Jn);for(let u of t)if(u.hasResult()){let c=u.result.getMatch;if(u.result.filter===!1)for(let h of u.result.options)i(new fA(h,u.source,c?c(h):[],1e9-n.length));else{let h=e.sliceDoc(u.from,u.to),d,f=s.filterStrict?new m7(h):new p7(h);for(let p of u.result.options)if(d=f.match(p.label)){let m=p.displayLabel?c?c(p,d.matched):[]:d.matched;i(new fA(p,u.source,m,d.score+(p.boost||0)))}}}if(r){let u=Object.create(null),c=0,h=(d,f)=>{var p,m;return((p=d.rank)!==null&&p!==void 0?p:1e9)-((m=f.rank)!==null&&m!==void 0?m:1e9)||(d.name<f.name?-1:1)};for(let d of r.sort(h))c-=1e5,u[d.name]=c;for(let d of n){let{section:f}=d.completion;f&&(d.score+=u[typeof f=="string"?f:f.name])}}let o=[],a=null,l=s.compareCompletions;for(let u of n.sort((c,h)=>h.score-c.score||l(c.completion,h.completion))){let c=u.completion;!a||a.label!=c.label||a.detail!=c.detail||a.type!=null&&c.type!=null&&a.type!=c.type||a.apply!=c.apply||a.boost!=c.boost?o.push(u):gA(u.completion)>gA(a)&&(o[o.length-1]=u),a=u.completion}return o}class ac{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new ac(this.options,vA(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let a=w7(e,n);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=n.facet(Jn).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<a.length;c++)if(a[c].completion==u){l=c;break}}return new ac(a,vA(r,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:T7,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new ac(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new ac(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Cm{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Cm(A7,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Jn),s=(r.override||n.languageDataAt("autocomplete",nl(n)).map(f7)).map(l=>(this.active.find(c=>c.source==l)||new Ni(l,this.active.some(c=>c.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(s1));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!S7(s,this.active)||a?o=ac.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Ni(l.source,0):l));for(let l of e.effects)l.is(C_)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Cm(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?C7:k7}}function S7(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const C7={"aria-autocomplete":"list"},k7={};function vA(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const A7=[];function S_(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(w_);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Ni{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=S_(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Ni(i.source,0)),r&4&&i.state==0&&(i=new Ni(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Sm))i=new Ni(i.source,1,s.value);else if(s.is(Gh))i=new Ni(i.source,0);else if(s.is(s1))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(nl(e.state))}}class kc extends Ni{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=nl(e.state);if(a>o||!i||n&2&&(nl(e.startState)==this.from||a<this.limit))return new Ni(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return E7(i.validFor,e.state,s,o)?new kc(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new b_(e.state,a,!1)))?new kc(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:nl(e.state)):new Ni(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new kc(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ni(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function E7(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):x_(t,!0).test(i)}const s1=St.define({map(t,e){return t.map(n=>n.map(e))}}),C_=St.define(),Ir=lr.define({create(){return Cm.start()},update(t,e){return t.update(e)},provide:t=>[Vw.from(t,e=>e.tooltip),Re.contentAttributes.from(t,e=>e.attrs)]});function o1(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Ir).active.find(i=>i.source==e.source);return r instanceof kc?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},d7(t.state,n,r.from,r.to)),{annotations:w_.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const T7=b7(Ir,o1);function Rf(t,e="option"){return n=>{let r=n.state.field(Ir,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Jn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=iO(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:C_.of(a)}),!0}}const M7=t=>{let e=t.state.field(Ir,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Jn).interactionDelay?!1:o1(t,e.open.options[e.open.selected])},yA=t=>t.state.field(Ir,!1)?(t.dispatch({effects:Sm.of(!0)}),!0):!1,N7=t=>{let e=t.state.field(Ir,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Gh.of(null)}),!0)};class R7{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const L7=50,$7=1e3,O7=On.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Ir).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Ir),n=t.state.facet(Jn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Ir)==e)return;let r=t.transactions.some(s=>{let o=S_(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>L7&&Date.now()-o.time>$7){for(let a of o.context.abortListeners)try{a()}catch(l){Wr(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(Sm)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Ir);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Jn).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=nl(e),r=new b_(e,n,t.explicit,this.view),i=new R7(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Gh.of(null)}),Wr(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Jn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Jn),r=this.view.state.field(Ir);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=nl(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),u=new kc(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let c of s.updates)u=u.update(c,n);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new Ni(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:s1.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Ir,!1);if(e&&e.tooltip&&this.view.state.facet(Jn).closeOnBlur){let n=e.open&&iO(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Gh.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Sm.of(!1)}),20),this.composing=0}}}),_7=typeof navigator=="object"&&/Win/.test(navigator.platform),j7=El.highest(Re.domEventHandlers({keydown(t,e){let n=e.state.field(Ir,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(_7&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&o1(e,r),!1}})),D7=Re.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),qh={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ua=St.define({map(t,e){let n=e.mapPos(t,-1,Tr.TrackAfter);return n??void 0}}),a1=new class extends gl{};a1.startSide=1;a1.endSide=-1;const k_=lr.define({create(){return zt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Ua)&&(t=t.update({add:[a1.range(n.value,n.value+1)]}));return t}});function P7(){return[F7,k_]}const b0="()[]{}<>«»»«［］｛｝";function A_(t){for(let e=0;e<b0.length;e+=2)if(b0.charCodeAt(e)==t)return b0.charAt(e+1);return Rw(t<128?t:t+1)}function E_(t,e){return t.languageDataAt("closeBrackets",e)[0]||qh}const I7=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),F7=Re.inputHandler.of((t,e,n,r)=>{if((I7?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Es(Dr(r,0))==1||e!=i.from||n!=i.to)return!1;let s=H7(t.state,r);return s?(t.dispatch(s),!0):!1}),B7=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=E_(t,t.selection.main.head).brackets||qh.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=W7(t.doc,o.head);for(let l of r)if(l==a&&Dg(t.doc,o.head)==A_(Dr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Ce.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},z7=[{key:"Backspace",run:B7}];function H7(t,e){let n=E_(t,t.selection.main.head),r=n.brackets||qh.brackets;for(let i of r){let s=A_(Dr(i,0));if(e==i)return s==i?K7(t,i,r.indexOf(i+i+i)>-1,n):U7(t,i,s,n.before||qh.before);if(e==s&&T_(t,t.selection.main.from))return V7(t,i,s)}return null}function T_(t,e){let n=!1;return t.field(k_).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Dg(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Es(Dr(n,0)))}function W7(t,e){let n=t.sliceString(e-2,e);return Es(Dr(n,0))==n.length?n:n.slice(1)}function U7(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Ua.of(o.to+e.length),range:Ce.range(o.anchor+e.length,o.head+e.length)};let a=Dg(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Ua.of(o.head+e.length),range:Ce.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function V7(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&Dg(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Ce.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function K7(t,e,n,r){let i=r.stringPrefixes||qh.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Ua.of(a.to+e.length),range:Ce.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Dg(t.doc,l),c;if(u==e){if(bA(t,l))return{changes:{insert:e+e,from:l},effects:Ua.of(l+e.length),range:Ce.cursor(l+e.length)};if(T_(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:Ce.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=xA(t,l-2*e.length,i))>-1&&bA(t,c))return{changes:{insert:e+e+e+e,from:l},effects:Ua.of(l+e.length),range:Ce.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=yn.Word&&xA(t,l,i)>-1&&!G7(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Ua.of(l+e.length),range:Ce.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function bA(t,e){let n=xr(t).resolveInner(e+1);return n.parent&&n.from==e}function G7(t,e,n,r){let i=xr(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function xA(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=yn.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=yn.Word)return s}return-1}function q7(t={}){return[j7,Ir,Jn.of(t),O7,Y7,D7]}const M_=[{key:"Ctrl-Space",run:yA},{mac:"Alt-`",run:yA},{key:"Escape",run:N7},{key:"ArrowDown",run:Rf(!0)},{key:"ArrowUp",run:Rf(!1)},{key:"PageDown",run:Rf(!0,"page")},{key:"PageUp",run:Rf(!1,"page")},{key:"Enter",run:M7}],Y7=El.highest(Tg.computeN([Jn],t=>t.facet(Jn).defaultKeymap?[M_]:[]));class wA{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Fa{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(Yh).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((c,h)=>c.from-h.from||c.to-h.to),o=new po,a=[],l=0;for(let c=0;;){let h=c==s.length?null:s[c];if(!h&&!a.length)break;let d,f;for(a.length?(d=l,f=a.reduce((m,g)=>Math.min(m,g.to),h&&h.from>d?h.from:1e8)):(d=h.from,f=h.to,a.push(h),c++);c<s.length;){let m=s[c];if(m.from==d&&(m.to>m.from||m.to==d))a.push(m),c++,f=Math.min(m.to,f);else{f=Math.min(m.from,f);break}}let p=lK(a);if(a.some(m=>m.from==m.to||m.from==m.to-1&&r.doc.lineAt(m.from).to==m.from))o.add(d,d,Xe.widget({widget:new iK(p),diagnostics:a.slice()}));else{let m=a.reduce((g,y)=>y.markClass?g+" "+y.markClass:g,"");o.add(d,f,Xe.mark({class:"cm-lintRange cm-lintRange-"+p+m,diagnostics:a.slice(),inclusiveEnd:a.some(g=>g.to>f)}))}l=f;for(let m=0;m<a.length;m++)a[m].to<=l&&a.splice(m--,1)}let u=o.finish();return new Fa(u,n,eu(u))}}function eu(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new wA(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new wA(r.from,s,r.diagnostic)}}),r}function Q7(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Yh).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(N_))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function J7(t,e){return t.field(di,!1)?e:e.concat(St.appendConfig.of(cK))}const N_=St.define(),l1=St.define(),R_=St.define(),di=lr.define({create(){return new Fa(Xe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=eu(n,t.selected.diagnostic,s)||eu(n,null,s)}!n.size&&i&&e.state.facet(Yh).autoPanel&&(i=null),t=new Fa(n,i,r)}for(let n of e.effects)if(n.is(N_)){let r=e.state.facet(Yh).autoPanel?n.value.length?Qh.open:null:t.panel;t=Fa.init(n.value,r,e.state)}else n.is(l1)?t=new Fa(t.diagnostics,n.value?Qh.open:null,t.selected):n.is(R_)&&(t=new Fa(t.diagnostics,t.panel,n.value));return t},provide:t=>[Wh.from(t,e=>e.panel),Re.decorations.from(t,e=>e.diagnostics)]}),X7=Xe.mark({class:"cm-lintRange cm-lintRange-active"});function Z7(t,e,n){let{diagnostics:r}=t.state.field(di),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{if(e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0)))return i=c.diagnostics,s=l,o=u,!1});let a=t.state.facet(Yh).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:eK(t,i)}}}:null}function eK(t,e){return en("ul",{class:"cm-tooltip-lint"},e.map(n=>$_(t,n,!1)))}const tK=t=>{let e=t.state.field(di,!1);(!e||!e.panel)&&t.dispatch({effects:J7(t.state,[l1.of(!0)])});let n=Hh(t,Qh.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},SA=t=>{let e=t.state.field(di,!1);return!e||!e.panel?!1:(t.dispatch({effects:l1.of(!1)}),!0)},nK=t=>{let e=t.state.field(di,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},rK=[{key:"Mod-Shift-m",run:tK,preventDefault:!0},{key:"F8",run:nK}],Yh=Ie.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},Ws(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function L_(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function $_(t,e,n){var r;let i=n?L_(e.actions):[];return en("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},en("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let f=eu(t.state.field(di).diagnostics,e);f&&s.apply(t,f.from,f.to)},{name:u}=s,c=i[o]?u.indexOf(i[o]):-1,h=c<0?u:[u.slice(0,c),en("u",u.slice(c,c+1)),u.slice(c+1)];return en("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&en("div",{class:"cm-diagnosticSource"},e.source))}class iK extends bo{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return en("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class CA{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=$_(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Qh{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)SA(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=L_(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=eu(this.view.state.field(di).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=en("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=en("div",{class:"cm-panel-lint"},this.list,en("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>SA(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(di).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(di),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let c of u.diagnostics){if(o.has(c))continue;o.add(c);let h=-1,d;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==c){h=f;break}h<0?(d=new CA(this.view,c),this.items.splice(r,0,d),i=!0):(d=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),n&&d.diagnostic==n.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new CA(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(di),r=eu(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:R_.of(r)})}static open(e){return new Qh(e)}}function sK(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Lf(t){return sK(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const oK=Re.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Lf("#d11")},".cm-lintRange-warning":{backgroundImage:Lf("orange")},".cm-lintRange-info":{backgroundImage:Lf("#999")},".cm-lintRange-hint":{backgroundImage:Lf("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function aK(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function lK(t){let e="hint",n=1;for(let r of t){let i=aK(r.severity);i>n&&(n=i,e=r.severity)}return e}const cK=[di,Re.decorations.compute([di],t=>{let{selected:e,panel:n}=t.field(di);return!e||!n||e.from==e.to?Xe.none:Xe.set([X7.range(e.from,e.to)])}),r9(Z7,{hideOn:Q7}),oK];var kA=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(z7)),e.defaultKeymap!==!1&&(r=r.concat(_V)),e.searchKeymap!==!1&&(r=r.concat(o7)),e.historyKeymap!==!1&&(r=r.concat(WU)),e.foldKeymap!==!1&&(r=r.concat(rU)),e.completionKeymap!==!1&&(r=r.concat(M_)),e.lintKeymap!==!1&&(r=r.concat(rK));var i=[];return e.lineNumbers!==!1&&i.push(p9()),e.highlightActiveLineGutter!==!1&&i.push(v9()),e.highlightSpecialChars!==!1&&i.push($8()),e.history!==!1&&i.push(_U()),e.foldGutter!==!1&&i.push(aU()),e.drawSelection!==!1&&i.push(w8()),e.dropCursor!==!1&&i.push(E8()),e.allowMultipleSelections!==!1&&i.push(Dt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(G9()),e.syntaxHighlighting!==!1&&i.push(MO(hU,{fallback:!0})),e.bracketMatching!==!1&&i.push(yU()),e.closeBrackets!==!1&&i.push(P7()),e.autocompletion!==!1&&i.push(q7()),e.rectangularSelection!==!1&&i.push(K8()),n!==!1&&i.push(Y8()),e.highlightActiveLine!==!1&&i.push(I8()),e.highlightSelectionMatches!==!1&&i.push(zV()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Ng.of(" ".repeat(e.tabSize))),i.concat([Tg.of(r.flat())]).filter(Boolean)};const uK="#e5c07b",AA="#e06c75",hK="#56b6c2",dK="#ffffff",hp="#abb2bf",zb="#7d8799",fK="#61afef",pK="#98c379",EA="#d19a66",mK="#c678dd",gK="#21252b",TA="#2c313a",MA="#282c34",x0="#353a42",vK="#3E4451",NA="#528bff",yK=Re.theme({"&":{color:hp,backgroundColor:MA},".cm-content":{caretColor:NA},".cm-cursor, .cm-dropCursor":{borderLeftColor:NA},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:vK},".cm-panels":{backgroundColor:gK,color:hp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:MA,color:zb,border:"none"},".cm-activeLineGutter":{backgroundColor:TA},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:x0},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:x0,borderBottomColor:x0},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:TA,color:hp}}},{dark:!0}),bK=Sd.define([{tag:ge.keyword,color:mK},{tag:[ge.name,ge.deleted,ge.character,ge.propertyName,ge.macroName],color:AA},{tag:[ge.function(ge.variableName),ge.labelName],color:fK},{tag:[ge.color,ge.constant(ge.name),ge.standard(ge.name)],color:EA},{tag:[ge.definition(ge.name),ge.separator],color:hp},{tag:[ge.typeName,ge.className,ge.number,ge.changed,ge.annotation,ge.modifier,ge.self,ge.namespace],color:uK},{tag:[ge.operator,ge.operatorKeyword,ge.url,ge.escape,ge.regexp,ge.link,ge.special(ge.string)],color:hK},{tag:[ge.meta,ge.comment],color:zb},{tag:ge.strong,fontWeight:"bold"},{tag:ge.emphasis,fontStyle:"italic"},{tag:ge.strikethrough,textDecoration:"line-through"},{tag:ge.link,color:zb,textDecoration:"underline"},{tag:ge.heading,fontWeight:"bold",color:AA},{tag:[ge.atom,ge.bool,ge.special(ge.variableName)],color:EA},{tag:[ge.processingInstruction,ge.string,ge.inserted],color:pK},{tag:ge.invalid,color:dK}]),Ku=[yK,MO(bK)];var xK=Re.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),wK=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(Tg.of([jV])),a&&(typeof a=="boolean"?l.unshift(kA()):l.unshift(kA(a))),o&&l.unshift(H8(o)),s){case"light":l.push(xK);break;case"dark":l.push(Ku);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(Re.editable.of(!1)),i&&l.push(Dt.readOnly.of(!0)),[...l]},SK=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class CK{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class RA{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var w0=null,kK=()=>typeof window>"u"?new RA:(w0||(w0=new RA),w0),LA=Hs.define(),AK=200,EK=[];function TK(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=EK,autoFocus:l,theme:u="light",height:c=null,minHeight:h=null,maxHeight:d=null,width:f=null,minWidth:p=null,maxWidth:m=null,placeholder:g="",editable:y=!0,readOnly:b=!1,indentWithTab:C=!0,basicSetup:x=!0,root:S,initialState:w}=t,[k,L]=j.useState(),[E,N]=j.useState(),[_,R]=j.useState(),M=j.useState(()=>({current:null}))[0],T=j.useState(()=>({current:null}))[0],A=Re.theme({"&":{height:c,minHeight:h,maxHeight:d,width:f,minWidth:p,maxWidth:m},"& .cm-scroller":{height:"100% !important"}}),$=Re.updateListener.of(P=>{if(P.docChanged&&typeof r=="function"&&!P.transactions.some(Y=>Y.annotation(LA))){M.current?M.current.reset():(M.current=new CK(()=>{if(T.current){var Y=T.current;T.current=null,Y()}M.current=null},AK),kK().add(M.current));var I=P.state.doc,B=I.toString();r(B,P)}i&&i(SK(P))}),D=wK({theme:u,editable:y,readOnly:b,placeholder:g,indentWithTab:C,basicSetup:x}),O=[$,A,...D];return o&&typeof o=="function"&&O.push(Re.updateListener.of(o)),O=O.concat(a),j.useLayoutEffect(()=>{if(k&&!_){var P={doc:e,selection:n,extensions:O},I=w?Dt.fromJSON(w.json,P,w.fields):Dt.create(P);if(R(I),!E){var B=new Re({state:I,parent:k,root:S});N(B),s&&s(B,I)}}return()=>{E&&(R(void 0),N(void 0))}},[k,_]),j.useEffect(()=>{t.container&&L(t.container)},[t.container]),j.useEffect(()=>()=>{E&&(E.destroy(),N(void 0)),M.current&&(M.current.cancel(),M.current=null)},[E]),j.useEffect(()=>{l&&E&&E.focus()},[l,E]),j.useEffect(()=>{E&&E.dispatch({effects:St.reconfigure.of(O)})},[u,a,c,h,d,f,p,m,g,y,b,C,x,r,o]),j.useEffect(()=>{if(e!==void 0){var P=E?E.state.doc.toString():"";if(E&&e!==P){var I=M.current&&!M.current.isDone,B=()=>{E&&e!==E.state.doc.toString()&&E.dispatch({changes:{from:0,to:E.state.doc.toString().length,insert:e||""},annotations:[LA.of(!0)]})};I?T.current=B:B()}}},[e,E]),{state:_,setState:R,view:E,setView:N,container:k,setContainer:L}}var MK=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Va=j.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,autoFocus:c,theme:h="light",height:d,minHeight:f,maxHeight:p,width:m,minWidth:g,maxWidth:y,basicSetup:b,placeholder:C,indentWithTab:x,editable:S,readOnly:w,root:k,initialState:L}=t,E=g6(t,MK),N=j.useRef(null),{state:_,view:R,container:M,setContainer:T}=TK({root:k,value:r,autoFocus:c,theme:h,height:d,minHeight:f,maxHeight:p,width:m,minWidth:g,maxWidth:y,basicSetup:b,placeholder:C,indentWithTab:x,editable:S,readOnly:w,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:u,extensions:s,initialState:L});j.useImperativeHandle(e,()=>({editor:N.current,state:_,view:R}),[N,M,_,R]);var A=j.useCallback(D=>{N.current=D,T(D)},[T]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var $=typeof h=="string"?"cm-theme-"+h:"cm-theme";return v.jsx("div",Ky({ref:A,className:""+$+(n?" "+n:"")},E))});Va.displayName="CodeMirror";var $A={};class km{constructor(e,n,r,i,s,o,a,l,u,c=0,h){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new km(e,[],n,r,r,0,[],0,i?new OA(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let h=l?this.stack[l-1]:0,d=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,f,d+4,!0)}if(e&262144)this.state=this.stack[l];else{let f=this.stack[l-3];this.state=s.getGoto(f,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new km(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new NK(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new OA(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class OA{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class NK{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Am{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Am(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Am(this.stack,this.pos,this.index)}}function $f(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class dp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const _A=new dp;class RK{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=_A,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=_A,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Ac{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;LK(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Ac.prototype.contextual=Ac.prototype.fallback=Ac.prototype.extend=!1;Ac.prototype.fallback=Ac.prototype.extend=!1;function LK(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let u=t[o+1];for(let f=o+3;f<u;f+=2)if((t[f+1]&a)>0){let p=t[f];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||$K(p,e.token.value,i,s))){e.acceptToken(p);break}}let c=e.next,h=0,d=t[o+2];if(e.next<0&&d>h&&t[u+d*3-3]==65535){o=t[u+d*3-1];continue e}for(;h<d;){let f=h+d>>1,p=u+f+(f<<1),m=t[p],g=t[p+1]||65536;if(c<m)d=f;else if(c>=g)h=f+1;else{o=t[p+2],e.advance();continue e}}break}}function jA(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function $K(t,e,n,r){let i=jA(n,r,e);return i<0||jA(n,r,t)<i}const ni=typeof process<"u"&&$A&&/\bparse\b/.test($A.LOG);let S0=null;function DA(t,e,n){let r=t.cursor(Qn.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class OK{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?DA(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?DA(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Pn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Rt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class _K{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new dp)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let c=s[u],h=this.tokens[u];if(!(r&&!c.fallback)&&((c.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,c,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let d=n;if(h.extended>-1&&(n=this.addActions(e,h.extended,h.end,n)),n=this.addActions(e,h.value,h.end,n),!c.extend&&(r=h,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new dp,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new dp,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Zs(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(Zs(a,u+2),n,r,i));break}a[u]==n&&(i=this.putAction(Zs(a,u+1),n,r,i))}return i}}class jK{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new RK(n,i),this.tokens=new _K(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[km.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new OK(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&PK(i);if(o)return ni&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw ni&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return ni&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=ni?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let d=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(d>-1&&h.length&&(!u||(h.prop(Rt.contextHash)||0)==c))return e.useNode(h,d),ni&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Pn)||h.children.length==0||h.positions[0]>0)break;let f=h.children[0];if(f instanceof Pn&&h.positions[0]==0)h=f;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),ni&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],h=l[u++],d=l[u++],f=u==l.length||!r,p=f?e:e.split(),m=this.tokens.mainToken;if(p.apply(c,h,m?m.start:p.pos,d),ni&&console.log(o+this.stackID(p)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${p==e?"":", split"})`),f)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return PA(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],c=ni?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),ni&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),d=c;for(let f=0;h.forceReduce()&&f<10&&(ni&&console.log(d+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));f++)ni&&(d=this.stackID(h)+" -> ");for(let f of a.recoverByInsert(l))ni&&console.log(c+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),ni&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),PA(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Pn.build({buffer:Am.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(S0||(S0=new WeakMap)).get(e);return n||S0.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function PA(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class DK{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Em extends dO{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Rt[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let h=a[u+-c];for(let d=-c;d>0;d--)s(a[u++],l,h);u++}}}this.nodeSet=new Kw(n.map((a,l)=>Yr.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=lO;let o=$f(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(IA),this.states=$f(e.states,Uint32Array),this.data=$f(e.stateData),this.goto=$f(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Ac(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new jK(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Zs(r,s+2)];else{if(r[s+1]==2)return Zs(r,s+2);break}if(o==n||o==0)return Zs(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Zs(this.data,s+2);else break;i=n(Zs(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Zs(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Em.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=IA(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new DK(e,r,i)}static deserialize(e){return new Em(e)}}function Zs(t,e){return t[e]|t[e+1]<<16}function PK(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function IA(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const IK=fO({String:ge.string,Number:ge.number,"True False":ge.bool,PropertyName:ge.propertyName,Null:ge.null,", :":ge.separator,"[ ]":ge.squareBracket,"{ }":ge.brace}),FK=Em.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[IK],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),BK=hm.define({name:"json",parser:FK.configure({props:[vO.add({Object:qk({except:/^\s*\}/}),Array:qk({except:/^\s*\]/})}),bO.add({"Object Array":Y9})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Of(){return new P9(BK)}const zK={GET:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",POST:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",PUT:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",DELETE:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",PATCH:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"},HK=t=>t.type==="collection"?v.jsx(DM,{className:"h-4 w-4"}):t.type==="folder"?t.isExpanded?v.jsx(Z3,{className:"h-4 w-4"}):v.jsx(Ss,{className:"h-4 w-4"}):t.type==="request"?v.jsx(Rh,{className:"h-4 w-4"}):v.jsx(Rh,{className:"h-4 w-4"});function WK({collections:t,onCollectionSelect:e,onRequestSelect:n,onAddCollection:r,onAddFolder:i,onAddRequest:s,onDeleteItem:o,onRenameItem:a,onDuplicateItem:l,onMoveItem:u,selectedItemId:c}){const[h,d]=j.useState(""),[f,p]=j.useState(new Set(t.map(O=>O.id))),[m,g]=j.useState({isOpen:!1,x:0,y:0,itemId:"",itemName:"",itemType:""}),y=j.useRef(null),[b,C]=j.useState(null),[x,S]=j.useState(null),w=O=>{for(const P of t){if(P.id===O)return P;if(P.children)for(const I of P.children){if(I.id===O)return I;if(I.children){for(const B of I.children)if(B.id===O)return B}}}return null};j.useEffect(()=>{const O=localStorage.getItem("reqnest-expanded-items");if(O)try{const P=JSON.parse(O);Array.isArray(P)&&p(new Set(P))}catch{}},[]);const k=O=>{const P=new Set(f);P.has(O)?P.delete(O):P.add(O),p(P),localStorage.setItem("reqnest-expanded-items",JSON.stringify(Array.from(P)))};function L(O,P){return(O||[]).map(I=>{if(I.type==="folder"&&I.children){const B=L(I.children,P);return I.name.toLowerCase().includes(P)||B.length>0?{...I,children:B}:null}return I.name.toLowerCase().includes(P)||I.method&&I.method.toLowerCase().includes(P)||I.url&&I.url.toLowerCase().includes(P)?I:null}).filter(I=>!!I)}const E=t.map(O=>{if(!h)return O;const P=h.toLowerCase(),I=O.name.toLowerCase().includes(P),B=L(O.children||[],P);return I||B.length>0?{...O,children:B}:null}).filter(Boolean);Vi.useEffect(()=>{if(h){const O=new Set(f);t.forEach(P=>{var B;((B=P.children)==null?void 0:B.some(Y=>{var U,q;const H=h.toLowerCase();return Y.name.toLowerCase().includes(H)||((U=Y.method)==null?void 0:U.toLowerCase().includes(H))||((q=Y.url)==null?void 0:q.toLowerCase().includes(H))}))&&O.add(P.id)}),p(O)}},[h,t]),j.useEffect(()=>{const O=P=>{m.isOpen&&y.current&&!y.current.contains(P.target)&&g({isOpen:!1,x:0,y:0,itemId:"",itemName:"",itemType:""})};if(m.isOpen)return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[m.isOpen]),Vi.useEffect(()=>{const O=localStorage.getItem("reqnest-search-query");O&&d(O)},[]),Vi.useEffect(()=>{localStorage.setItem("reqnest-search-query",h)},[h]);const N=(O,P,I)=>{o(O,I)},_=(O,P,I)=>{if(I!=="request"){O.preventDefault();return}const B=w(P);if(B&&B.method==="FOLDER"){O.preventDefault();return}O.stopPropagation(),C({id:P,type:I}),O.dataTransfer.effectAllowed="move",O.dataTransfer.setData("text/plain",JSON.stringify({id:P,type:I}))},R=(O,P)=>{O.preventDefault(),O.stopPropagation(),S(P);const I=w(P);I&&(I.type==="collection"||I.type==="folder")?O.dataTransfer.dropEffect="move":O.dataTransfer.dropEffect="none"},M=O=>{O.preventDefault(),S(null)},T=(O,P,I)=>{O.preventDefault(),O.stopPropagation(),S(null),b&&b.id!==P?b.type==="request"&&(I==="collection"||I==="folder")&&u(b.id,P,I):b&&b.id,C(null)},A=()=>{C(null),S(null)},$=(O,P=0)=>{const I=c===O.id,B=O.children&&O.children.length>0,Y=f.has(O.id),H=P*16+8,U=(b==null?void 0:b.id)===O.id,q=x===O.id,K=b&&b.type==="request"&&(O.type==="collection"||O.type==="folder");return v.jsxs("div",{className:tt("group",U&&"opacity-50",q&&K&&"bg-blue-100 dark:bg-blue-900/20 border-2 border-blue-300 dark:border-blue-600",q&&!K&&"bg-gray-100 dark:bg-gray-900/20"),draggable:O.type==="request",onDragStart:O.type==="request"?Q=>_(Q,O.id,O.type):void 0,onDragOver:Q=>R(Q,O.id),onDragLeave:M,onDrop:Q=>{T(Q,O.id,O.type)},onDragEnd:A,children:[v.jsxs("div",{className:tt("flex items-center justify-between p-2 rounded-md transition-colors",O.type==="request"?"cursor-grab active:cursor-grabbing":"cursor-pointer","hover:bg-accent/50",I&&"bg-accent text-accent-foreground",P>0&&"ml-4",q&&K&&"bg-blue-100 dark:bg-blue-900/20 border-2 border-blue-300 dark:border-blue-600"),style:{paddingLeft:`${H}px`},onClick:()=>{O.type==="collection"?e(O):O.type==="request"&&n(O)},children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(O.type==="collection"||O.type==="folder")&&v.jsx("button",{onClick:Q=>{Q.stopPropagation(),k(O.id)},className:"p-1 hover:bg-accent/50 rounded",children:Y?v.jsx(iw,{className:"h-3 w-3"}):v.jsx(K3,{className:"h-3 w-3"})}),v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[O.type==="request"&&v.jsx(FM,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"}),HK(O),v.jsx("span",{className:"text-sm truncate",children:O.name}),O.type==="request"&&O.method&&v.jsx(Mr,{variant:"outline",className:tt("text-xs",zK[O.method]||"bg-gray-100 text-gray-800"),children:O.method})]})]}),v.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:Q=>{Q.stopPropagation(),g({isOpen:!0,x:Q.clientX,y:Q.clientY,itemId:O.id,itemName:O.name,itemType:O.type})},children:v.jsx(Q3,{className:"h-3 w-3"})})})]}),B&&Y&&v.jsx("div",{className:"mt-1",children:O.children.map(Q=>$(Q,P+1))})]},O.id)},D=(O,P,I)=>{switch(O){case"add-folder":i(P);break;case"add-request":if(I==="folder"){const B=t.find(Y=>{var H;return(H=Y.children)==null?void 0:H.some(U=>U.id===P)});B&&s(B.id,P)}else s(P);break;case"duplicate":l(P,I);break;case"move":u(P,"","move");break;case"rename":a(P,m.itemName);break;case"delete":N(P,m.itemName,I);break;default:console.warn("Unknown context menu action:",O)}g({isOpen:!1,x:0,y:0,itemId:"",itemName:"",itemType:""})};return v.jsxs("div",{className:"flex flex-col h-full",children:[h&&v.jsxs("div",{className:"p-2 bg-blue-100 text-xs text-blue-800 border border-blue-300",children:['🔍 Searching for: "',h,'" - Found ',E.length," collections"]}),v.jsx("div",{className:"p-3 border-b",children:v.jsxs("div",{className:"relative",children:[v.jsx(cF,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),v.jsx(ct,{placeholder:"Search collections...",value:h,onChange:O=>d(O.target.value),className:"pl-9",onFocus:O=>O.target.select()}),h&&v.jsx("button",{onClick:()=>d(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground hover:text-foreground",children:v.jsx(pd,{className:"h-4 w-4"})})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:v.jsx("div",{className:"space-y-1",children:E.map(O=>$(O))})}),m.isOpen&&Ca.createPortal(v.jsxs("div",{ref:y,className:"fixed z-[9999] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 min-w-[180px]",style:{left:Math.min(m.x,window.innerWidth-180),top:Math.min(m.y,window.innerHeight-200)},onClick:O=>{O.stopPropagation()},children:[m.itemType==="collection"&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("add-folder",m.itemId,m.itemType)},children:[v.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Add Folder"]}),v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("add-request",m.itemId,m.itemType)},children:[v.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Add Request"]}),v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("duplicate",m.itemId,m.itemType)},children:[v.jsx(pi,{className:"mr-2 h-4 w-4"}),"Duplicate Collection"]})]}),m.itemType==="folder"&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("add-request",m.itemId,m.itemType)},children:[v.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Add Request"]}),v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("duplicate",m.itemId,m.itemType)},children:[v.jsx(pi,{className:"mr-2 h-4 w-4"}),"Duplicate Folder"]})]}),m.itemType==="request"&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("duplicate",m.itemId,m.itemType)},children:[v.jsx(pi,{className:"mr-2 h-4 w-4"}),"Duplicate Request"]}),v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("move",m.itemId,m.itemType)},children:[v.jsx(oF,{className:"mr-2 h-4 w-4"}),"Move Request"]})]}),v.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",onClick:O=>{O.stopPropagation(),D("rename",m.itemId,m.itemType)},children:[v.jsx(BM,{className:"mr-2 h-4 w-4"}),"Rename"]}),v.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center text-red-600 dark:text-red-400",onClick:O=>{O.stopPropagation(),D("delete",m.itemId,m.itemType)},children:[v.jsx(ci,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),document.body)]})}function UK({isOpen:t,onClose:e,onConfirm:n,title:r,description:i,itemName:s,isBulk:o=!1,itemCount:a=1}){const l=()=>{n(),e()},u=()=>o&&a>1?`You are about to delete ${a} items. ${i}`:s?`You are about to delete "${s}". ${i}`:i;return v.jsx(qn,{open:t,onOpenChange:e,children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/20",children:v.jsx(dF,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),v.jsx(Bn,{className:"text-lg font-semibold",children:r})]}),v.jsx(bg,{className:"text-sm text-muted-foreground",children:u()})]}),v.jsxs(pl,{className:"gap-2 sm:gap-0",children:[v.jsx(pe,{variant:"outline",onClick:e,children:"Cancel"}),v.jsxs(pe,{variant:"destructive",onClick:l,children:[v.jsx(ci,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})}const FA={GET:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",POST:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",PUT:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",DELETE:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",PATCH:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"};function VK({isOpen:t,onClose:e,history:n,onReRunRequest:r,onDeleteHistoryItem:i,onDeleteMultipleHistoryItems:s,onClearAllHistory:o}){const[a,l]=j.useState(""),[u,c]=j.useState(new Set),[h,d]=j.useState({isOpen:!1,type:"single"}),f=n.filter(w=>w.url.toLowerCase().includes(a.toLowerCase())||w.method.toLowerCase().includes(a.toLowerCase())),p=w=>{const k=new Set(u);k.has(w)?k.delete(w):k.add(w),c(k)},m=()=>{u.size===f.length?c(new Set):c(new Set(f.map(w=>w.id)))},g=w=>{d({isOpen:!0,type:"single",itemId:w.id,itemName:`${w.method} ${w.url}`})},y=()=>{u.size!==0&&d({isOpen:!0,type:"multiple"})},b=()=>{d({isOpen:!0,type:"all"})},C=()=>{switch(h.type){case"single":h.itemId&&i(h.itemId);break;case"multiple":s(Array.from(u)),c(new Set);break;case"all":o(),c(new Set);break}d({isOpen:!1,type:"single"})},x=w=>new Date(w).toLocaleString(),S=w=>w?w>=200&&w<300?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":w>=400&&w<500?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":w>=500?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";return v.jsxs(v.Fragment,{children:[v.jsx(qn,{open:t,onOpenChange:e,children:v.jsxs(In,{className:"max-w-4xl max-h-[80vh]",children:[v.jsxs(Fn,{children:[v.jsxs(Bn,{className:"flex items-center gap-2",children:[v.jsx(Bp,{className:"h-5 w-5"}),"Request History"]}),v.jsx(bg,{children:"View and manage your request history"})]}),v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(ct,{placeholder:"Search history...",value:a,onChange:w=>l(w.target.value),className:"pl-9"}),v.jsx(Bp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:m,className:"flex items-center gap-2",children:[u.size===f.length?v.jsx(uF,{className:"h-4 w-4"}):v.jsx(HM,{className:"h-4 w-4"}),"Select All"]}),u.size>0&&v.jsxs(pe,{variant:"destructive",size:"sm",onClick:y,className:"flex items-center gap-2",children:[v.jsx(ci,{className:"h-4 w-4"}),"Delete Selected (",u.size,")"]}),n.length>0&&v.jsxs(pe,{variant:"destructive",size:"sm",onClick:b,className:"flex items-center gap-2",children:[v.jsx(ci,{className:"h-4 w-4"}),"Clear All"]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto max-h-96",children:f.length===0?v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a?"No history items match your search.":"No request history yet."}):v.jsx("div",{className:"space-y-2",children:f.map(w=>v.jsxs("div",{className:tt("flex items-center gap-3 p-3 rounded-lg border transition-colors","hover:bg-accent hover:text-accent-foreground",u.has(w.id)&&"bg-accent text-accent-foreground"),children:[v.jsx("input",{type:"checkbox",checked:u.has(w.id),onChange:()=>p(w.id),className:"rounded"}),v.jsx(Mr,{variant:"secondary",className:tt("text-xs",FA[w.method]||FA.GET),children:w.method}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"truncate font-medium",children:w.url}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:[x(w.timestamp),w.duration&&` • ${w.duration}ms`]})]}),w.status&&v.jsx(Mr,{variant:"secondary",className:tt("text-xs",S(w.status)),children:w.status}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>r(w),className:"h-8 w-8 p-0",children:v.jsx(lF,{className:"h-4 w-4"})}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>g(w),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:v.jsx(ci,{className:"h-4 w-4"})})]})]},w.id))})}),v.jsx(pl,{children:v.jsx(pe,{variant:"outline",onClick:e,children:"Close"})})]})}),v.jsx(UK,{isOpen:h.isOpen,onClose:()=>d({isOpen:!1,type:"single"}),onConfirm:C,title:h.type==="single"?"Delete History Item":h.type==="multiple"?"Delete Selected Items":"Clear All History",description:h.type==="single"||h.type==="multiple"?"This action cannot be undone.":"This will permanently delete all history items. This action cannot be undone.",itemName:h.itemName,isBulk:h.type==="multiple",itemCount:h.type==="multiple"?u.size:void 0})]})}function KK({isOpen:t,onClose:e,type:n,initialText:r,onApply:i}){const[s,o]=j.useState(r),a=()=>{const h=s.split(`
`).filter(d=>d.trim());if(n==="headers"||n==="params"){let d=[];h.forEach(f=>{if(n==="headers"){const p=f.indexOf(":");if(p>0){const m=f.substring(0,p).trim(),g=f.substring(p+1).trim();d=[...d,{key:m,value:g}]}}else if(n==="params"){const p=f.indexOf("=");if(p>0){const m=f.substring(0,p).trim(),g=f.substring(p+1).trim();d=[...d,{key:m,value:g}]}}}),i(d)}else if(n==="tests"){let d=[];h.forEach((f,p)=>{const m=f.split(" ");if(m.length>=3){const g=m[0],y=m[1],b=m.slice(2).join(" ");d=[...d,{id:Date.now().toString()+p,type:g,operator:y,value:b,enabled:!0}]}}),i(d)}e()},l=()=>{switch(n){case"headers":return`Content-Type: application/json
Authorization: Bearer your-token
Accept: application/json`;case"params":return`page=1
limit=10
sort=created_at`;case"tests":return`status equals 200
body contains "success"
response-time less-than 1000`;default:return""}},u=()=>{switch(n){case"headers":return"Bulk Edit Headers";case"params":return"Bulk Edit Parameters";case"tests":return"Bulk Edit Tests";default:return"Bulk Edit"}},c=()=>{switch(n){case"headers":return'Enter headers in the format "Key: Value" (one per line)';case"params":return'Enter parameters in the format "key=value" (one per line)';case"tests":return'Enter tests in the format "type operator value" (one per line)';default:return""}};return v.jsx(qn,{open:t,onOpenChange:e,children:v.jsxs(In,{className:"sm:max-w-2xl",children:[v.jsx(Fn,{children:v.jsx(Bn,{children:u()})}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm text-muted-foreground",children:c()}),v.jsx(rr,{value:s,onChange:h=>o(h.target.value),placeholder:l(),rows:12,className:"font-mono text-sm"})]}),v.jsxs("div",{className:"flex gap-2 justify-end",children:[v.jsx(pe,{variant:"outline",onClick:e,children:"Cancel"}),v.jsx(pe,{onClick:a,children:"Apply Changes"})]})]})]})})}function GK(){const{toast:t}=ss(),[e,n]=j.useState({method:"GET",url:"",headers:[{key:"Content-Type",value:"application/json"}],body:"",auth:{type:"none"},params:[],tests:[]}),[r,i]=j.useState(null),[s,o]=j.useState(!1),[a,l]=j.useState([]),[u,c]=j.useState(void 0),[h,d]=j.useState(!1),[f,p]=j.useState("both"),[m,g]=j.useState(!1),[y,b]=j.useState(""),[C,x]=j.useState(""),[S,w]=j.useState(!1),[k,L]=j.useState([]),[E,N]=j.useState(null),[_,R]=j.useState([]),[M,T]=j.useState(!1),[A,$]=j.useState(!1),[D,O]=j.useState(""),[P,I]=j.useState({}),[B,Y]=j.useState("headers"),[H,U]=j.useState(!1),[q,K]=j.useState("json"),[Q,ee]=j.useState({isOpen:!1,type:"headers",initialText:""}),[re,ae]=j.useState(!1),[be,Ae]=j.useState(null),[Le,He]=j.useState(void 0),[Ue,yt]=j.useState(""),[Gt,bt]=j.useState(null),[Mn,cr]=j.useState(null),[Qt,bn]=j.useState(!1),[cn,_r]=j.useState(""),[ye,he]=j.useState(!1),[le,we]=j.useState(!1),[Me,De]=j.useState(!1),[ft,pt]=j.useState(!1),[Pt,Jt]=j.useState(!1),[Kt,sn]=j.useState(!1),[Mt,ne]=j.useState(!1),[ke,Ee]=j.useState([]),[$e,Ne]=j.useState(!1),[Oe,qe]=j.useState(!1),[et,It]=j.useState(!1),[Et,xt]=j.useState(null),[mt,ot]=j.useState({isOpen:!1,type:"collection",itemId:"",itemName:""}),[nt,at]=j.useState({isOpen:!1,itemId:"",currentName:"",itemType:""}),[Ft,$t]=j.useState({isOpen:!1,itemId:"",itemName:"",itemType:""}),[Ve,We]=j.useState(null),[Ke,ut]=j.useState(null),[G,J]=j.useState(null),[W,V]=j.useState(null),[X,ce]=j.useState(!1),[ve,de]=j.useState(!1),[ie,Se]=j.useState(""),[Fe,gt]=j.useState("");j.useEffect(()=>{const z=st.getCollections().map(ze=>({...ze,requests:ze.requests.map(wt=>({...wt,parentId:wt.parentId||void 0}))}));l(z),Ot(),Ut();const te=()=>{we(window.innerWidth<768)};te(),window.addEventListener("resize",te);const oe=new URLSearchParams(window.location.search),fe=oe.get("import"),me=oe.get("bulk_import");if(fe)try{const ze=JSON.parse(decodeURIComponent(fe)),wt=ur(ze);n(wt),Ae(wt),ae(!0),window.history.replaceState({},"",window.location.pathname),t({title:"Request Imported",description:"Request data has been imported from SpecCraft"})}catch(ze){console.error("Error parsing imported request:",ze),t({title:"Import Error",description:"Failed to import request data",variant:"destructive"})}const _e=localStorage.getItem("reqnest_bulk_import_collection");if(_e)try{const ze=JSON.parse(_e),wt=ze.requests.map((Ct,gn)=>ur(Ct));We(wt),qe(!0),localStorage.removeItem("reqnest_bulk_import_collection"),t({title:"Bulk Import Ready",description:`Ready to save ${wt.length} requests from "${ze.name}"`})}catch(ze){console.error("Error parsing bulk import collection:",ze),t({title:"Bulk Import Error",description:"Failed to parse bulk import data",variant:"destructive"})}me&&window.history.replaceState({},"",window.location.pathname);const xe=localStorage.getItem("reqnest_import_request");if(xe)try{const ze=JSON.parse(xe),wt=ur(ze);n(wt),Ae(wt),ae(!0),localStorage.removeItem("reqnest_import_request"),t({title:"Request Imported",description:"Request data has been imported from SpecCraft"})}catch(ze){console.error("Error parsing imported request:",ze),t({title:"Import Error",description:"Failed to import request data",variant:"destructive"})}let lt=null;return typeof window<"u"&&"BroadcastChannel"in window&&(lt=new BroadcastChannel("reqnest-import"),lt.onmessage=ze=>{if(ze.data&&ze.data.type==="import-request"){const wt=ze.data.data,Ct=ur(wt);n(Ct),Ae(Ct),ae(!0),t({title:"Request Imported",description:"Request data has been imported from SpecCraft"})}}),()=>{lt&&lt.close()}},[]);const Ot=()=>{const F=st.get("reqnest-environments")||[];L(F);const z=F.find(te=>te.isActive);z&&N(z.id)},Ut=()=>{const F=st.get("reqnest-history")||[];R(F.slice(0,50))},vt=(F,z)=>{const oe=[{id:Date.now().toString(),request:F,response:z,timestamp:new Date},..._].slice(0,50);R(oe),st.set("reqnest-history",oe)},jt=()=>{n(F=>({...F,headers:[...F.headers,{key:"",value:""}]}))},on=(F,z,te)=>{n(oe=>({...oe,headers:oe.headers.map((fe,me)=>me===F?{...fe,[z]:te}:fe)}))},ht=F=>{n(z=>({...z,headers:z.headers.filter((te,oe)=>oe!==F)}))},Xt=()=>{n(F=>({...F,params:[...F.params,{key:"",value:""}]}))},Kn=(F,z,te)=>{n(oe=>({...oe,params:oe.params.map((fe,me)=>me===F?{...fe,[z]:te}:fe)}))},Qr=F=>{n(z=>({...z,params:z.params.filter((te,oe)=>oe!==F)}))},Vs=F=>{let z="";F==="headers"?z=e.headers.map(te=>`${te.key}: ${te.value}`).join(`
`):F==="params"?z=e.params.map(te=>`${te.key}=${te.value}`).join(`
`):F==="tests"&&(z=(e.tests||[]).map(te=>`${te.type} ${te.operator} ${te.value}`).join(`
`)),ee({isOpen:!0,type:F,initialText:z})},Jr=F=>{if(Q.type==="headers"||Q.type==="params"){const z=F;Q.type==="headers"?n(te=>({...te,headers:z})):n(te=>({...te,params:z}))}else if(Q.type==="tests"){const z=F;n(te=>({...te,tests:z}))}t({title:"Bulk edit applied",description:`${Q.type} updated successfully`})},xo=()=>{let F=a.find(z=>z.name==="Imported Requests");return F||(F={id:`default_${Date.now()}`,name:"Imported Requests",requests:[],createdAt:new Date,updatedAt:new Date,description:"Default collection for imported requests"},st.saveCollection(F),l(z=>[...z,F])),F},ls=()=>{if(!y.trim())return;const F={id:Date.now().toString(),name:y,requests:[],createdAt:new Date,updatedAt:new Date};if(st.saveCollection(F),l(z=>[...z,F]),be){const z={...be,id:Date.now().toString(),name:be.url||"Untitled Request"};F.requests=[...F.requests||[],z],F.updatedAt=new Date,st.saveCollection(F),Ae(null),ae(!1),t({title:"Request saved",description:`Request saved to new collection "${y}"`})}else t({title:"Collection created",description:`Collection "${y}" created successfully`});b("")},un=(F,z)=>{var te,oe;if(Ve){const fe=a.find(me=>me.id===F);if(fe){const me=Ve.map(lt=>({...lt,id:Date.now().toString()+Math.random().toString(36).substr(2,5),parentId:z}));fe.requests=[...fe.requests||[],...me],fe.updatedAt=new Date,st.saveCollection(fe),l(lt=>lt.map(ze=>ze.id===F?fe:ze)),ae(!1),We(null),ut(null),J(null),c(void 0),He(void 0),yt(""),bt(null);const _e=z?(te=fe.requests.find(lt=>lt.id===z))==null?void 0:te.name:"",xe=z?`${Ve.length} requests saved to "${fe.name}" in folder "${_e}"`:`${Ve.length} requests saved to "${fe.name}"`;t({title:"Requests saved",description:xe})}}else{const fe=Date.now().toString(),me={...be||e,id:fe,name:(be||e).url||"Untitled Request",parentId:z},_e=a.find(xe=>xe.id===F);if(_e){_e.requests=[..._e.requests||[],me],_e.updatedAt=new Date,st.saveCollection(_e),l(ze=>ze.map(wt=>wt.id===F?_e:wt)),n(ur(me)),c(F),He(z),ae(!1),Ae(null),c(void 0),He(void 0),yt(""),bt(null);const xe=z?(oe=_e.requests.find(ze=>ze.id===z))==null?void 0:oe.name:"",lt=z?`Request saved to "${_e.name}" in folder "${xe}"`:`Request saved to "${_e.name}"`;t({title:"Request saved",description:lt})}}},cs=()=>{const F=xo();un(F.id,Le)},Xr=F=>{if(!Ue.trim())return;const z=a.find(te=>te.id===F);if(z){const te={id:`folder_${Date.now()}`,name:Ue,method:"FOLDER",url:"",headers:[],body:"",auth:{type:"none"},params:[],tests:[]};if(z.requests=[...z.requests||[],te],z.updatedAt=new Date,st.saveCollection(z),l(oe=>oe.map(fe=>fe.id===F?z:fe)),Ve){const oe=Ve.map(fe=>({...fe,id:Date.now().toString()+Math.random().toString(36).substr(2,5),parentId:te.id}));z.requests=[...z.requests||[],...oe],z.updatedAt=new Date,st.saveCollection(z),l(fe=>fe.map(me=>me.id===F?z:me)),ae(!1),We(null),ut(null),J(null),He(void 0),yt(""),bt(null),t({title:"Requests saved",description:`${Ve.length} requests saved to "${z.name}" in new folder "${Ue}"`})}else if(be){const oe={...be,id:Date.now().toString(),name:be.url||"Untitled Request",parentId:te.id};z.requests=[...z.requests||[],oe],z.updatedAt=new Date,st.saveCollection(z),l(fe=>fe.map(me=>me.id===F?z:me)),n(ur(oe)),ae(!1),Ae(null),He(void 0),yt(""),bt(null),t({title:"Request saved",description:`Request saved to "${z.name}" in new folder "${Ue}"`})}}},Zr=(F,z)=>{const te=a.find(xe=>xe.id===F);if(!te)return;let oe=!1,fe=e.id||Date.now().toString();const me={...e,id:fe,name:z||e.url||"Untitled Request"},_e=(te.requests||[]).map(xe=>xe.id===fe?(oe=!0,{...me}):xe);oe||_e.push(me),te.requests=_e,te.updatedAt=new Date,st.saveCollection(te),l(xe=>xe.map(lt=>lt.id===F?te:lt)),t({title:oe?"Request updated":"Request saved",description:`Request ${oe?"updated":"saved"} to "${te.name}"`})},wo=(F,z,te)=>{const oe=a.find(fe=>fe.id===F);if(oe){const fe={...oe,requests:oe.requests.map(me=>me.id===z?{...me,name:te}:me),updatedAt:new Date};st.saveCollection(fe),l(me=>me.map(_e=>_e.id===F?fe:_e)),t({title:"Request updated",description:"Request name updated successfully"})}},ur=F=>{const z=F.headers||[],te=Array.isArray(z)?z.map(xe=>({key:xe.key||"",value:xe.value||""})):[],oe=F.params||[],fe=Array.isArray(oe)?oe.map(xe=>({key:xe.key||"",value:xe.value||""})):[],me=F.tests||[],_e=Array.isArray(me)?me.map(xe=>({id:xe.id||Date.now().toString(),type:xe.type||"status",field:xe.field||"",operator:xe.operator||"equals",value:xe.value||"",enabled:xe.enabled!==void 0?xe.enabled:!0})):[];return{id:F.id||Date.now().toString(),name:F.name||"Untitled Request",method:F.method||"GET",url:F.url||"",headers:te,body:F.body||"",auth:F.auth||{type:"none"},params:fe,preRequestScript:F.preRequestScript||"",postRequestScript:F.postRequestScript||"",tests:_e,description:F.description||"",parentId:F.parentId}},Ta=(F,z)=>{const te=a.find(fe=>fe.id===F),oe=te==null?void 0:te.requests.find(fe=>fe.id===z);if(oe){const fe=ur(oe);n(fe),i(null),t({title:"Request loaded",description:"Request loaded from collection"})}},Ma=F=>{const z=a.find(te=>te.id===F);z&&ot({isOpen:!0,type:"collection",itemId:F,itemName:z.name})},Na=()=>{const F=a.find(z=>z.id===mt.itemId);F&&(st.deleteCollection(mt.itemId),l(z=>z.filter(te=>te.id!==mt.itemId)),u===mt.itemId&&c(void 0),ot({isOpen:!1,type:"collection",itemId:"",itemName:""}),t({title:"Collection deleted",description:`"${F.name}" has been deleted`}))},So=(F,z)=>{if(console.log("Duplicating item:",F,"type:",z),z==="collection"){const te=a.find(oe=>oe.id===F);if(te){const oe={...te,id:`collection_${Date.now()}`,name:`${te.name} (Copy)`,createdAt:new Date,updatedAt:new Date};st.saveCollection(oe),l(fe=>[...fe,oe]),t({title:"Collection duplicated",description:`"${oe.name}" has been created`})}}else if(z==="request"||z==="folder"){const te=a.find(oe=>oe.requests.some(fe=>fe.id===F));if(te){const oe=te.requests.find(fe=>fe.id===F);if(oe){const fe={...oe,id:`${z==="folder"?"folder":"request"}_${Date.now()}`,name:oe.name?`${oe.name} (Copy)`:`${oe.url||"Untitled"} (Copy)`,parentId:oe.parentId},me={...te,requests:[...te.requests,fe],updatedAt:new Date};st.saveCollection(me),l(xe=>xe.map(lt=>lt.id===te.id?me:lt)),t({title:`${z==="folder"?"Folder":"Request"} duplicated`,description:`"${fe.name}" has been created`})}}}},us=(F,z)=>{console.log("Deleting request/folder:",z,"from collection:",F);const te=a.find(oe=>oe.id===F);if(te){const oe=te.requests.find(xe=>xe.id===z),fe=(oe==null?void 0:oe.method)==="FOLDER",me={...te,requests:te.requests.filter(xe=>xe.id!==z),updatedAt:new Date};st.saveCollection(me),l(xe=>xe.map(lt=>lt.id===F?me:lt));const _e=fe?"Folder":"Request";t({title:`${_e} deleted`,description:`${_e} removed from collection`})}},Nl=F=>{let z="GET",te="",oe=[],fe="",me=[];const _e=F.replace(/\\\s*\n\s*/g," ").replace(/\n/g," ").replace(/\s+/g," ").trim();console.log("Normalized cURL:",_e);const xe=Ad(_e);console.log("Split parts:",xe);const lt=xe.findIndex(Ct=>Ct==="-X"||Ct==="--request");lt!==-1&&xe[lt+1]&&(z=xe[lt+1].toUpperCase());let ze=1;for(;ze<xe.length&&(xe[ze].startsWith("-")||xe[ze]==="curl");)ze++;ze<xe.length&&(xe[ze]==="GET"||xe[ze]==="POST"||xe[ze]==="PUT"||xe[ze]==="DELETE"||xe[ze]==="PATCH"||xe[ze]==="HEAD"||xe[ze]==="OPTIONS")&&ze++,ze<xe.length&&(te=xe[ze],te=te.replace(/^['"`]|['"`]$/g,""));for(let Ct=0;Ct<xe.length;Ct++){const gn=xe[Ct];if((gn==="-H"||gn==="--header")&&Ct+1<xe.length){const Zn=xe[Ct+1],qt=Zn.indexOf(":");if(qt>0){const Gn=Zn.substring(0,qt).trim(),$d=Zn.substring(qt+1).trim();oe=[...oe,{key:Gn,value:$d}]}}}const wt=["-d","--data","--data-raw","--data-binary","--data-urlencode"];for(let Ct=0;Ct<xe.length;Ct++){const gn=xe[Ct];if(wt.includes(gn)&&Ct+1<xe.length){fe=xe[Ct+1],fe=fe.replace(/^['"`]|['"`]$/g,"");break}}if(fe&&fe.trim().startsWith("{")&&fe.trim().endsWith("}")){const Ct=oe.find(gn=>gn.key.toLowerCase()==="content-type");Ct&&Ct.value.includes("multipart/form-data")&&(Ct.value="application/json")}if(te.includes("?")){const[Ct,gn]=te.split("?");te=Ct,new URLSearchParams(gn).forEach((qt,Gn)=>{me=[...me,{key:Gn,value:qt}]})}return console.log("Parsed cURL - URL:",te,"Method:",z,"Headers:",oe,"Body:",fe,"Params:",me),{method:z,url:te,headers:oe,body:fe,params:me}},Ad=F=>{let z=[],te="",oe=!1,fe="",me=!1;for(let _e=0;_e<F.length;_e++){const xe=F[_e];if(me){te+=xe,me=!1;continue}if(xe==="\\"){me=!0,te+=xe;continue}if((xe==='"'||xe==="'")&&!oe){oe=!0,fe=xe;continue}if(xe===fe&&oe){oe=!1,fe="";continue}if(xe===" "&&!oe){te.trim()&&(z=[...z,te.trim()]),te="";continue}te+=xe}return te.trim()&&(z=[...z,te.trim()]),z},Rl=()=>{if(C.trim())try{const F=Nl(C),z=ur({...F,headers:F.headers||[],body:F.body||"",auth:{type:"none"},params:F.params||[]});n(z),x(""),w(!1),Ae(z),ae(!0),t({title:"cURL imported",description:"Request imported from cURL command"})}catch(F){console.error("cURL import error:",F),t({title:"Import failed",description:"Failed to parse cURL command",variant:"destructive"})}},Co=()=>{let F=`curl -X ${e.method}`;F+=` "${e.url}"`;let z=[...e.headers];if(e.auth.type==="bearer"&&e.auth.token)z=[...z,{key:"Authorization",value:`Bearer ${e.auth.token}`}];else if(e.auth.type==="basic"&&e.auth.username&&e.auth.password){const te=btoa(`${e.auth.username}:${e.auth.password}`);z=[...z,{key:"Authorization",value:`Basic ${te}`}]}else e.auth.type==="api-key"&&e.auth.keyName&&e.auth.keyValue&&e.auth.keyLocation==="header"&&(z=[...z,{key:e.auth.keyName,value:e.auth.keyValue}]);return z.forEach(te=>{te.key&&te.value&&(F+=` \\
  -H "${te.key}: ${te.value}"`)}),e.body&&e.method!=="GET"&&(F+=` \\
  -d '${e.body}'`),F},Wg=()=>{const F=Co();navigator.clipboard.writeText(F),t({title:"cURL copied",description:"cURL command copied to clipboard"})},Cr=F=>{if(!E)return F;const z=k.find(te=>te.id===E);return z?F.replace(/\{\{(\w+)\}\}/g,(te,oe)=>z.variables[oe]||te):F},hs=()=>{if(!D.trim())return;const F={id:Date.now().toString(),name:D,variables:{...P},isActive:k.length===0},z=[...k,F];L(z),st.set("reqnest-environments",z),k.length===0&&N(F.id),O(""),I({}),t({title:"Environment created",description:`Environment "${D}" created successfully`})},Ug=F=>{const z=k.map(te=>({...te,isActive:te.id===F}));L(z),N(F),st.set("reqnest-environments",z)},Vg=()=>{I(F=>({...F,[`var${Object.keys(F).length+1}`]:""}))},Kg=(F,z)=>{I(te=>({...te,[F]:z}))},Gg=F=>{I(z=>{const te={...z};return delete te[F],te})},qg=F=>(e.tests||[]).filter(z=>z.enabled).map(z=>{let te=!1,oe="";try{switch(z.type){case"status":const fe=F.status.toString();te=bi(fe,z.operator,z.value),oe=te?`Status code ${fe} ${z.operator} ${z.value}`:`Expected status ${z.operator} ${z.value}, got ${fe}`;break;case"header":const me=F.headers[z.field||""]||"";te=bi(me,z.operator,z.value),oe=te?`Header ${z.field} ${z.operator} ${z.value}`:`Header ${z.field} assertion failed`;break;case"body":te=bi(F.data,z.operator,z.value),oe=te?`Body ${z.operator} ${z.value}`:"Body assertion failed";break;case"response-time":const _e=F.time.toString();te=bi(_e,z.operator,z.value),oe=te?`Response time ${_e}ms ${z.operator} ${z.value}ms`:"Response time assertion failed";break}}catch(fe){te=!1,oe=`Test error: ${fe instanceof Error?fe.message:"Unknown error"}`}return{assertion:z,passed:te,message:oe}}),bi=(F,z,te)=>{switch(z){case"equals":return F===te;case"contains":return F.includes(te);case"not-equals":return F!==te;case"greater-than":return parseFloat(F)>parseFloat(te);case"less-than":return parseFloat(F)<parseFloat(te);case"exists":return F!=null&&F!=="";default:return!1}},Ed=F=>{const z=k.filter(te=>te.id!==F);L(z),st.set("reqnest-environments",z),E===F&&N(z.length>0?z[0].id:null),t({title:"Environment deleted",description:"Environment has been deleted"})},Yg=async()=>{if(!e.preRequestScript)return{};try{const F=k.find(me=>me.id===E),te={environment:(F==null?void 0:F.variables)||{},request:{url:e.url,method:e.method,headers:e.headers,body:e.body},console:{log:me=>console.log("[Pre-request]",me)}};return new Function("context",e.preRequestScript)(te)||{}}catch(F){return console.error("Pre-request script error:",F),t({title:"Pre-request script error",description:F instanceof Error?F.message:"Script execution failed",variant:"destructive"}),{}}},Ll=async()=>{if(!e.url){t({title:"Error",description:"Please enter a URL",variant:"destructive"});return}o(!0);const F=new AbortController;V(F);const z=Date.now();try{await Yg();const te={};if(e.headers.forEach(qt=>{qt.key&&qt.value&&(te[Cr(qt.key)]=Cr(qt.value))}),e.auth.type==="bearer"&&e.auth.token)te.Authorization=`Bearer ${Cr(e.auth.token)}`;else if(e.auth.type==="basic"&&e.auth.username&&e.auth.password){const qt=btoa(`${Cr(e.auth.username)}:${Cr(e.auth.password)}`);te.Authorization=`Basic ${qt}`}else e.auth.type==="api-key"&&e.auth.keyName&&e.auth.keyValue&&e.auth.keyLocation==="header"&&(te[Cr(e.auth.keyName)]=Cr(e.auth.keyValue));let oe=Cr(e.url);if(e.params.length>0){const qt=new URL(oe);e.params.forEach(Gn=>{Gn.key&&Gn.value&&qt.searchParams.append(Cr(Gn.key),Cr(Gn.value))}),e.auth.type==="api-key"&&e.auth.keyName&&e.auth.keyValue&&e.auth.keyLocation==="query"&&qt.searchParams.append(Cr(e.auth.keyName),Cr(e.auth.keyValue)),oe=qt.toString()}const fe={method:e.method,headers:te,signal:F.signal};e.method!=="GET"&&e.body&&(fe.body=Cr(e.body));const me=await fetch(oe,fe),_e=await me.text(),xe=Date.now()-z,lt={};me.headers.forEach((qt,Gn)=>{lt[Gn]=qt});const ze=new Blob([_e]).size,wt=qg({status:me.status,statusText:me.statusText,headers:lt,data:_e,time:xe,size:ze}),Ct={status:me.status,statusText:me.statusText,headers:lt,data:_e,time:xe,size:ze,testResults:wt};i(Ct),vt(e,Ct);const gn=wt.filter(qt=>qt.passed).length,Zn=wt.length;t({title:"Request sent successfully",description:Zn>0?`Response received in ${xe}ms • ${gn}/${Zn} tests passed`:`Response received in ${xe}ms`})}catch(te){const oe=Date.now()-z,fe={status:0,statusText:"Request Failed",headers:{},data:te instanceof Error?te.message:"Unknown error",time:oe,size:0,testResults:[]};i(fe),vt(e,fe),te instanceof Error&&te.name==="AbortError"?t({title:"Request cancelled",description:"The request was cancelled."}):t({title:"Request failed",description:te instanceof Error?te.message:"Unknown error",variant:"destructive"})}finally{o(!1),V(null)}},Qg=()=>{W&&W.abort()},mu=()=>{if(r){const F=new Blob([r.data],{type:"application/json"}),z=URL.createObjectURL(F),te=document.createElement("a");te.href=z,te.download="response.json",te.click(),URL.revokeObjectURL(z)}},Jg=h?"fixed inset-0 z-50 bg-background":"flex-1 overflow-y-auto p-6",Td=F=>{n(ur(F.request)),i(F.response),T(!1)},Md=F=>{const z=_.filter(te=>te.id!==F);R(z),st.set("reqnest-history",z),Ee(te=>te.filter(oe=>oe!==F))},Nd=()=>{const F=_.filter(z=>!ke.includes(z.id));R(F),st.set("reqnest-history",F),Ee([])},Ra=()=>{R([]),st.set("reqnest-history",[]),Ee([])},Rd=F=>{console.log("Adding folder to collection:",F);const z=a.find(te=>te.id===F);if(z){const oe=`New Folder ${z.requests.filter(_e=>_e.method==="FOLDER").length+1}`,fe={id:`folder_${Date.now()}`,name:oe,method:"FOLDER",url:"",headers:[],body:"",auth:{type:"none"},params:[],tests:[]};console.log("Created new folder:",fe);const me={...z,requests:[...z.requests,fe],updatedAt:new Date};st.saveCollection(me),l(_e=>_e.map(xe=>xe.id===F?me:xe)),t({title:"Folder added",description:`Folder "${oe}" added to collection`})}},Xg=(F,z)=>{console.log("Adding request to collection:",F,"folderId:",z);const te=a.find(oe=>oe.id===F);if(te){const oe={...e,id:`request_${Date.now()}`,name:e.name||e.url||"Untitled Request",parentId:z||void 0};console.log("Adding request:",oe);const fe={...te,requests:[...te.requests,oe],updatedAt:new Date};st.saveCollection(fe),l(me=>me.map(_e=>_e.id===F?fe:_e)),z?(console.log("Request added to folder:",z),t({title:"Request added",description:`Request added to folder in "${te.name}"`})):(console.log("Request added to collection directly"),t({title:"Request added",description:`Request added to "${te.name}"`}))}},Ld=(F,z,te)=>{console.log("Moving request:",F,"to target:",z,"type:",te);const oe=a.find(me=>me.requests.some(_e=>_e.id===F));if(!oe){console.error("Source collection not found for request:",F);return}const fe=oe.requests.find(me=>me.id===F);if(!fe){console.error("Request to move not found:",F);return}if(te==="collection")if(z!==oe.id){const me=a.find(ze=>ze.id===z);if(!me){console.error("Target collection not found:",z);return}const _e={...oe,requests:oe.requests.filter(ze=>ze.id!==F),updatedAt:new Date},xe={...fe,parentId:void 0};console.log("Updated request after move:",xe);const lt={...me,requests:[...me.requests,xe],updatedAt:new Date};st.saveCollection(_e),st.saveCollection(lt),console.log("Source collection after move:",_e.requests),console.log("Target collection after move:",lt.requests),l(st.getCollections()),t({title:"Request moved",description:`Request moved to "${me.name}"`})}else{const me={...fe,parentId:void 0},_e={...oe,requests:oe.requests.map(xe=>xe.id===F?me:xe),updatedAt:new Date};st.saveCollection(_e),console.log("Collection after move (folder to collection level):",_e.requests),l(st.getCollections()),t({title:"Request moved",description:`Request moved to collection level in "${oe.name}"`})}else if(te==="folder"){const me=a.find(ze=>ze.requests.some(wt=>wt.id===z&&wt.method==="FOLDER"));if(!me){console.error("Target collection for folder not found:",z);return}const _e={...oe,requests:oe.requests.filter(ze=>ze.id!==F),updatedAt:new Date},xe={...fe,parentId:z};console.log("Updated request after move:",xe);const lt={...me,requests:[...me.requests,xe],updatedAt:new Date};st.saveCollection(_e),st.saveCollection(lt),console.log("Target collection after move:",lt.requests),l(st.getCollections()),t({title:"Request moved",description:`Request moved to folder in "${me.name}"`})}},Zg=()=>{Ae(e),ae(!0)},Z=()=>{var te;let F=!1,z=u;e.parentId;for(const oe of a){const fe=oe.requests.find(me=>me.id===e.id);if(fe){F=!0,z=oe.id,fe.parentId;break}}if(F&&z)Zr(z,e.name);else{const oe=a[0];if(oe){const fe=(te=oe.requests.find(me=>me.method==="FOLDER"))==null?void 0:te.id;n(me=>({...me,parentId:fe})),Zr(oe.id,e.name)}else t({title:"No collection found",description:"Please create a collection first."})}},se=()=>{E&&(L(F=>F.map(z=>z.id===E?{...z,variables:{...z.variables,[ie]:Fe}}:z)),st.set("reqnest-environments",k.map(F=>F.id===E?{...F,variables:{...F.variables,[ie]:Fe}}:F)),de(!1),t({title:"Added to environment",description:`Saved as "${ie}"`}))};return v.jsxs(v.Fragment,{children:[!h&&!Me&&v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-card sticky top-0 z-50",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-semibold",children:"ReqNest - API Request Builder"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Build, test, and organize your API requests"})]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>De(!0),className:"ml-2",title:"Maximize ReqNest",children:[v.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Maximize"]})]})}),Me&&v.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-card sticky top-0 z-50",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-semibold",children:"ReqNest - API Request Builder"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Build, test, and organize your API requests"})]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>De(!1),className:"ml-2",title:"Minimize ReqNest",children:[v.jsx($y,{className:"w-4 h-4 mr-2"}),"Minimize"]})]}),v.jsx("main",{className:Me?"fixed inset-0 z-50 bg-background flex flex-col":Jg,children:v.jsxs("div",{className:"flex h-full",children:[le&&v.jsx("div",{className:"fixed top-4 left-4 z-50 md:hidden",children:v.jsx(pe,{variant:"outline",size:"sm",onClick:()=>he(!ye),className:"bg-background",children:v.jsx(zM,{className:"w-4 h-4"})})}),v.jsx("div",{className:`
              reqnest-sidebar
              ${Mt?"w-80":"w-16"} 
              ${le?"fixed inset-y-0 left-0 z-40 transform transition-transform duration-300 ease-in-out":"relative"} 
              ${le&&!ye?"-translate-x-full":"translate-x-0"}
              border-r bg-white border-[#e5e7eb] overflow-hidden transition-all duration-300
            `,onMouseEnter:()=>ne(!0),onMouseLeave:()=>ne(!1),children:v.jsxs("div",{className:"p-4 h-full flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Mt&&v.jsx("h3",{className:"text-sm font-medium",children:"Controls"}),le&&v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>he(!1),className:"h-8 w-8 p-0",children:v.jsx(pd,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[v.jsxs("div",{className:"space-y-2",children:[Mt&&v.jsx("h4",{className:"text-xs font-medium text-muted-foreground",children:"Quick Actions"}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>w(!0),className:`w-full ${Mt?"justify-start":"justify-center"}`,title:"Import cURL",children:[v.jsx(Xi,{className:"w-4 h-4"}),Mt&&v.jsx("span",{className:"ml-2",children:"Import cURL"})]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>T(!0),className:`w-full ${Mt?"justify-start":"justify-center"}`,title:"History",children:[v.jsx(tF,{className:"w-4 h-4"}),Mt&&v.jsx("span",{className:"ml-2",children:"History"})]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>$(!0),className:`w-full ${Mt?"justify-start":"justify-center"}`,title:"Environments",children:[v.jsx(IM,{className:"w-4 h-4"}),Mt&&v.jsx("span",{className:"ml-2",children:"Environments"})]})]})]}),Mt?v.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-2 text-xs font-bold uppercase tracking-wider text-muted-foreground border-b bg-white",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(DM,{className:"w-4 h-4 text-muted-foreground"}),"Collections"]}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Ne(!0),className:"h-6 w-6 p-0 hover:bg-gray-100",children:v.jsx(Po,{className:"w-3 h-3"})})]}),v.jsx(WK,{collections:a.map(F=>{const z=F.requests.filter(me=>me.method==="FOLDER"),te=F.requests.filter(me=>me.method!=="FOLDER"),oe=z.map(me=>{const _e=te.filter(xe=>xe.parentId===me.id);return console.log("Folder:",me.id,"has",_e.length,"requests"),{id:me.id||`folder_${Date.now()}`,name:me.name||"Untitled Folder",type:"folder",children:_e.map(xe=>({id:xe.id||`req_${Date.now()}`,name:xe.name||xe.url||"Untitled Request",type:"request",method:xe.method,url:xe.url}))}}),fe=te.filter(me=>!me.parentId).map(me=>({id:me.id||`req_${Date.now()}`,name:me.name||me.url||"Untitled Request",type:"request",method:me.method,url:me.url}));return console.log("Collection:",F.name,"has",z.length,"folders and",fe.length,"root requests"),{id:F.id,name:F.name,type:"collection",children:[...oe,...fe]}}),onCollectionSelect:F=>{F.type==="collection"&&c(u===F.id?void 0:F.id)},onRequestSelect:F=>{if(F.type==="request"){const z=a.find(te=>te.requests.some(oe=>oe.id===F.id));z&&F.id&&Ta(z.id,F.id)}},onAddCollection:()=>Ne(!0),onAddFolder:F=>{Rd(F)},onAddRequest:(F,z)=>{Xg(F,z)},onDeleteItem:(F,z)=>{if(z==="collection")Ma(F);else if(z==="request"||z==="folder"){const te=a.find(oe=>oe.requests.some(fe=>fe.id===F));te&&F&&us(te.id,F)}},onRenameItem:(F,z)=>{const te=a.find(oe=>oe.id===F);if(te)at({isOpen:!0,itemId:F,currentName:te.name,itemType:"collection"});else{const oe=a.find(fe=>fe.requests.some(me=>me.id===F));if(oe&&F){const fe=oe.requests.find(me=>me.id===F);fe&&at({isOpen:!0,itemId:F,currentName:fe.name||fe.url||"Untitled Request",itemType:"request"})}}},onDuplicateItem:So,onMoveItem:(F,z,te)=>{if(te==="move"){const oe=a.find(fe=>fe.requests.some(me=>me.id===F));if(oe){const fe=oe.requests.find(me=>me.id===F);fe&&$t({isOpen:!0,itemId:F,itemName:fe.name||fe.url||"Untitled Request",itemType:"request"})}}else Ld(F,z,te)},selectedItemId:u||void 0})]}):v.jsx("div",{className:"space-y-2",children:v.jsx(pe,{variant:"ghost",size:"sm",className:"w-full justify-center",title:"Collections",children:v.jsx(Ss,{className:"w-4 h-4"})})})]})]})}),le&&ye&&v.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>he(!1)}),v.jsxs("div",{className:`flex-1 flex flex-col ${le?"w-full":""}`,children:[Me&&v.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-card",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-semibold",children:"ReqNest - API Request Builder"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Build, test, and organize your API requests"})]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>De(!1),children:[v.jsx($y,{className:"w-4 h-4 mr-2"}),"Exit Fullscreen"]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 p-4 bg-white border-b",children:[v.jsxs(ui,{value:e.method,onValueChange:F=>n(z=>({...z,method:F})),children:[v.jsx(zr,{className:`w-full sm:w-[100px] h-10 font-semibold ${e.method==="GET"?"bg-green-100 text-green-800 border-green-300 dark:bg-green-900/20 dark:text-green-300 dark:border-green-700":e.method==="POST"?"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-700":e.method==="PUT"?"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-700":e.method==="DELETE"?"bg-red-100 text-red-800 border-red-300 dark:bg-red-900/20 dark:text-red-300 dark:border-red-700":e.method==="PATCH"?"bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-700":"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-900/20 dark:text-gray-300 dark:border-gray-700"}`,children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"GET",className:"text-green-700 dark:text-green-300",children:"GET"}),v.jsx(At,{value:"POST",className:"text-blue-700 dark:text-blue-300",children:"POST"}),v.jsx(At,{value:"PUT",className:"text-orange-700 dark:text-orange-300",children:"PUT"}),v.jsx(At,{value:"DELETE",className:"text-red-700 dark:text-red-300",children:"DELETE"}),v.jsx(At,{value:"PATCH",className:"text-purple-700 dark:text-purple-300",children:"PATCH"}),v.jsx(At,{value:"HEAD",className:"text-gray-700 dark:text-gray-300",children:"HEAD"}),v.jsx(At,{value:"OPTIONS",className:"text-gray-700 dark:text-gray-300",children:"OPTIONS"})]})]}),v.jsx(ct,{placeholder:"Enter request URL",value:e.url,onChange:F=>n(z=>({...z,url:F.target.value})),className:"flex-1 h-10"}),v.jsx(pe,{onClick:Ll,disabled:s||!e.url.trim(),className:"h-10 px-6 w-full sm:w-auto bg-gradient-to-r from-orange-400 to-yellow-300 text-white font-bold shadow-lg hover:from-orange-500 hover:to-yellow-400 focus:ring-2 focus:ring-orange-300 transition-all border-none rounded-full",children:s?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending"]}):v.jsxs(v.Fragment,{children:[v.jsx(zp,{className:"w-4 h-4 mr-2"}),"Send"]})}),s&&v.jsxs(pe,{onClick:Qg,className:"h-10 px-6 w-full sm:w-auto bg-red-500 text-white font-bold shadow-lg hover:bg-red-600 focus:ring-2 focus:ring-red-300 transition-all border-none rounded-full",children:[v.jsx(q3,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),v.jsx("div",{className:"flex-1 min-h-0",children:v.jsxs(h6,{direction:"horizontal",className:"h-full",children:[v.jsx(PC,{defaultSize:50,minSize:25,maxSize:75,children:v.jsx("div",{className:"h-full p-2 sm:p-4 overflow-y-auto",children:v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none p-6",children:[v.jsx("div",{className:"border-b border-[#e5e7eb] p-4 rounded-t-2xl bg-gradient-to-r from-orange-100 via-yellow-100 to-peach-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-bold text-purple-900 dark:text-purple-200 tracking-wide",children:"Request"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>U(!H),className:"h-8 px-3",title:"Settings",children:[H?v.jsx(J3,{className:"w-4 h-4 mr-2"}):v.jsx(X3,{className:"w-4 h-4 mr-2"}),v.jsx("span",{className:"hidden lg:inline",children:"Settings"})]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:Z,className:"h-8 px-3",title:"Save",children:[v.jsx(Qf,{className:"w-4 h-4 mr-2"}),v.jsx("span",{className:"hidden lg:inline",children:"Save"})]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:Zg,className:"h-8 px-3",title:"Save As",children:[v.jsx(Iu,{className:"w-4 h-4 mr-2"}),v.jsx("span",{className:"hidden lg:inline",children:"Save As"})]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:Wg,className:"h-8 px-3",title:"Code",children:[v.jsx(hF,{className:"w-4 h-4 mr-2"}),v.jsx("span",{className:"hidden lg:inline",children:"Code"})]})]})]})}),v.jsxs(Qp,{value:B,onValueChange:Y,className:"w-full",children:[v.jsxs(Oh,{className:"mb-4 flex gap-2 w-fit mx-auto border-b border-gray-200 bg-transparent rounded-none p-0",children:[v.jsx(Ai,{value:"params",className:"px-6 py-2 text-lg font-bold",children:"Parameters"}),v.jsx(Ai,{value:"headers",className:"px-6 py-2 text-lg font-bold",children:"Headers"}),v.jsx(Ai,{value:"body",className:"px-6 py-2 text-lg font-bold",children:"Body"}),v.jsx(Ai,{value:"auth",className:"px-6 py-2 text-lg font-bold",children:"Auth"}),v.jsx(Ai,{value:"scripts",className:"px-6 py-2 text-lg font-bold",children:"Scripts"})]}),v.jsx(Ei,{value:"params",children:v.jsx("div",{className:"space-y-4 mt-0",children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx(Ge,{className:"text-base font-semibold text-purple-900 dark:text-purple-200",children:"Parameters"}),v.jsx(pe,{variant:"outline",size:"sm",onClick:()=>Vs("params"),children:"Bulk Edit"})]}),e.params.map((F,z)=>v.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[v.jsx(ct,{placeholder:"Key",value:F.key,onChange:te=>Kn(z,"key",te.target.value),className:"flex-1 bg-background"}),v.jsx(ct,{placeholder:"Value",value:F.value,onChange:te=>Kn(z,"value",te.target.value),className:"flex-1 bg-background"}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Qr(z),className:"text-red-500 hover:text-red-700",children:v.jsx(ci,{className:"w-4 h-4"})})]},z)),v.jsxs(pe,{variant:"outline",onClick:Xt,className:"w-full",children:[v.jsx(Po,{className:"w-4 h-4 mr-2"}),"Add Parameter"]})]})})}),v.jsx(Ei,{value:"headers",children:v.jsx("div",{className:"space-y-4 mt-0",children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx(Ge,{className:"text-base font-semibold text-purple-900 dark:text-purple-200",children:"Headers"}),v.jsx(pe,{variant:"outline",size:"sm",onClick:()=>Vs("headers"),children:"Bulk Edit"})]}),e.headers.map((F,z)=>v.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[v.jsx(ct,{placeholder:"Header Key",value:F.key,onChange:te=>on(z,"key",te.target.value),className:"flex-1 bg-background"}),v.jsx(ct,{placeholder:"Header Value",value:F.value,onChange:te=>on(z,"value",te.target.value),className:"flex-1 bg-background"}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>ht(z),className:"text-red-500 hover:text-red-700",children:v.jsx(ci,{className:"w-4 h-4"})})]},z)),v.jsxs(pe,{variant:"outline",onClick:jt,className:"w-full",children:[v.jsx(Po,{className:"w-4 h-4 mr-2"}),"Add Header"]})]})})}),v.jsx(Ei,{value:"body",children:v.jsx("div",{className:"space-y-4 mt-0",children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx(Ge,{className:"text-base font-semibold text-purple-900 dark:text-purple-200",children:"Body Type:"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(ui,{value:q,onValueChange:K,children:[v.jsx(zr,{className:"w-32",children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"json",children:"JSON"}),v.jsx(At,{value:"xml",children:"XML"}),v.jsx(At,{value:"text",children:"Text"}),v.jsx(At,{value:"form",children:"Form"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>{try{const F=JSON.parse(e.body),z=JSON.stringify(F,null,2);n(te=>({...te,body:z})),t({title:"JSON formatted successfully"})}catch{t({title:"Invalid JSON",variant:"destructive"})}},className:"h-8 px-3",title:"Beautify JSON",children:[v.jsx(rC,{className:"w-4 h-4 mr-2"}),"Beautify"]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>n(F=>({...F,body:""})),className:"h-8 px-3",title:"Clear body",children:[v.jsx(ci,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]})]}),v.jsx("div",{className:"border rounded-lg overflow-hidden min-h-[200px] max-h-[60vh]",children:v.jsx(Va,{value:e.body,onChange:F=>n(z=>({...z,body:F})),extensions:[Of(),Re.lineWrapping],theme:Ku,height:"100%",minHeight:"200px",maxHeight:"60vh",placeholder:"Enter JSON request body...",className:"text-sm [&_.cm-content]:break-words [&_.cm-line]:break-words [&_.cm-line]:whitespace-pre-wrap"})})]})})}),v.jsx(Ei,{value:"auth",children:v.jsx("div",{className:"space-y-4 mt-0",children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Authentication Type"}),v.jsxs(ui,{value:e.auth.type,onValueChange:F=>n(z=>({...z,auth:{...z.auth,type:F}})),children:[v.jsx(zr,{children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"none",children:"No Auth"}),v.jsx(At,{value:"bearer",children:"Bearer Token"}),v.jsx(At,{value:"basic",children:"Basic Auth"}),v.jsx(At,{value:"api-key",children:"API Key"})]})]})]}),e.auth.type==="bearer"&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Bearer Token"}),v.jsx(ct,{placeholder:"Enter bearer token",value:e.auth.token||"",onChange:F=>n(z=>({...z,auth:{...z.auth,token:F.target.value}})),className:"bg-background"})]}),e.auth.type==="basic"&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Username"}),v.jsx(ct,{placeholder:"Enter username",value:e.auth.username||"",onChange:F=>n(z=>({...z,auth:{...z.auth,username:F.target.value}})),className:"bg-background"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Password"}),v.jsx(ct,{type:"password",placeholder:"Enter password",value:e.auth.password||"",onChange:F=>n(z=>({...z,auth:{...z.auth,password:F.target.value}})),className:"bg-background"})]})]}),e.auth.type==="api-key"&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Key Name"}),v.jsx(ct,{placeholder:"e.g., X-API-KEY",value:e.auth.keyName||"",onChange:F=>n(z=>({...z,auth:{...z.auth,keyName:F.target.value}})),className:"bg-background"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Key Value"}),v.jsx(ct,{placeholder:"Enter API key",value:e.auth.keyValue||"",onChange:F=>n(z=>({...z,auth:{...z.auth,keyValue:F.target.value}})),className:"bg-background"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Add To"}),v.jsxs(ui,{value:e.auth.keyLocation||"header",onValueChange:F=>n(z=>({...z,auth:{...z.auth,keyLocation:F}})),children:[v.jsx(zr,{children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"header",children:"Header"}),v.jsx(At,{value:"query",children:"Query Params"})]})]})]})]})]})})}),v.jsx(Ei,{value:"scripts",children:v.jsx("div",{className:"space-y-6 mt-0",children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs(Ge,{className:"text-sm font-semibold mb-1 flex items-center",children:[v.jsx(tC,{className:"w-4 h-4 mr-2"})," Pre-request Script"]}),v.jsx(rr,{value:e.preRequestScript||"",onChange:F=>n(z=>({...z,preRequestScript:F.target.value})),rows:6,className:"font-mono",placeholder:"// Write JavaScript to run before the request is sent..."})]}),v.jsxs("div",{children:[v.jsxs(Ge,{className:"text-sm font-semibold mb-1 flex items-center",children:[v.jsx(tC,{className:"w-4 h-4 mr-2"})," Post-response Script"]}),v.jsx(rr,{value:e.postRequestScript||"",onChange:F=>n(z=>({...z,postRequestScript:F.target.value})),rows:6,className:"font-mono",placeholder:"// Write JavaScript to run after the response is received..."})]}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:["Scripts run in a sandboxed environment. You can use ",v.jsx("code",{children:"context"})," to access environment variables, request, and response data."]})]})})})]})]})})})}),v.jsx(d6,{}),v.jsx(PC,{defaultSize:50,minSize:25,maxSize:75,children:v.jsx("div",{className:"h-full p-2 sm:p-4 overflow-y-auto",children:v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none p-6",children:[v.jsx("div",{className:"border-b border-[#e5e7eb] p-4 rounded-t-2xl bg-gradient-to-r from-purple-100 via-pink-100 to-yellow-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-bold text-purple-900 dark:text-purple-200 tracking-wide",children:"Response"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>sn(!0),className:"h-8 px-3",title:"Maximize editor",disabled:!r,children:[v.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Maximize"]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>{try{const F=JSON.stringify(JSON.parse((r==null?void 0:r.data)||"{}"),null,2);i(z=>z?{...z,data:F}:null),t({title:"Response beautified"})}catch{t({title:"Cannot beautify",description:"Response is not valid JSON",variant:"destructive"})}},className:"h-8 px-3",title:"Beautify JSON",disabled:!r,children:[v.jsx(rC,{className:"w-4 h-4 mr-2"}),"Beautify"]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText((r==null?void 0:r.data)||""),t({title:"Response copied to clipboard"})},className:"h-8 px-3",title:"Copy response",disabled:!r,children:[v.jsx(pi,{className:"w-4 h-4 mr-2"}),"Copy"]}),v.jsxs(pe,{variant:"ghost",size:"sm",onClick:mu,className:"h-8 px-3",title:"Download response",disabled:!r,children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})}),v.jsx("div",{className:"p-4",children:r?v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(Mr,{variant:r.status===0?"secondary":r.status<400?"default":"destructive",children:r.status===0?"FAILED":r.status}),v.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.time,"ms • ",r.size," bytes"]})]})}),r&&v.jsxs("div",{className:"space-y-3",children:[v.jsx("h4",{className:"text-base font-semibold",children:"Response Headers"}),v.jsx("div",{className:"max-h-32 overflow-y-auto grid grid-cols-1 gap-2",children:Object.entries(r.headers||{}).map(([F,z])=>v.jsxs("div",{className:"flex gap-2 text-xs bg-muted/30 rounded p-2 items-center",children:[v.jsx("span",{className:"font-mono font-semibold w-40 flex-shrink-0",children:F}),v.jsx("span",{className:"font-mono break-all flex-1",children:z}),E&&v.jsx("button",{className:"ml-2 p-1 hover:bg-accent rounded",title:"Add to Env",onClick:()=>{Se(F),gt(z),de(!0)},children:v.jsx(Po,{className:"w-4 h-4 text-primary"})})]},F))})]}),v.jsx("div",{className:"border rounded-lg overflow-hidden min-h-[200px] max-h-[60vh]",children:v.jsx(Va,{value:r.data,extensions:[Of(),Re.lineWrapping],theme:Ku,height:"100%",minHeight:"200px",maxHeight:"60vh",editable:!1,className:"text-sm [&_.cm-content]:break-words [&_.cm-line]:break-words [&_.cm-line]:whitespace-pre-wrap"})})]}):v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:v.jsx(zp,{className:"w-8 h-8"})}),v.jsx("p",{children:"Click Send to get a response"})]})})})]})})})})]})})]})]})}),v.jsx(qn,{open:S,onOpenChange:w,children:v.jsxs(In,{className:"sm:max-w-2xl",children:[v.jsxs(Fn,{children:[v.jsx(Bn,{children:"Import from cURL"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Paste a cURL command from Swagger, Postman, or any other tool. We'll extract the method, URL, headers, body, and query parameters."})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{className:"text-sm font-medium",children:"cURL Command"}),v.jsx(rr,{placeholder:`curl -X POST https://api.example.com/users \\
  -H 'Content-Type: application/json' \\
  -H 'Authorization: Bearer your-token' \\
  -d '{"name": "John Doe", "email": "john@example.com"}'`,value:C,onChange:F=>x(F.target.value),rows:8,className:"font-mono text-sm"})]}),v.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[v.jsx("h4",{className:"text-sm font-medium mb-2",children:"Supported Features:"}),v.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[v.jsx("li",{children:"• HTTP methods: GET, POST, PUT, DELETE, PATCH, etc."}),v.jsx("li",{children:"• Headers: -H or --header flags"}),v.jsx("li",{children:"• Request body: -d, --data, --data-raw flags"}),v.jsx("li",{children:"• Query parameters: automatically extracted from URL"}),v.jsx("li",{children:"• Multi-line commands with line continuations (\\)"}),v.jsx("li",{children:"• Quoted values with proper escaping"})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(pe,{onClick:Rl,disabled:!C.trim(),children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Import Request"]}),v.jsx(pe,{variant:"outline",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),v.jsx(VK,{isOpen:M,onClose:()=>T(!1),history:_.map(F=>({id:F.id,method:F.request.method,url:F.request.url,timestamp:F.timestamp instanceof Date?F.timestamp.toISOString():new Date(F.timestamp).toISOString(),status:F.response.status,duration:F.response.time})),onReRunRequest:F=>{const z=_.find(te=>te.id===F.id);z&&Td(z)},onDeleteHistoryItem:Md,onDeleteMultipleHistoryItems:Nd,onClearAllHistory:Ra}),v.jsx(qn,{open:A,onOpenChange:$,children:v.jsxs(In,{className:"max-w-2xl w-full",children:[v.jsxs(Fn,{children:[v.jsx(Bn,{children:"Manage Environments"}),v.jsx(bg,{children:"Create, edit, and switch between environments. Variables in the active environment are available for substitution in your requests."})]}),v.jsxs("div",{className:"flex gap-6",children:[v.jsxs("div",{className:"w-1/3 border-r pr-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"font-semibold text-sm",children:"Environments"}),v.jsx("button",{className:"text-xs text-primary",onClick:()=>ce(!0),children:"+ New"})]}),v.jsx("ul",{className:"space-y-1",children:k.map(F=>v.jsxs("li",{className:"flex items-center justify-between group",children:[v.jsx("button",{className:`text-left flex-1 truncate ${F.id===E?"font-bold text-primary":""}`,onClick:()=>Ug(F.id),children:F.name}),v.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx("button",{className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>Ed(F.id),children:"Delete"})})]},F.id))}),X&&v.jsxs("div",{className:"mt-2 flex gap-2",children:[v.jsx("input",{className:"border rounded px-2 py-1 text-xs flex-1",placeholder:"Environment name",value:D,onChange:F=>O(F.target.value),autoFocus:!0}),v.jsx("button",{className:"text-xs text-primary",onClick:()=>{hs(),ce(!1)},disabled:!D.trim(),children:"Create"}),v.jsx("button",{className:"text-xs text-muted-foreground",onClick:()=>ce(!1),children:"Cancel"})]})]}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"font-semibold text-sm",children:"Variables"}),v.jsx("button",{className:"text-xs text-primary",onClick:Vg,children:"+ Add Variable"})]}),v.jsx("ul",{className:"space-y-2",children:Object.entries(P).map(([F,z])=>v.jsxs("li",{className:"flex gap-2 items-center",children:[v.jsx("input",{className:"border rounded px-2 py-1 text-xs w-32",value:F,onChange:te=>{const oe=te.target.value;I(fe=>{const me={...fe};return me[oe]=me[F],delete me[F],me})}}),v.jsx("input",{className:"border rounded px-2 py-1 text-xs flex-1",value:z,onChange:te=>Kg(F,te.target.value)}),v.jsx("button",{className:"text-xs text-muted-foreground hover:text-destructive",onClick:()=>Gg(F),children:"Delete"})]},F))})]})]}),v.jsx(pl,{children:v.jsx(MC,{asChild:!0,children:v.jsx("button",{className:"btn btn-primary",children:"Close"})})})]})}),v.jsx(qn,{open:re,onOpenChange:F=>{ae(F),F||(Ae(null),We(null),He(void 0),yt(""),bt(null))},children:v.jsxs(In,{className:"sm:max-w-lg",children:[v.jsxs(Fn,{children:[v.jsx(Bn,{children:Ve?`Save ${Ve.length} Requests`:"Save Imported Request"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:Ve?`Choose where to save ${Ve.length} imported requests`:"Choose where to save this imported request"})]}),v.jsxs("div",{className:"space-y-4",children:[be&&!Ve&&v.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(Mr,{variant:"outline",children:be.method}),v.jsx("span",{className:"text-sm font-medium",children:be.url})]}),be.body&&v.jsxs("div",{className:"text-xs text-muted-foreground",children:["Has request body: ",be.body.length>100?`${be.body.substring(0,100)}...`:be.body]})]}),Ve&&v.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsxs(Mr,{variant:"outline",children:[Ve.length," requests"]}),v.jsx("span",{className:"text-sm font-medium",children:"Ready to import"})]}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:[Ve.slice(0,3).map((F,z)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-mono text-xs",children:F.method}),v.jsx("span",{className:"truncate",children:F.url})]},z)),Ve.length>3&&v.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["... and ",Ve.length-3," more requests"]}),v.jsx("div",{className:"text-xs text-blue-600 mt-2 font-medium",children:"📁 Organized by resource folders"})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(Ge,{className:"text-sm font-medium",children:"Quick Save Options"}),v.jsx("div",{className:"space-y-2",children:v.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 cursor-pointer bg-blue-50 dark:bg-blue-900/20",onClick:cs,children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ss,{className:"w-4 h-4 text-blue-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:"Imported Requests (Default)"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Save to default collection"})]})]}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 px-3",children:"Quick Save"})]})})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(Ge,{className:"text-sm font-medium",children:"Existing Collections"}),a.length>0?v.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:a.map(F=>v.jsxs("div",{className:"border rounded-lg p-3 space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ss,{className:"w-4 h-4 text-violet-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:F.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.requests.length," request",F.requests.length!==1?"s":""]})]})]}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 px-3",onClick:()=>un(F.id),children:"Save to Collection"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs text-muted-foreground",children:"Save to folder:"}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>bt(Gt===F.id?null:F.id),children:Gt===F.id?"Cancel":"New Folder"})]}),(()=>{const z=F.requests.filter(te=>te.method==="FOLDER");return z.length>0?v.jsx("div",{className:"space-y-1",children:z.map(te=>v.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded text-xs",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Ss,{className:"w-3 h-3"}),te.name]}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>un(F.id,te.id),children:"Save"})]},te.id))}):null})(),Gt===F.id&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(ct,{value:Ue,onChange:z=>yt(z.target.value),placeholder:"Folder name",className:"h-8 text-xs",autoFocus:!0}),v.jsx(pe,{size:"sm",className:"h-8 px-3 text-xs",onClick:()=>Xr(F.id),disabled:!Ue.trim(),children:"Create & Save"})]})]})]},F.id))}):v.jsx("div",{className:"text-center py-4 text-muted-foreground",children:v.jsx("p",{className:"text-sm",children:"No collections yet"})}),v.jsx("div",{className:"pt-2 border-t",children:v.jsxs(pe,{variant:"outline",onClick:()=>{ae(!1),Ne(!0)},className:"w-full",children:[v.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Create New Collection"]})})]})]}),v.jsx("div",{className:"flex gap-2 pt-2",children:v.jsx(pe,{variant:"outline",onClick:()=>{ae(!1)},className:"flex-1",children:"Skip"})})]})}),v.jsx(qn,{open:Pt,onOpenChange:Jt,children:v.jsxs(In,{className:"max-w-7xl w-full h-[95vh] max-h-[95vh] p-0",children:[v.jsx(Fn,{className:"px-6 py-4 border-b bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20",children:v.jsx(Bn,{className:"text-emerald-800 dark:text-emerald-300",children:"Request Editor - Fullscreen"})}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx("div",{className:"h-full p-6 overflow-y-auto",children:v.jsx("div",{className:"border rounded-lg overflow-hidden min-h-[400px] max-h-[80vh]",children:v.jsx(Va,{value:e.body,onChange:F=>n(z=>({...z,body:F})),extensions:[Of(),Re.lineWrapping],theme:Ku,height:"100%",minHeight:"400px",maxHeight:"80vh",className:"text-base [&_.cm-content]:break-words [&_.cm-line]:break-words [&_.cm-line]:whitespace-pre-wrap"})})})})]})}),v.jsx(qn,{open:Kt,onOpenChange:sn,children:v.jsxs(In,{className:"max-w-7xl w-full h-[95vh] max-h-[95vh] p-0",children:[v.jsx(Fn,{className:"px-6 py-4 border-b bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",children:v.jsx(Bn,{className:"text-purple-800 dark:text-purple-300",children:"Response Viewer - Fullscreen"})}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsxs("div",{className:"h-full p-6 overflow-y-auto",children:[v.jsx("div",{className:"border rounded-lg overflow-hidden min-h-[400px] max-h-[80vh]",children:v.jsx(Va,{value:(r==null?void 0:r.data)||"",extensions:[Of(),Re.lineWrapping],theme:Ku,height:"100%",minHeight:"400px",maxHeight:"80vh",editable:!1,className:"text-base [&_.cm-content]:break-words [&_.cm-line]:break-words [&_.cm-line]:whitespace-pre-wrap"})}),r&&v.jsxs("div",{className:"space-y-3",children:[v.jsx("h4",{className:"text-base font-semibold",children:"Response Headers"}),v.jsx("div",{className:"max-h-48 overflow-y-auto grid grid-cols-1 gap-2",children:Object.entries(r.headers||{}).map(([F,z])=>v.jsxs("div",{className:"flex gap-2 text-xs bg-muted/30 rounded p-2 items-center",children:[v.jsx("span",{className:"font-mono font-semibold w-40 flex-shrink-0",children:F}),v.jsx("span",{className:"font-mono break-all flex-1",children:z}),E&&v.jsx("button",{className:"ml-2 p-1 hover:bg-accent rounded",title:"Add to Env",onClick:()=>{Se(F),gt(z),de(!0)},children:v.jsx(Po,{className:"w-4 h-4 text-primary"})})]},F))})]})]})})]})}),v.jsx(qn,{open:$e,onOpenChange:F=>{Ne(F),F||b("")},children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{className:"space-y-3",children:[v.jsx(Bn,{className:"text-lg font-semibold",children:"Create New Collection"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new collection to organize your API requests"})]}),v.jsxs("div",{className:"space-y-6 py-2",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"new-collection-name",className:"text-sm font-medium",children:"Collection Name"}),v.jsx(ct,{id:"new-collection-name",value:y,onChange:F=>b(F.target.value),placeholder:"e.g., User Management, Payment APIs",autoFocus:!0,className:"h-10"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a descriptive name for your collection"})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsxs(pe,{onClick:()=>{y.trim()?(ls(),Ne(!1)):t({title:"Collection name required",description:"Please enter a name for your collection",variant:"destructive"})},className:"flex-1",children:[v.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Create Collection"]}),v.jsx(pe,{variant:"outline",onClick:()=>{Ne(!1),b("")},className:"flex-1",children:"Cancel"})]})]})]})}),v.jsx(qn,{open:Oe,onOpenChange:F=>{qe(F),F||(We(null),ut(null),J(null))},children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{className:"space-y-3",children:[v.jsx(Bn,{className:"text-lg font-semibold",children:Ve?`Save ${Ve.length} Requests`:"Save Request to Collection"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:Ve?`Save ${Ve.length} imported requests to an existing collection or create a new one`:"Save your current request to an existing collection or create a new one"})]}),v.jsxs("div",{className:"space-y-6 py-2",children:[!Ve&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"request-name",className:"text-sm font-medium",children:"Request Name"}),v.jsx(ct,{id:"request-name",value:e.name||e.url||"",onChange:F=>n(z=>({...z,name:F.target.value})),placeholder:"Enter a name for this request",className:"h-10"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Give your request a descriptive name"})]}),Ve&&v.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsxs(Mr,{variant:"outline",children:[Ve.length," requests"]}),v.jsx("span",{className:"text-sm font-medium",children:"Ready to import"})]}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:[Ve.slice(0,3).map((F,z)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-mono text-xs",children:F.method}),v.jsx("span",{className:"truncate",children:F.url})]},z)),Ve.length>3&&v.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["... and ",Ve.length-3," more requests"]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(Ge,{className:"text-sm font-medium",children:"Select Collection"}),a.length>0?v.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:a.map(F=>v.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 cursor-pointer",onClick:()=>{Ve?(ut(F.id),J(null),qe(!1),ae(!0)):(Zr(F.id,e.name||e.url),qe(!1))},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ss,{className:"w-4 h-4 text-violet-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:F.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.requests.length," request",F.requests.length!==1?"s":""]})]})]}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 px-3",children:Ve?"Select Collection":"Save to Collection"})]},F.id))}):v.jsx("div",{className:"text-center py-4 text-muted-foreground",children:v.jsx("p",{className:"text-sm",children:"No collections yet"})}),v.jsx("div",{className:"pt-2 border-t",children:v.jsxs(pe,{variant:"outline",onClick:()=>{qe(!1),Ne(!0)},className:"w-full",children:[v.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Create New Collection"]})})]})]})]})}),v.jsx(qn,{open:et,onOpenChange:It,children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{className:"space-y-3",children:[v.jsx(Bn,{className:"text-lg font-semibold",children:"Edit Request Name"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Update the name of your request in the collection"})]}),v.jsxs("div",{className:"space-y-6 py-2",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"edit-request-name",className:"text-sm font-medium",children:"Request Name"}),v.jsx(ct,{id:"edit-request-name",value:(Et==null?void 0:Et.currentName)||"",onChange:F=>xt(z=>z?{...z,currentName:F.target.value}:null),placeholder:"Enter a new name for this request",autoFocus:!0,className:"h-10"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a descriptive name for your request"})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsxs(pe,{onClick:()=>{Et&&(wo(Et.collectionId,Et.requestId,Et.currentName),It(!1),xt(null))},disabled:!(Et!=null&&Et.currentName.trim()),className:"flex-1",children:[v.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Update Name"]}),v.jsx(pe,{variant:"outline",onClick:()=>{It(!1),xt(null)},className:"flex-1",children:"Cancel"})]})]})]})}),v.jsx(qn,{open:mt.isOpen,onOpenChange:F=>ot(z=>({...z,isOpen:F})),children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{className:"space-y-3",children:[v.jsxs(Bn,{className:"text-lg font-semibold",children:["Delete ",mt.type]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:['Are you sure you want to delete "',mt.itemName,'"? This action cannot be undone.']})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsxs(pe,{variant:"destructive",onClick:()=>{mt.type==="collection"&&Na(),ot({isOpen:!1,type:"collection",itemId:"",itemName:""})},className:"flex-1",children:[v.jsx(ci,{className:"w-4 h-4 mr-2"}),"Delete"]}),v.jsx(pe,{variant:"outline",onClick:()=>ot({isOpen:!1,type:"collection",itemId:"",itemName:""}),className:"flex-1",children:"Cancel"})]})]})}),v.jsx(qn,{open:nt.isOpen,onOpenChange:F=>at(z=>({...z,isOpen:F})),children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{className:"space-y-3",children:[v.jsx(Bn,{className:"text-lg font-semibold",children:"Rename Item"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a new name for this item"})]}),v.jsxs("div",{className:"space-y-6 py-2",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"rename-item-name",className:"text-sm font-medium",children:"New Name"}),v.jsx(ct,{id:"rename-item-name",value:nt.currentName,onChange:F=>at(z=>({...z,currentName:F.target.value})),placeholder:"Enter new name",autoFocus:!0,className:"h-10"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a descriptive name"})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsxs(pe,{onClick:()=>{if(nt.currentName.trim()){const F=a.find(z=>z.id===nt.itemId);if(F){const z={...F,name:nt.currentName};st.saveCollection(z),l(te=>te.map(oe=>oe.id===nt.itemId?z:oe)),t({title:"Collection renamed",description:`Collection renamed to "${nt.currentName}"`})}else{const z=a.find(te=>te.requests.some(oe=>oe.id===nt.itemId));z&&nt.itemId&&wo(z.id,nt.itemId,nt.currentName)}at({isOpen:!1,itemId:"",currentName:"",itemType:""})}},disabled:!nt.currentName.trim(),className:"flex-1",children:[v.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Rename"]}),v.jsx(pe,{variant:"outline",onClick:()=>at({isOpen:!1,itemId:"",currentName:"",itemType:""}),className:"flex-1",children:"Cancel"})]})]})]})}),v.jsx(qn,{open:Ft.isOpen,onOpenChange:F=>$t(z=>({...z,isOpen:F})),children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{className:"space-y-3",children:[v.jsx(Bn,{className:"text-lg font-semibold",children:"Move Request"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:['Select a collection to move "',Ft.itemName,'" to']})]}),v.jsxs("div",{className:"space-y-6 py-2",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsx(Ge,{className:"text-sm font-medium",children:"Select Target Collection"}),a.length>0?v.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:a.map(F=>v.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 cursor-pointer",onClick:()=>{Ld(Ft.itemId,F.id,"collection"),$t({isOpen:!1,itemId:"",itemName:"",itemType:""})},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ss,{className:"w-4 h-4 text-violet-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:F.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.requests.length," request",F.requests.length!==1?"s":""]})]})]}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 px-3",children:"Move Here"})]},F.id))}):v.jsx("div",{className:"text-center py-4 text-muted-foreground",children:v.jsx("p",{className:"text-sm",children:"No collections available"})})]}),v.jsx("div",{className:"flex gap-3 pt-2",children:v.jsx(pe,{variant:"outline",onClick:()=>$t({isOpen:!1,itemId:"",itemName:"",itemType:""}),className:"w-full",children:"Cancel"})})]})]})}),v.jsx(KK,{isOpen:Q.isOpen,onClose:()=>ee(F=>({...F,isOpen:!1})),type:Q.type,initialText:Q.initialText,onApply:Jr}),v.jsx(qn,{open:ve,onOpenChange:de,children:v.jsxs(In,{className:"max-w-xs w-full",children:[v.jsx(Fn,{children:v.jsx(Bn,{children:"Add to Environment"})}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-xs font-medium",children:"Variable Name"}),v.jsx("input",{className:"border rounded px-2 py-1 text-xs w-full",value:ie,onChange:F=>Se(F.target.value),autoFocus:!0}),v.jsx("label",{className:"block text-xs font-medium",children:"Value"}),v.jsx("input",{className:"border rounded px-2 py-1 text-xs w-full",value:Fe,onChange:F=>gt(F.target.value)})]}),v.jsxs(pl,{children:[v.jsx("button",{className:"btn btn-primary",onClick:se,disabled:!ie.trim(),children:"Save"}),v.jsx(MC,{asChild:!0,children:v.jsx("button",{className:"btn btn-secondary",children:"Cancel"})})]})]})})]})}var tu={},c1={},O_={exports:{}};(function(t,e){(function(){var n="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var i=function(c,h,d){if(typeof c!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(d=h),i.modules[c]||(i.payloads[c]=d,i.modules[c]=null)};i.modules={},i.payloads={};var s=function(c,h,d){if(typeof h=="string"){var f=l(c,h);if(f!=null)return d&&d(),f}else if(Object.prototype.toString.call(h)==="[object Array]"){for(var p=[],m=0,g=h.length;m<g;++m){var y=l(c,h[m]);if(y==null&&o.original)return;p.push(y)}return d&&d.apply(null,p)||!0}},o=function(c,h){var d=s("",c,h);return d==null&&o.original?o.original.apply(this,arguments):d},a=function(c,h){if(h.indexOf("!")!==-1){var d=h.split("!");return a(c,d[0])+"!"+a(c,d[1])}if(h.charAt(0)=="."){var f=c.split("/").slice(0,-1).join("/");for(h=f+"/"+h;h.indexOf(".")!==-1&&p!=h;){var p=h;h=h.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return h},l=function(c,h){h=a(c,h);var d=i.modules[h];if(!d){if(d=i.payloads[h],typeof d=="function"){var f={},p={id:h,uri:"",exports:f,packaged:!0},m=function(y,b){return s(h,y,b)},g=d(m,f,p);f=g||p.exports,i.modules[h]=f,delete i.payloads[h]}d=i.modules[h]=f||d}return d};function u(c){var h=r;r[c]||(r[c]={}),h=r[c],(!h.define||!h.define.packaged)&&(i.original=h.define,h.define=i,h.define.packaged=!0),(!h.require||!h.require.packaged)&&(o.original=h.require,h.require=o,h.require.packaged=!0)}u(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,r,i){function s(o,a,l){Object.defineProperty(o,a,{value:l,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||s(String.prototype,"startsWith",function(o,a){return a=a||0,this.lastIndexOf(o,a)===a}),String.prototype.endsWith||s(String.prototype,"endsWith",function(o,a){var l=this;(a===void 0||a>l.length)&&(a=l.length),a-=o.length;var u=l.indexOf(o,a);return u!==-1&&u===a}),String.prototype.repeat||s(String.prototype,"repeat",function(o){for(var a="",l=this;o>0;)o&1&&(a+=l),(o>>=1)&&(l+=l);return a}),String.prototype.includes||s(String.prototype,"includes",function(o,a){return this.indexOf(o,a)!=-1}),Object.assign||(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(o),l=1;l<arguments.length;l++){var u=arguments[l];u!=null&&Object.keys(u).forEach(function(c){a[c]=u[c]})}return a}),Object.values||(Object.values=function(o){return Object.keys(o).map(function(a){return o[a]})}),Array.prototype.find||s(Array.prototype,"find",function(o){for(var a=this.length,l=arguments[1],u=0;u<a;u++){var c=this[u];if(o.call(l,c,u,this))return c}}),Array.prototype.findIndex||s(Array.prototype,"findIndex",function(o){for(var a=this.length,l=arguments[1],u=0;u<a;u++){var c=this[u];if(o.call(l,c,u,this))return u}}),Array.prototype.includes||s(Array.prototype,"includes",function(o,a){return this.indexOf(o,a)!=-1}),Array.prototype.fill||s(Array.prototype,"fill",function(o){for(var a=this,l=a.length>>>0,u=arguments[1],c=u>>0,h=c<0?Math.max(l+c,0):Math.min(c,l),d=arguments[2],f=d===void 0?l:d>>0,p=f<0?Math.max(l+f,0):Math.min(f,l);h<p;)a[h]=o,h++;return a}),Array.of||s(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,r,i){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,r,i){r.deepCopy=function s(o){if(typeof o!="object"||!o)return o;var a;if(Array.isArray(o)){a=[];for(var l=0;l<o.length;l++)a[l]=s(o[l]);return a}if(Object.prototype.toString.call(o)!=="[object Object]")return o;a={};for(var l in o)a[l]=s(o[l]);return a}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){r.last=function(a){return a[a.length-1]},r.stringReverse=function(a){return a.split("").reverse().join("")},r.stringRepeat=function(a,l){for(var u="";l>0;)l&1&&(u+=a),(l>>=1)&&(a+=a);return u};var s=/^\s\s*/,o=/\s\s*$/;r.stringTrimLeft=function(a){return a.replace(s,"")},r.stringTrimRight=function(a){return a.replace(o,"")},r.copyObject=function(a){var l={};for(var u in a)l[u]=a[u];return l},r.copyArray=function(a){for(var l=[],u=0,c=a.length;u<c;u++)a[u]&&typeof a[u]=="object"?l[u]=this.copyObject(a[u]):l[u]=a[u];return l},r.deepCopy=n("./deep_copy").deepCopy,r.arrayToMap=function(a){for(var l={},u=0;u<a.length;u++)l[a[u]]=1;return l},r.createMap=function(a){var l=Object.create(null);for(var u in a)l[u]=a[u];return l},r.arrayRemove=function(a,l){for(var u=0;u<=a.length;u++)l===a[u]&&a.splice(u,1)},r.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(a){return(""+a).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(a,l){var u=[];return a.replace(l,function(c){u.push({offset:arguments[arguments.length-2],length:c.length})}),u},r.deferredCall=function(a){var l=null,u=function(){l=null,a()},c=function(h){return c.cancel(),l=setTimeout(u,h||0),c};return c.schedule=c,c.call=function(){return this.cancel(),a(),c},c.cancel=function(){return clearTimeout(l),l=null,c},c.isPending=function(){return l},c},r.delayedCall=function(a,l){var u=null,c=function(){u=null,a()},h=function(d){u==null&&(u=setTimeout(c,d||l))};return h.delay=function(d){u&&clearTimeout(u),u=setTimeout(c,d||l)},h.schedule=h,h.call=function(){this.cancel(),a()},h.cancel=function(){u&&clearTimeout(u),u=null},h.isPending=function(){return u},h},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(a,l,u){return u&&a.codePointAt(l)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,r,i){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var s=typeof navigator=="object"?navigator:{},o=(/mac|win|linux/i.exec(s.platform)||["other"])[0].toLowerCase(),a=s.userAgent||"",l=s.appName||"";r.isWin=o=="win",r.isMac=o=="mac",r.isLinux=o=="linux",r.isIE=l=="Microsoft Internet Explorer"||l.indexOf("MSAppHost")>=0?parseFloat((a.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((a.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=a.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(a.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(a.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(a.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(a.split(" Edge/")[1])||void 0,r.isAIR=a.indexOf("AdobeAIR")>=0,r.isAndroid=a.indexOf("Android")>=0,r.isChromeOS=a.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(a)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,r,i){var s=n("./useragent"),o="http://www.w3.org/1999/xhtml";r.buildDom=function d(f,p,m){if(typeof f=="string"&&f){var g=document.createTextNode(f);return p&&p.appendChild(g),g}if(!Array.isArray(f))return f&&f.appendChild&&p&&p.appendChild(f),f;if(typeof f[0]!="string"||!f[0]){for(var y=[],b=0;b<f.length;b++){var C=d(f[b],p,m);C&&y.push(C)}return y}var x=document.createElement(f[0]),S=f[1],w=1;S&&typeof S=="object"&&!Array.isArray(S)&&(w=2);for(var b=w;b<f.length;b++)d(f[b],x,m);return w==2&&Object.keys(S).forEach(function(k){var L=S[k];k==="class"?x.className=Array.isArray(L)?L.join(" "):L:typeof L=="function"||k=="value"||k[0]=="$"?x[k]=L:k==="ref"?m&&(m[L]=x):k==="style"?typeof L=="string"&&(x.style.cssText=L):L!=null&&x.setAttribute(k,L)}),p&&p.appendChild(x),x},r.getDocumentHead=function(d){return d||(d=document),d.head||d.getElementsByTagName("head")[0]||d.documentElement},r.createElement=function(d,f){return document.createElementNS?document.createElementNS(f||o,d):document.createElement(d)},r.removeChildren=function(d){d.innerHTML=""},r.createTextNode=function(d,f){var p=f?f.ownerDocument:document;return p.createTextNode(d)},r.createFragment=function(d){var f=d?d.ownerDocument:document;return f.createDocumentFragment()},r.hasCssClass=function(d,f){var p=(d.className+"").split(/\s+/g);return p.indexOf(f)!==-1},r.addCssClass=function(d,f){r.hasCssClass(d,f)||(d.className+=" "+f)},r.removeCssClass=function(d,f){for(var p=d.className.split(/\s+/g);;){var m=p.indexOf(f);if(m==-1)break;p.splice(m,1)}d.className=p.join(" ")},r.toggleCssClass=function(d,f){for(var p=d.className.split(/\s+/g),m=!0;;){var g=p.indexOf(f);if(g==-1)break;m=!1,p.splice(g,1)}return m&&p.push(f),d.className=p.join(" "),m},r.setCssClass=function(d,f,p){p?r.addCssClass(d,f):r.removeCssClass(d,f)},r.hasCssString=function(d,f){var p=0,m;if(f=f||document,m=f.querySelectorAll("style")){for(;p<m.length;)if(m[p++].id===d)return!0}},r.removeElementById=function(d,f){f=f||document,f.getElementById(d)&&f.getElementById(d).remove()};var a,l=[];r.useStrictCSP=function(d){a=d,d==!1?u():l||(l=[])};function u(){var d=l;l=null,d&&d.forEach(function(f){c(f[0],f[1])})}function c(d,f,p){if(!(typeof document>"u")){if(l){if(p)u();else if(p===!1)return l.push([d,f])}if(!a){var m=p;!p||!p.getRootNode?m=document:(m=p.getRootNode(),(!m||m==p)&&(m=document));var g=m.ownerDocument||m;if(f&&r.hasCssString(f,m))return null;f&&(d+=`
/*# sourceURL=ace/css/`+f+" */");var y=r.createElement("style");y.appendChild(g.createTextNode(d)),f&&(y.id=f),m==g&&(m=r.getDocumentHead(g)),m.insertBefore(y,m.firstChild)}}}if(r.importCssString=c,r.importCssStylsheet=function(d,f){r.buildDom(["link",{rel:"stylesheet",href:d}],r.getDocumentHead(f))},r.scrollbarWidth=function(d){var f=r.createElement("ace_inner");f.style.width="100%",f.style.minWidth="0px",f.style.height="200px",f.style.display="block";var p=r.createElement("ace_outer"),m=p.style;m.position="absolute",m.left="-10000px",m.overflow="hidden",m.width="200px",m.minWidth="0px",m.height="150px",m.display="block",p.appendChild(f);var g=d&&d.documentElement||document&&document.documentElement;if(!g)return 0;g.appendChild(p);var y=f.offsetWidth;m.overflow="scroll";var b=f.offsetWidth;return y===b&&(b=p.clientWidth),g.removeChild(p),y-b},r.computedStyle=function(d,f){return window.getComputedStyle(d,"")||{}},r.setStyle=function(d,f,p){d[f]!==p&&(d[f]=p)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=s.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,s.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var h=document.createElement("div");r.HI_DPI&&h.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!s.isEdge&&typeof h.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),h=null}r.HAS_CSS_TRANSFORMS?r.translate=function(d,f,p){d.style.transform="translate("+Math.round(f)+"px, "+Math.round(p)+"px)"}:r.translate=function(d,f,p){d.style.top=Math.round(p)+"px",d.style.left=Math.round(f)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,r,i){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var s=n("./dom");r.get=function(o,a){var l=new XMLHttpRequest;l.open("GET",o,!0),l.onreadystatechange=function(){l.readyState===4&&a(l.responseText)},l.send(null)},r.loadScript=function(o,a){var l=s.getDocumentHead(),u=document.createElement("script");u.src=o,l.appendChild(u),u.onload=u.onreadystatechange=function(c,h){(h||!u.readyState||u.readyState=="loaded"||u.readyState=="complete")&&(u=u.onload=u.onreadystatechange=null,h||a())}},r.qualifyURL=function(o){var a=document.createElement("a");return a.href=o,a.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,r,i){r.inherits=function(s,o){s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(s,o){for(var a in o)s[a]=o[a];return s},r.implement=function(s,o){r.mixin(s,o)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,r,i){var s={},o=function(){this.propagationStopped=!0},a=function(){this.defaultPrevented=!0};s._emit=s._dispatchEvent=function(l,u){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[l]||[],h=this._defaultHandlers[l];if(!(!c.length&&!h)){(typeof u!="object"||!u)&&(u={}),u.type||(u.type=l),u.stopPropagation||(u.stopPropagation=o),u.preventDefault||(u.preventDefault=a),c=c.slice();for(var d=0;d<c.length&&(c[d](u,this),!u.propagationStopped);d++);if(h&&!u.defaultPrevented)return h(u,this)}},s._signal=function(l,u){var c=(this._eventRegistry||{})[l];if(c){c=c.slice();for(var h=0;h<c.length;h++)c[h](u,this)}},s.once=function(l,u){var c=this;if(this.on(l,function h(){c.off(l,h),u.apply(null,arguments)}),!u)return new Promise(function(h){u=h})},s.setDefaultHandler=function(l,u){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[l]){var h=c[l],d=c._disabled_[l];d||(c._disabled_[l]=d=[]),d.push(h);var f=d.indexOf(u);f!=-1&&d.splice(f,1)}c[l]=u},s.removeDefaultHandler=function(l,u){var c=this._defaultHandlers;if(c){var h=c._disabled_[l];if(c[l]==u)h&&this.setDefaultHandler(l,h.pop());else if(h){var d=h.indexOf(u);d!=-1&&h.splice(d,1)}}},s.on=s.addEventListener=function(l,u,c){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[l];return h||(h=this._eventRegistry[l]=[]),h.indexOf(u)==-1&&h[c?"unshift":"push"](u),u},s.off=s.removeListener=s.removeEventListener=function(l,u){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[l];if(c){var h=c.indexOf(u);h!==-1&&c.splice(h,1)}},s.removeAllListeners=function(l){l||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[l]=void 0),this._defaultHandlers&&(this._defaultHandlers[l]=void 0)},r.EventEmitter=s}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,r,i){r.reportError=function(o,a){var l=new Error(o);l.data=a,typeof console=="object"&&console.error&&console.error(l),setTimeout(function(){throw l})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,r,i){var s={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};r.defaultEnglishMessages=s}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,r,i){"no use strict";var s=n("./oop"),o=n("./event_emitter").EventEmitter,a=n("./report_error").reportError,l=n("./default_english_messages").defaultEnglishMessages,u={setOptions:function(p){Object.keys(p).forEach(function(m){this.setOption(m,p[m])},this)},getOptions:function(p){var m={};if(p)Array.isArray(p)||(p=Object.keys(p));else{var g=this.$options;p=Object.keys(g).filter(function(y){return!g[y].hidden})}return p.forEach(function(y){m[y]=this.getOption(y)},this),m},setOption:function(p,m){if(this["$"+p]!==m){var g=this.$options[p];if(!g)return c('misspelled option "'+p+'"');if(g.forwardTo)return this[g.forwardTo]&&this[g.forwardTo].setOption(p,m);g.handlesSet||(this["$"+p]=m),g&&g.set&&g.set.call(this,m)}},getOption:function(p){var m=this.$options[p];return m?m.forwardTo?this[m.forwardTo]&&this[m.forwardTo].getOption(p):m&&m.get?m.get.call(this):this["$"+p]:c('misspelled option "'+p+'"')}};function c(p){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var h,d,f=function(){function p(){this.$defaultOptions={},h=l,d="dollarSigns"}return p.prototype.defineOptions=function(m,g,y){return m.$options||(this.$defaultOptions[g]=m.$options={}),Object.keys(y).forEach(function(b){var C=y[b];typeof C=="string"&&(C={forwardTo:C}),C.name||(C.name=b),m.$options[C.name]=C,"initialValue"in C&&(m["$"+C.name]=C.initialValue)}),s.implement(m,u),this},p.prototype.resetOptions=function(m){Object.keys(m.$options).forEach(function(g){var y=m.$options[g];"value"in y&&m.setOption(g,y.value)})},p.prototype.setDefaultValue=function(m,g,y){if(!m){for(m in this.$defaultOptions)if(this.$defaultOptions[m][g])break;if(!this.$defaultOptions[m][g])return!1}var b=this.$defaultOptions[m]||(this.$defaultOptions[m]={});b[g]&&(b.forwardTo?this.setDefaultValue(b.forwardTo,g,y):b[g].value=y)},p.prototype.setDefaultValues=function(m,g){Object.keys(g).forEach(function(y){this.setDefaultValue(m,y,g[y])},this)},p.prototype.setMessages=function(m,g){h=m,g&&g.placeholders&&(d=g.placeholders)},p.prototype.nls=function(m,g,y){h[m]||(c("No message found for the key '"+m+"' in messages with id "+h.$id+", trying to find a translation for the default string '"+g+"'."),h[g]||c("No message found for the default string '"+g+"' in the provided messages. Falling back to the default English message."));var b=h[m]||h[g]||g;return y&&(d==="dollarSigns"&&(b=b.replace(/\$(\$|[\d]+)/g,function(C,x){return x=="$"?"$":y[x]})),d==="curlyBrackets"&&(b=b.replace(/\{([^\}]+)\}/g,function(C,x){return y[x]}))),b},p}();f.prototype.warn=c,f.prototype.reportError=a,s.implement(f.prototype,o),r.AppConfig=f}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tm",r.cssText=n("./textmate-css"),r.$id="ace/theme/textmate";var s=n("../lib/dom");s.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,r,i){"no use strict";var s=n("./lib/lang"),o=n("./lib/net"),a=n("./lib/dom"),l=n("./lib/app_config").AppConfig;i.exports=r=new l;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(f){if(!u.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return u[f]},r.set=function(f,p){if(u.hasOwnProperty(f))u[f]=p;else if(this.setDefaultValue("",f,p)==!1)throw new Error("Unknown config key: "+f);f=="useStrictCSP"&&a.useStrictCSP(p)},r.all=function(){return s.copyObject(u)},r.$modes={},r.moduleUrl=function(f,p){if(u.$moduleUrls[f])return u.$moduleUrls[f];var m=f.split("/");p=p||m[m.length-2]||"";var g=p=="snippets"?"/":"-",y=m[m.length-1];if(p=="worker"&&g=="-"){var b=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");y=y.replace(b,"")}(!y||y==p)&&m.length>1&&(y=m[m.length-2]);var C=u[p+"Path"];return C==null?C=u.basePath:g=="/"&&(p=g=""),C&&C.slice(-1)!="/"&&(C+="/"),C+p+g+y+this.get("suffix")},r.setModuleUrl=function(f,p){return u.$moduleUrls[f]=p};var c=function(f,p){if(f==="ace/theme/textmate"||f==="./theme/textmate")return p(null,n("./theme/textmate"));if(h)return h(f,p);console.error("loader is not configured")},h;r.setLoader=function(f){h=f},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(f,p){var m;if(Array.isArray(f))var g=f[0],y=f[1];else if(typeof f=="string")var y=f;var b=function(C){if(C&&!r.$loading[y])return p&&p(C);if(r.$loading[y]||(r.$loading[y]=[]),r.$loading[y].push(p),!(r.$loading[y].length>1)){var x=function(){c(y,function(S,w){w&&(r.$loaded[y]=w),r._emit("load.module",{name:y,module:w});var k=r.$loading[y];r.$loading[y]=null,k.forEach(function(L){L&&L(w)})})};if(!r.get("packaged"))return x();o.loadScript(r.moduleUrl(y,g),x),d()}};if(r.dynamicModules[y])r.dynamicModules[y]().then(function(C){C.default?b(C.default):b(C)});else{try{m=this.$require(y)}catch{}b(m||r.$loaded[y])}},r.$require=function(f){if(typeof i.require=="function"){var p="require";return i[p](f)}},r.setModuleLoader=function(f,p){r.dynamicModules[f]=p};var d=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};r.version="1.43.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,r,i){n("./lib/fixoldbrowsers");var s=n("./config");s.setLoader(function(u,c){n([u],function(h){c(null,h)})});var o=function(){return this||typeof window<"u"&&window}();i.exports=function(u){s.init=a,s.$require=n,u.require=n},a(!0);function a(u){if(!(!o||!o.document)){s.set("packaged",u||n.packaged||i.packaged||o.define&&(void 0).packaged);var c={},h="",d=document.currentScript||document._currentScript,f=d&&d.ownerDocument||document;d&&d.src&&(h=d.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var p=f.getElementsByTagName("script"),m=0;m<p.length;m++){var g=p[m],y=g.src||g.getAttribute("src");if(y){for(var b=g.attributes,C=0,x=b.length;C<x;C++){var S=b[C];S.name.indexOf("data-ace-")===0&&(c[l(S.name.replace(/^data-ace-/,""))]=S.value)}var w=y.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);w&&(h=w[1])}}h&&(c.base=c.base||h,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var k in c)typeof c[k]<"u"&&s.set(k,c[k])}}function l(u){return u.replace(/-(.)/g,function(c,h){return h.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,r,i){var s=function(){function o(a,l,u,c){this.start={row:a,column:l},this.end={row:u,column:c}}return o.prototype.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},o.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},o.prototype.contains=function(a,l){return this.compare(a,l)==0},o.prototype.compareRange=function(a){var l,u=a.end,c=a.start;return l=this.compare(u.row,u.column),l==1?(l=this.compare(c.row,c.column),l==1?2:l==0?1:0):l==-1?-2:(l=this.compare(c.row,c.column),l==-1?-1:l==1?42:0)},o.prototype.comparePoint=function(a){return this.compare(a.row,a.column)},o.prototype.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},o.prototype.intersects=function(a){var l=this.compareRange(a);return l==-1||l==0||l==1},o.prototype.isEnd=function(a,l){return this.end.row==a&&this.end.column==l},o.prototype.isStart=function(a,l){return this.start.row==a&&this.start.column==l},o.prototype.setStart=function(a,l){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=l)},o.prototype.setEnd=function(a,l){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=l)},o.prototype.inside=function(a,l){return this.compare(a,l)==0?!(this.isEnd(a,l)||this.isStart(a,l)):!1},o.prototype.insideStart=function(a,l){return this.compare(a,l)==0?!this.isEnd(a,l):!1},o.prototype.insideEnd=function(a,l){return this.compare(a,l)==0?!this.isStart(a,l):!1},o.prototype.compare=function(a,l){return!this.isMultiLine()&&a===this.start.row?l<this.start.column?-1:l>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?l>=this.start.column?0:-1:this.end.row===a?l<=this.end.column?0:1:0},o.prototype.compareStart=function(a,l){return this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},o.prototype.compareEnd=function(a,l){return this.end.row==a&&this.end.column==l?1:this.compare(a,l)},o.prototype.compareInside=function(a,l){return this.end.row==a&&this.end.column==l?1:this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},o.prototype.clipRows=function(a,l){if(this.end.row>l)var u={row:l+1,column:0};else if(this.end.row<a)var u={row:a,column:0};if(this.start.row>l)var c={row:l+1,column:0};else if(this.start.row<a)var c={row:a,column:0};return o.fromPoints(c||this.start,u||this.end)},o.prototype.extend=function(a,l){var u=this.compare(a,l);if(u==0)return this;if(u==-1)var c={row:a,column:l};else var h={row:a,column:l};return o.fromPoints(c||this.start,h||this.end)},o.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},o.prototype.isMultiLine=function(){return this.start.row!==this.end.row},o.prototype.clone=function(){return o.fromPoints(this.start,this.end)},o.prototype.collapseRows=function(){return this.end.column==0?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},o.prototype.toScreenRange=function(a){var l=a.documentToScreenPosition(this.start),u=a.documentToScreenPosition(this.end);return new o(l.row,l.column,u.row,u.column)},o.prototype.moveBy=function(a,l){this.start.row+=a,this.start.column+=l,this.end.row+=a,this.end.column+=l},o}();s.fromPoints=function(o,a){return new s(o.row,o.column,a.row,a.column)},s.comparePoints=function(o,a){return o.row-a.row||o.column-a.column},r.Range=s}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,r,i){for(var s=n("./oop"),o={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},a={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},l=0;l<10;l++)a["Digit"+l]=48+l,a["Numpad"+l]=96+l,o.PRINTABLE_KEYS[48+l]=""+l,o.FUNCTION_KEYS[96+l]="Numpad"+l;for(var l=65;l<91;l++){var u=String.fromCharCode(l+32);a["Key"+u.toUpperCase()]=l,o.PRINTABLE_KEYS[l]=u}for(var l=1;l<13;l++)a["F"+l]=111+l,o.FUNCTION_KEYS[111+l]="F"+l;var c={Shift:16,Control:17,Alt:18,Meta:224};for(var h in c)a[h]=a[h+"Left"]=a[h+"Right"]=c[h];r.$codeToKeyCode=a,o.PRINTABLE_KEYS[173]="-";for(var d in o.FUNCTION_KEYS){var f=o.FUNCTION_KEYS[d].toLowerCase();o[f]=parseInt(d,10)}for(var d in o.PRINTABLE_KEYS){var f=o.PRINTABLE_KEYS[d].toLowerCase();o[f]=parseInt(d,10)}s.mixin(o,o.MODIFIER_KEYS),s.mixin(o,o.PRINTABLE_KEYS),s.mixin(o,o.FUNCTION_KEYS),o.enter=o.return,o.escape=o.esc,o.del=o.delete,function(){for(var p=["cmd","ctrl","alt","shift"],m=Math.pow(2,p.length);m--;)o.KEY_MODS[m]=p.filter(function(g){return m&o.KEY_MODS[g]}).join("-")+"-"}(),o.KEY_MODS[0]="",o.KEY_MODS[-1]="input-",s.mixin(r,o),r.default=r,r.keyCodeToString=function(p){var m=o[p];return typeof m!="string"&&(m=String.fromCharCode(p)),m.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var s=n("./keys"),o=n("./useragent"),a=null,l=0,u;function c(){u=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return u={passive:!1},!0}})}catch{}}function h(){return u==null&&c(),u}function d(C,x,S){this.elem=C,this.type=x,this.callback=S}d.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=r.addListener=function(C,x,S,w){C.addEventListener(x,S,h()),w&&w.$toDestroy.push(new d(C,x,S))},p=r.removeListener=function(C,x,S){C.removeEventListener(x,S,h())};r.stopEvent=function(C){return r.stopPropagation(C),r.preventDefault(C),!1},r.stopPropagation=function(C){C.stopPropagation&&C.stopPropagation()},r.preventDefault=function(C){C.preventDefault&&C.preventDefault()},r.getButton=function(C){return C.type=="dblclick"?0:C.type=="contextmenu"||o.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.button},r.capture=function(C,x,S){var w=C&&C.ownerDocument||document;function k(L){x&&x(L),S&&S(L),p(w,"mousemove",x),p(w,"mouseup",k),p(w,"dragstart",k)}return f(w,"mousemove",x),f(w,"mouseup",k),f(w,"dragstart",k),k},r.addMouseWheelListener=function(C,x,S){f(C,"wheel",function(w){var k=.15,L=w.deltaX||0,E=w.deltaY||0;switch(w.deltaMode){case w.DOM_DELTA_PIXEL:w.wheelX=L*k,w.wheelY=E*k;break;case w.DOM_DELTA_LINE:var N=15;w.wheelX=L*N,w.wheelY=E*N;break;case w.DOM_DELTA_PAGE:var _=150;w.wheelX=L*_,w.wheelY=E*_;break}x(w)},S)},r.addMultiMouseDownListener=function(C,x,S,w,k){var L=0,E,N,_,R={2:"dblclick",3:"tripleclick",4:"quadclick"};function M(T){if(r.getButton(T)!==0?L=0:T.detail>1?(L++,L>4&&(L=1)):L=1,o.isIE){var A=Math.abs(T.clientX-E)>5||Math.abs(T.clientY-N)>5;(!_||A)&&(L=1),_&&clearTimeout(_),_=setTimeout(function(){_=null},x[L-1]||600),L==1&&(E=T.clientX,N=T.clientY)}if(T._clicks=L,S[w]("mousedown",T),L>4)L=0;else if(L>1)return S[w](R[L],T)}Array.isArray(C)||(C=[C]),C.forEach(function(T){f(T,"mousedown",M,k)})};function m(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)}r.getModifierString=function(C){return s.KEY_MODS[m(C)]};function g(C,x,S){var w=m(x);if(!S&&x.code&&(S=s.$codeToKeyCode[x.code]||S),!o.isMac&&a){if(x.getModifierState&&(x.getModifierState("OS")||x.getModifierState("Win"))&&(w|=8),a.altGr)if((3&w)!=3)a.altGr=0;else return;if(S===18||S===17){var k=x.location;if(S===17&&k===1)a[S]==1&&(l=x.timeStamp);else if(S===18&&w===3&&k===2){var L=x.timeStamp-l;L<50&&(a.altGr=!0)}}}if(S in s.MODIFIER_KEYS&&(S=-1),!(!w&&S===13&&x.location===3&&(C(x,w,-S),x.defaultPrevented))){if(o.isChromeOS&&w&8){if(C(x,w,S),x.defaultPrevented)return;w&=-9}return!w&&!(S in s.FUNCTION_KEYS)&&!(S in s.PRINTABLE_KEYS)?!1:C(x,w,S)}}r.addCommandKeyListener=function(C,x,S){var w=null;f(C,"keydown",function(k){a[k.keyCode]=(a[k.keyCode]||0)+1;var L=g(x,k,k.keyCode);return w=k.defaultPrevented,L},S),f(C,"keypress",function(k){w&&(k.ctrlKey||k.altKey||k.shiftKey||k.metaKey)&&(r.stopEvent(k),w=null)},S),f(C,"keyup",function(k){a[k.keyCode]=null},S),a||(y(),f(window,"focus",y))};function y(){a=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!o.isOldIE){var b=1;r.nextTick=function(C,x){x=x||window;var S="zero-timeout-message-"+b++,w=function(k){k.data==S&&(r.stopPropagation(k),p(x,"message",w),C())};f(x,"message",w),x.postMessage(S,"*")}}r.$idleBlocked=!1,r.onIdle=function(C,x){return setTimeout(function S(){r.$idleBlocked?setTimeout(S,100):C()},x)},r.$idleBlockId=null,r.blockIdle=function(C){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},C||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(C){setTimeout(C,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,r,i){var s;i.exports={lineMode:!1,pasteCancelled:function(){return s&&s>Date.now()-50?!0:s=!1},cancel:function(){s=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,r,i){var s=n("../lib/event"),o=n("../config").nls,a=n("../lib/useragent"),l=n("../lib/dom"),u=n("../lib/lang"),c=n("../clipboard"),h=a.isChrome<18,d=a.isIE,f=a.isChrome>63,p=400,m=n("../lib/keys"),g=m.KEY_MODS,y=a.isIOS,b=y?/\s/:/\n/,C=a.isMobile,x=function(){function S(w,k){var L=this;this.host=k,this.text=l.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",w.insertBefore(this.text,w.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",C||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),s.addListener(this.text,"blur",function(E){L.ignoreFocusEvents||(k.onBlur(E),L.$isFocused=!1)},k),s.addListener(this.text,"focus",function(E){if(!L.ignoreFocusEvents){if(L.$isFocused=!0,a.isEdge)try{if(!document.hasFocus())return}catch{}k.onFocus(E),a.isEdge?setTimeout(L.resetSelection.bind(L)):L.resetSelection()}},k),this.$focusScroll=!1,k.on("beforeEndOperation",function(){var E=k.curOp,N=E&&E.command&&E.command.name;if(N!="insertstring"){var _=N&&(E.docChanged||E.selectionChanged);L.inComposition&&_&&(L.lastValue=L.text.value="",L.onCompositionEnd()),L.resetSelection()}}),k.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=y?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&k.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,s.addCommandKeyListener(this.text,function(E,N,_){if(!L.inComposition)return k.onCommandKey(E,N,_)},k),s.addListener(this.text,"select",this.onSelect.bind(this),k),s.addListener(this.text,"input",this.onInput.bind(this),k),s.addListener(this.text,"cut",this.onCut.bind(this),k),s.addListener(this.text,"copy",this.onCopy.bind(this),k),s.addListener(this.text,"paste",this.onPaste.bind(this),k),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&s.addListener(w,"keydown",function(E){if(!(a.isMac&&!E.metaKey||!E.ctrlKey))switch(E.keyCode){case 67:L.onCopy(E);break;case 86:L.onPaste(E);break;case 88:L.onCut(E);break}},k),this.syncComposition=u.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),s.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),k),s.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),k),s.addListener(this.text,"keyup",this.onKeyup.bind(this),k),s.addListener(this.text,"keydown",this.syncComposition.bind(this),k),s.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),k),this.closeTimeout,s.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),k),s.addListener(this.text,"mousedown",function(E){E.preventDefault(),L.onContextMenuClose()},k),s.addListener(k.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),k),s.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),k),y&&this.addIosSelectionHandler(w,k,this.text)}return S.prototype.addIosSelectionHandler=function(w,k,L){var E=this,N=null,_=!1;L.addEventListener("keydown",function(M){N&&clearTimeout(N),_=!0},!0),L.addEventListener("keyup",function(M){N=setTimeout(function(){_=!1},100)},!0);var R=function(M){if(document.activeElement===L&&!(_||E.inComposition||k.$mouseHandler.isMousePressed)&&!E.copied){var T=L.selectionStart,A=L.selectionEnd,$=null,D=0;if(T==0?$=m.up:T==1?$=m.home:A>E.lastSelectionEnd&&E.lastValue[A]==`
`?$=m.end:T<E.lastSelectionStart&&E.lastValue[T-1]==" "?($=m.left,D=g.option):T<E.lastSelectionStart||T==E.lastSelectionStart&&E.lastSelectionEnd!=E.lastSelectionStart&&T==A?$=m.left:A>E.lastSelectionEnd&&E.lastValue.slice(0,A).split(`
`).length>2?$=m.down:A>E.lastSelectionEnd&&E.lastValue[A-1]==" "?($=m.right,D=g.option):(A>E.lastSelectionEnd||A==E.lastSelectionEnd&&E.lastSelectionEnd!=E.lastSelectionStart&&T==A)&&($=m.right),T!==A&&(D|=g.shift),$){var O=k.onCommandKey({},D,$);if(!O&&k.commands){$=m.keyCodeToString($);var P=k.commands.findKeyCommand(D,$);P&&k.execCommand(P)}E.lastSelectionStart=T,E.lastSelectionEnd=A,E.resetSelection("")}}};document.addEventListener("selectionchange",R),k.on("destroy",function(){document.removeEventListener("selectionchange",R)})},S.prototype.onContextMenuClose=function(){var w=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){w.tempStyle&&(w.text.style.cssText=w.tempStyle,w.tempStyle=""),w.host.renderer.$isMousePressed=!1,w.host.renderer.$keepTextAreaAtCursor&&w.host.renderer.$moveTextAreaToCursor()},0)},S.prototype.$onContextMenu=function(w){this.host.textInput.onContextMenu(w),this.onContextMenuClose()},S.prototype.onKeyup=function(w){w.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},S.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},S.prototype.onCompositionStart=function(w){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){w.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var k=this.host.getSelectionRange();k.end.row=k.start.row,k.end.column=k.start.column,this.inComposition.markerRange=k,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},S.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var w=this.text.value;this.sendText(w),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},S.prototype.onCompositionEnd=function(w){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),w&&this.onInput())},S.prototype.onCut=function(w){this.doCopy(w,!0)},S.prototype.onCopy=function(w){this.doCopy(w,!1)},S.prototype.onPaste=function(w){var k=this.handleClipboardData(w);c.pasteCancelled()||(typeof k=="string"?(k&&this.host.onPaste(k,w),a.isIE&&setTimeout(this.resetSelection),s.preventDefault(w)):(this.text.value="",this.pasted=!0))},S.prototype.doCopy=function(w,k){var L=this,E=this.host.getCopyText();if(!E)return s.preventDefault(w);this.handleClipboardData(w,E)?(y&&(this.resetSelection(E),this.copied=E,setTimeout(function(){L.copied=!1},10)),k?this.host.onCut():this.host.onCopy(),s.preventDefault(w)):(this.copied=!0,this.text.value=E,this.text.select(),setTimeout(function(){L.copied=!1,L.resetSelection(),k?L.host.onCut():L.host.onCopy()}))},S.prototype.handleClipboardData=function(w,k,L){var E=w.clipboardData||window.clipboardData;if(!(!E||h)){var N=d||L?"Text":"text/plain";try{return k?E.setData(N,k)!==!1:E.getData(N)}catch(_){if(!L)return this.handleClipboardData(_,k,!0)}}},S.prototype.onInput=function(w){if(this.inComposition)return this.onCompositionUpdate();if(w&&w.inputType){if(w.inputType=="historyUndo")return this.host.execCommand("undo");if(w.inputType=="historyRedo")return this.host.execCommand("redo")}var k=this.text.value,L=this.sendText(k,!0);(k.length>p+100||b.test(L)||C&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},S.prototype.sendText=function(w,k){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),w&&this.host.onPaste(w),this.pasted=!1,"";for(var L=this.text.selectionStart,E=this.text.selectionEnd,N=this.lastSelectionStart,_=this.lastValue.length-this.lastSelectionEnd,R=w,M=w.length-L,T=w.length-E,A=0;N>0&&this.lastValue[A]==w[A];)A++,N--;for(R=R.slice(A),A=1;_>0&&this.lastValue.length-A>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-A]==w[w.length-A];)A++,_--;M-=A-1,T-=A-1;var $=R.length-A+1;if($<0&&(N=-$,$=0),R=R.slice(0,$),!k&&!R&&!M&&!N&&!_&&!T)return"";this.sendingText=!0;var D=!1;return a.isAndroid&&R==". "&&(R="  ",D=!0),R&&!N&&!_&&!M&&!T||this.commandMode?this.host.onTextInput(R):this.host.onTextInput(R,{extendLeft:N,extendRight:_,restoreStart:M,restoreEnd:T}),this.sendingText=!1,this.lastValue=w,this.lastSelectionStart=L,this.lastSelectionEnd=E,this.lastRestoreEnd=T,D?`
`:R},S.prototype.onSelect=function(w){var k=this;if(!this.inComposition){var L=function(E){return E.selectionStart===0&&E.selectionEnd>=k.lastValue.length&&E.value===k.lastValue&&k.lastValue&&E.selectionEnd!==k.lastSelectionEnd};this.copied?this.copied=!1:L(this.text)?(this.host.selectAll(),this.resetSelection()):C&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},S.prototype.$resetSelectionIOS=function(w){if(!(!this.$isFocused||this.copied&&!w||this.sendingText)){w||(w="");var k=`
 ab`+w+`cde fg
`;k!=this.text.value&&(this.text.value=this.lastValue=k);var L=4,E=4+(w.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=L||this.lastSelectionEnd!=E)&&this.text.setSelectionRange(L,E),this.lastSelectionStart=L,this.lastSelectionEnd=E}},S.prototype.$resetSelection=function(){var w=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var k=0,L=0,E="",N=function(P,I){for(var B=I,Y=1;Y<=P-w.rowStart&&Y<2*w.numberOfExtraLines+1;Y++)B+=w.host.session.getLine(P-Y).length+1;return B};if(this.host.session){var _=this.host.selection,R=_.getRange(),M=_.cursor.row;M===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):M===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(M<this.rowStart-1||M>this.rowEnd+1)&&(this.rowStart=M>this.numberOfExtraLines?M-this.numberOfExtraLines:0,this.rowEnd=M>this.numberOfExtraLines?M+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var T=[],A=this.rowStart;A<=this.rowEnd;A++)T.push(this.host.session.getLine(A));if(E=T.join(`
`),k=N(R.start.row,R.start.column),L=N(R.end.row,R.end.column),R.start.row<this.rowStart){var $=this.host.session.getLine(this.rowStart-1);k=R.start.row<this.rowStart-1?0:k,L+=$.length+1,E=$+`
`+E}else if(R.end.row>this.rowEnd){var D=this.host.session.getLine(this.rowEnd+1);L=R.end.row>this.rowEnd+1?D.length:R.end.column,L+=E.length+1,E=E+`
`+D}else C&&M>0&&(E=`
`+E,L+=1,k+=1);E.length>p&&(k<p&&L<p?E=E.slice(0,p):(E=`
`,k==L?k=L=0:(k=0,L=1)));var O=E+`

`;O!=this.lastValue&&(this.text.value=this.lastValue=O,this.lastSelectionStart=this.lastSelectionEnd=O.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=L||this.lastSelectionStart!=k||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(k,L),this.lastSelectionStart=k,this.lastSelectionEnd=L}catch{}this.inComposition=!1}},S.prototype.setHost=function(w){this.host=w},S.prototype.setNumberOfExtraLines=function(w){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,w<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=w},S.prototype.setAriaLabel=function(){var w="";if(this.host.$textInputAriaLabel&&(w+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var k=this.host.session.selection.cursor.row;w+=o("text-input.aria-label","Cursor at row $0",[k+1])}this.text.setAttribute("aria-label",w)},S.prototype.setAriaOptions=function(w){w.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",w.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",w.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),w.role&&this.text.setAttribute("role",w.role),w.setLabel&&(this.text.setAttribute("aria-roledescription",o("text-input.aria-roledescription","editor")),this.setAriaLabel())},S.prototype.focus=function(){var w=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||f||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var k=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var L=this.text.getBoundingClientRect().top!=0}catch{return}var E=[];if(L)for(var N=this.text.parentElement;N&&N.nodeType==1;)E.push(N),N.setAttribute("ace_nocontext","true"),!N.parentElement&&N.getRootNode?N=N.getRootNode().host:N=N.parentElement;this.text.focus({preventScroll:!0}),L&&E.forEach(function(_){_.removeAttribute("ace_nocontext")}),setTimeout(function(){w.text.style.position="",w.text.style.top=="0px"&&(w.text.style.top=k)},0)},S.prototype.blur=function(){this.text.blur()},S.prototype.isFocused=function(){return this.$isFocused},S.prototype.setInputHandler=function(w){this.inputHandler=w},S.prototype.getInputHandler=function(){return this.inputHandler},S.prototype.getElement=function(){return this.text},S.prototype.setCommandMode=function(w){this.commandMode=w,this.text.readOnly=!1},S.prototype.setReadOnly=function(w){this.commandMode||(this.text.readOnly=w)},S.prototype.setCopyWithEmptySelection=function(w){},S.prototype.onContextMenu=function(w){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:w}),this.moveToMouse(w,!0)},S.prototype.moveToMouse=function(w,k){var L=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(k?"z-index:100000;":"")+(a.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var E=this.host.container.getBoundingClientRect(),N=l.computedStyle(this.host.container),_=E.top+(parseInt(N.borderTopWidth)||0),R=E.left+(parseInt(N.borderLeftWidth)||0),M=E.bottom-_-this.text.clientHeight-2,T=function(A){l.translate(L.text,A.clientX-R-2,Math.min(A.clientY-_-2,M))};T(w),w.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),a.isWin&&s.capture(this.host.container,T,this.onContextMenuClose.bind(this)))},S.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},S}();r.TextInput=x,r.$setUserAgentForTests=function(S,w){C=S,y=w}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,r,i){var s=n("../lib/useragent"),o=0,a=550,l=function(){function h(d){d.$clickSelection=null;var f=d.editor;f.setDefaultHandler("mousedown",this.onMouseDown.bind(d)),f.setDefaultHandler("dblclick",this.onDoubleClick.bind(d)),f.setDefaultHandler("tripleclick",this.onTripleClick.bind(d)),f.setDefaultHandler("quadclick",this.onQuadClick.bind(d)),f.setDefaultHandler("mousewheel",this.onMouseWheel.bind(d));var p=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];p.forEach(function(m){d[m]=this[m]},this),d.selectByLines=this.extendSelectionBy.bind(d,"getLineRange"),d.selectByWords=this.extendSelectionBy.bind(d,"getWordRange")}return h.prototype.onMouseDown=function(d){var f=d.inSelection(),p=d.getDocumentPosition();this.mousedownEvent=d;var m=this.editor,g=d.getButton();if(g!==0){var y=m.getSelectionRange(),b=y.isEmpty();(b||g==1)&&m.selection.moveToPosition(p),g==2&&(m.textInput.onContextMenu(d.domEvent),s.isMozilla||d.preventDefault());return}if(this.mousedownEvent.time=Date.now(),f&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(d);return}return this.captureMouse(d),this.startSelect(p,d.domEvent._clicks>1),d.preventDefault()},h.prototype.startSelect=function(d,f){d=d||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var p=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?p.selection.selectToPosition(d):f||p.selection.moveToPosition(d),f||this.select(),p.setStyle("ace_selecting"),this.setState("select"))},h.prototype.select=function(){var d,f=this.editor,p=f.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(p);if(m==-1)d=this.$clickSelection.end;else if(m==1)d=this.$clickSelection.start;else{var g=c(this.$clickSelection,p);p=g.cursor,d=g.anchor}f.selection.setSelectionAnchor(d.row,d.column)}f.selection.selectToPosition(p),f.renderer.scrollCursorIntoView()},h.prototype.extendSelectionBy=function(d){var f,p=this.editor,m=p.renderer.screenToTextCoordinates(this.x,this.y),g=p.selection[d](m.row,m.column);if(this.$clickSelection){var y=this.$clickSelection.comparePoint(g.start),b=this.$clickSelection.comparePoint(g.end);if(y==-1&&b<=0)f=this.$clickSelection.end,(g.end.row!=m.row||g.end.column!=m.column)&&(m=g.start);else if(b==1&&y>=0)f=this.$clickSelection.start,(g.start.row!=m.row||g.start.column!=m.column)&&(m=g.end);else if(y==-1&&b==1)m=g.end,f=g.start;else{var C=c(this.$clickSelection,m);m=C.cursor,f=C.anchor}p.selection.setSelectionAnchor(f.row,f.column)}p.selection.selectToPosition(m),p.renderer.scrollCursorIntoView()},h.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},h.prototype.focusWait=function(){var d=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),f=Date.now();(d>o||f-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},h.prototype.onDoubleClick=function(d){var f=d.getDocumentPosition(),p=this.editor,m=p.session,g=m.getBracketRange(f);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.setState("select")):(g=p.selection.getWordRange(f.row,f.column),this.setState("selectByWords")),this.$clickSelection=g,this.select()},h.prototype.onTripleClick=function(d){var f=d.getDocumentPosition(),p=this.editor;this.setState("selectByLines");var m=p.getSelectionRange();m.isMultiLine()&&m.contains(f.row,f.column)?(this.$clickSelection=p.selection.getLineRange(m.start.row),this.$clickSelection.end=p.selection.getLineRange(m.end.row).end):this.$clickSelection=p.selection.getLineRange(f.row),this.select()},h.prototype.onQuadClick=function(d){var f=this.editor;f.selectAll(),this.$clickSelection=f.getSelectionRange(),this.setState("selectAll")},h.prototype.onMouseWheel=function(d){if(!d.getAccelKey()){d.getShiftKey()&&d.wheelY&&!d.wheelX&&(d.wheelX=d.wheelY,d.wheelY=0);var f=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var p=this.$lastScroll,m=d.domEvent.timeStamp,g=m-p.t,y=g?d.wheelX/g:p.vx,b=g?d.wheelY/g:p.vy;g<a&&(y=(y+p.vx)/2,b=(b+p.vy)/2);var C=Math.abs(y/b),x=!1;if(C>=1&&f.renderer.isScrollableBy(d.wheelX*d.speed,0)&&(x=!0),C<=1&&f.renderer.isScrollableBy(0,d.wheelY*d.speed)&&(x=!0),x)p.allowed=m;else if(m-p.allowed<a){var S=Math.abs(y)<=1.5*Math.abs(p.vx)&&Math.abs(b)<=1.5*Math.abs(p.vy);S?(x=!0,p.allowed=m):p.allowed=0}if(p.t=m,p.vx=y,p.vy=b,x)return f.renderer.scrollBy(d.wheelX*d.speed,d.wheelY*d.speed),d.stop()}},h}();l.prototype.selectEnd=l.prototype.selectByLinesEnd,l.prototype.selectAllEnd=l.prototype.selectByLinesEnd,l.prototype.selectByWordsEnd=l.prototype.selectByLinesEnd,r.DefaultHandlers=l;function u(h,d,f,p){return Math.sqrt(Math.pow(f-h,2)+Math.pow(p-d,2))}function c(h,d){if(h.start.row==h.end.row)var f=2*d.column-h.start.column-h.end.column;else if(h.start.row==h.end.row-1&&!h.start.column&&!h.end.column)var f=d.column-4;else var f=2*d.row-h.start.row-h.end.row;return f<0?{cursor:h.start,anchor:h.end}:{cursor:h.end,anchor:h.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(n,r,i){r.preventParentScroll=function(o){o.stopPropagation();var a=o.currentTarget,l=a.scrollHeight>a.clientHeight;l||o.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,r,i){var s=this&&this.__extends||function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&(b[x]=C[x])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function b(){this.constructor=g}g.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),o=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&m[g],b=0;if(y)return y.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&b>=m.length&&(m=void 0),{value:m&&m[b++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},a=n("./lib/dom");n("./lib/event");var l=n("./range").Range,u=n("./lib/scroll").preventParentScroll,c="ace_tooltip",h=function(){function m(g){this.isOpen=!1,this.$element=null,this.$parentNode=g}return m.prototype.$init=function(){return this.$element=a.createElement("div"),this.$element.className=c,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},m.prototype.getElement=function(){return this.$element||this.$init()},m.prototype.setText=function(g){this.getElement().textContent=g},m.prototype.setHtml=function(g){this.getElement().innerHTML=g},m.prototype.setPosition=function(g,y){this.getElement().style.left=g+"px",this.getElement().style.top=y+"px"},m.prototype.setClassName=function(g){a.addCssClass(this.getElement(),g)},m.prototype.setTheme=function(g){this.$element.className=c+" "+(g.isDark?"ace_dark ":"")+(g.cssClass||"")},m.prototype.show=function(g,y,b){g!=null&&this.setText(g),y!=null&&b!=null&&this.setPosition(y,b),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},m.prototype.hide=function(g){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=c,this.isOpen=!1)},m.prototype.getHeight=function(){return this.getElement().offsetHeight},m.prototype.getWidth=function(){return this.getElement().offsetWidth},m.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},m}(),d=function(){function m(){this.popups=[]}return m.prototype.addPopup=function(g){this.popups.push(g),this.updatePopups()},m.prototype.removePopup=function(g){var y=this.popups.indexOf(g);y!==-1&&(this.popups.splice(y,1),this.updatePopups())},m.prototype.updatePopups=function(){var g,y,b,C;this.popups.sort(function(R,M){return M.priority-R.priority});var x=[];try{for(var S=o(this.popups),w=S.next();!w.done;w=S.next()){var k=w.value,L=!0;try{for(var E=(b=void 0,o(x)),N=E.next();!N.done;N=E.next()){var _=N.value;if(this.doPopupsOverlap(_,k)){L=!1;break}}}catch(R){b={error:R}}finally{try{N&&!N.done&&(C=E.return)&&C.call(E)}finally{if(b)throw b.error}}L?x.push(k):k.hide()}}catch(R){g={error:R}}finally{try{w&&!w.done&&(y=S.return)&&y.call(S)}finally{if(g)throw g.error}}},m.prototype.doPopupsOverlap=function(g,y){var b=g.getElement().getBoundingClientRect(),C=y.getElement().getBoundingClientRect();return b.left<C.right&&b.right>C.left&&b.top<C.bottom&&b.bottom>C.top},m}(),f=new d;r.popupManager=f,r.Tooltip=h;var p=function(m){s(g,m);function g(y){y===void 0&&(y=document.body);var b=m.call(this,y)||this;b.timeout=void 0,b.lastT=0,b.idleTime=350,b.lastEvent=void 0,b.onMouseOut=b.onMouseOut.bind(b),b.onMouseMove=b.onMouseMove.bind(b),b.waitForHover=b.waitForHover.bind(b),b.hide=b.hide.bind(b);var C=b.getElement();return C.style.whiteSpace="pre-wrap",C.style.pointerEvents="auto",C.addEventListener("mouseout",b.onMouseOut),C.tabIndex=-1,C.addEventListener("blur",(function(){C.contains(document.activeElement)||this.hide()}).bind(b)),C.addEventListener("wheel",u),b}return g.prototype.addToEditor=function(y){y.on("mousemove",this.onMouseMove),y.on("mousedown",this.hide),y.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},g.prototype.removeFromEditor=function(y){y.off("mousemove",this.onMouseMove),y.off("mousedown",this.hide),y.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},g.prototype.onMouseMove=function(y,b){this.lastEvent=y,this.lastT=Date.now();var C=b.$mouseHandler.isMousePressed;if(this.isOpen){var x=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(x.row,x.column)||C||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||C||(this.lastEvent=y,this.timeout=setTimeout(this.waitForHover,this.idleTime))},g.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var y=Date.now()-this.lastT;if(this.idleTime-y>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-y);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},g.prototype.isOutsideOfText=function(y){var b=y.editor,C=y.getDocumentPosition(),x=b.session.getLine(C.row);if(C.column==x.length){var S=b.renderer.pixelToScreenCoordinates(y.clientX,y.clientY),w=b.session.documentToScreenPosition(C.row,C.column);if(w.column!=S.column||w.row!=S.row)return!0}return!1},g.prototype.setDataProvider=function(y){this.$gatherData=y},g.prototype.showForRange=function(y,b,C,x){var S=10;if(!(x&&x!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var w=y.renderer;this.isOpen||(f.addPopup(this),this.$registerCloseEvents(),this.setTheme(w.theme)),this.isOpen=!0,this.addMarker(b,y.session),this.range=l.fromPoints(b.start,b.end);var k=w.textToScreenCoordinates(b.start.row,b.start.column),L=w.scroller.getBoundingClientRect();k.pageX<L.left&&(k.pageX=L.left);var E=this.getElement();E.innerHTML="",E.appendChild(C),E.style.maxHeight="",E.style.display="block";var N=E.clientHeight,_=E.clientWidth,R=window.innerHeight-k.pageY-w.lineHeight,M=!0;k.pageY-N<0&&k.pageY<R&&(M=!1),E.style.maxHeight=(M?k.pageY:R)-S+"px",E.style.top=M?"":k.pageY+w.lineHeight+"px",E.style.bottom=M?window.innerHeight-k.pageY+"px":"",E.style.left=Math.min(k.pageX,window.innerWidth-_-S)+"px"}},g.prototype.addMarker=function(y,b){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=b,this.marker=b&&b.addMarker(y,"ace_highlight-marker","text")},g.prototype.hide=function(y){!y&&document.activeElement==this.getElement()||y&&y.target&&(y.type!="keydown"||y.ctrlKey||y.metaKey)&&this.$element.contains(y.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,f.removePopup(this)))},g.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},g.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},g.prototype.onMouseOut=function(y){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!y.relatedTarget||this.getElement().contains(y.relatedTarget)||y&&y.currentTarget.contains(y.relatedTarget)||y.relatedTarget.classList.contains("ace_content")||this.hide())},g}(h);r.HoverTooltip=p}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,r,i){var s=this&&this.__extends||function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&(b[x]=C[x])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function b(){this.constructor=g}g.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),o=this&&this.__values||function(m){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&m[g],b=0;if(y)return y.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&b>=m.length&&(m=void 0),{value:m&&m[b++],done:!m}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},a=n("../lib/dom"),l=n("../lib/event"),u=n("../tooltip").Tooltip,c=n("../config").nls,h=5,d=3;r.GUTTER_TOOLTIP_LEFT_OFFSET=h,r.GUTTER_TOOLTIP_TOP_OFFSET=d;function f(m){var g=m.editor,y=g.renderer.$gutterLayer,b=new p(g,!0);m.editor.setDefaultHandler("guttermousedown",function(L){if(!(!g.isFocused()||L.getButton()!=0)){var E=y.getRegion(L);if(E!="foldWidgets"){var N=L.getDocumentPosition().row,_=g.session.selection;if(L.getShiftKey())_.selectTo(N,0);else{if(L.domEvent.detail==2)return g.selectAll(),L.preventDefault();m.$clickSelection=g.selection.getLineRange(N)}return m.setState("selectByLines"),m.captureMouse(L),L.preventDefault()}}});var C,x;function S(){var L=x.getDocumentPosition().row,E=g.session.getLength();if(L==E){var N=g.renderer.pixelToScreenCoordinates(0,x.y).row,_=x.$pos;if(N>g.session.documentToScreenRow(_.row,_.column))return w()}if(b.showTooltip(L),!!b.isOpen)if(g.on("mousewheel",w),g.on("changeSession",w),window.addEventListener("keydown",w,!0),m.$tooltipFollowsMouse)k(x);else{var R=x.getGutterRow(),M=y.$lines.get(R);if(M){var T=M.element.querySelector(".ace_gutter_annotation"),A=T.getBoundingClientRect(),$=b.getElement().style;$.left=A.right-h+"px",$.top=A.bottom-d+"px"}else k(x)}}function w(L){L&&L.type==="keydown"&&(L.ctrlKey||L.metaKey)||L&&L.type==="mouseout"&&(!L.relatedTarget||b.getElement().contains(L.relatedTarget))||(C&&(C=clearTimeout(C)),b.isOpen&&(b.hideTooltip(),g.off("mousewheel",w),g.off("changeSession",w),window.removeEventListener("keydown",w,!0)))}function k(L){b.setPosition(L.x,L.y)}m.editor.setDefaultHandler("guttermousemove",function(L){var E=L.domEvent.target||L.domEvent.srcElement;if(a.hasCssClass(E,"ace_fold-widget")||a.hasCssClass(E,"ace_custom-widget"))return w();b.isOpen&&m.$tooltipFollowsMouse&&k(L),x=L,!C&&(C=setTimeout(function(){C=null,x&&!m.isMousePressed&&S()},50))}),l.addListener(g.renderer.$gutter,"mouseout",function(L){x=null,b.isOpen&&(C=setTimeout(function(){C=null,w(L)},50))},g)}r.GutterHandler=f;var p=function(m){s(g,m);function g(y,b){b===void 0&&(b=!1);var C=m.call(this,y.container)||this;C.id="gt"+ ++g.$uid,C.editor=y,C.visibleTooltipRow;var x=C.getElement();return x.setAttribute("role","tooltip"),x.setAttribute("id",C.id),x.style.pointerEvents="auto",b&&(C.onMouseOut=C.onMouseOut.bind(C),x.addEventListener("mouseout",C.onMouseOut)),C}return g.prototype.onMouseOut=function(y){this.isOpen&&(!y.relatedTarget||this.getElement().contains(y.relatedTarget)||y&&y.currentTarget.contains(y.relatedTarget)||this.hideTooltip())},g.prototype.setPosition=function(y,b){var C=window.innerWidth||document.documentElement.clientWidth,x=window.innerHeight||document.documentElement.clientHeight,S=this.getWidth(),w=this.getHeight();y+=15,b+=15,y+S>C&&(y-=y+S-C),b+w>x&&(b-=20+w),u.prototype.setPosition.call(this,y,b)},Object.defineProperty(g,"annotationLabels",{get:function(){return{error:{singular:c("gutter-tooltip.aria-label.error.singular","error"),plural:c("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:c("gutter-tooltip.aria-label.security.singular","security finding"),plural:c("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:c("gutter-tooltip.aria-label.warning.singular","warning"),plural:c("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:c("gutter-tooltip.aria-label.info.singular","information message"),plural:c("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:c("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:c("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),g.prototype.showTooltip=function(y){var b,C=this.editor.renderer.$gutterLayer,x=C.$annotations[y],S;x?S={displayText:Array.from(x.displayText),type:Array.from(x.type)}:S={displayText:[],type:[]};var w=C.session.getFoldLine(y);if(w&&C.$showFoldedAnnotations){for(var k={error:[],security:[],warning:[],info:[],hint:[]},L={error:1,security:2,warning:3,info:4,hint:5},E,N=y+1;N<=w.end.row;N++)if(C.$annotations[N])for(var _=0;_<C.$annotations[N].text.length;_++){var R=C.$annotations[N].type[_];k[R].push(C.$annotations[N].text[_]),(!E||L[R]<L[E])&&(E=R)}if(["error","security","warning"].includes(E)){var M="".concat(g.annotationsToSummaryString(k)," in folded code.");S.displayText.push(M),S.type.push(E+"_fold")}}if(S.displayText.length===0)return this.hideTooltip();for(var T={error:[],security:[],warning:[],info:[],hint:[]},A=C.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",N=0;N<S.displayText.length;N++){var $=a.createElement("span"),D=a.createElement("span");(b=D.classList).add.apply(b,["ace_".concat(S.type[N]),A]),D.setAttribute("aria-label","".concat(g.annotationLabels[S.type[N].replace("_fold","")].singular)),D.setAttribute("role","img"),D.appendChild(a.createTextNode(" ")),$.appendChild(D),$.appendChild(a.createTextNode(S.displayText[N])),$.appendChild(a.createElement("br")),T[S.type[N].replace("_fold","")].push($)}var O=this.getElement();a.removeChildren(O),T.error.forEach(function(I){return O.appendChild(I)}),T.security.forEach(function(I){return O.appendChild(I)}),T.warning.forEach(function(I){return O.appendChild(I)}),T.info.forEach(function(I){return O.appendChild(I)}),T.hint.forEach(function(I){return O.appendChild(I)}),O.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip"));var P=this.$findLinkedAnnotationNode(y);P&&P.setAttribute("aria-describedby",this.id),this.show(),this.visibleTooltipRow=y,this.editor._signal("showGutterTooltip",this)},g.prototype.$findLinkedAnnotationNode=function(y){var b=this.$findCellByRow(y);if(b){var C=b.element;if(C.childNodes.length>2)return C.childNodes[2]}},g.prototype.$findCellByRow=function(y){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(b){return b.row===y})},g.prototype.hideTooltip=function(){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow!=null){var y=this.$findLinkedAnnotationNode(this.visibleTooltipRow);y&&y.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this)}},g.annotationsToSummaryString=function(y){var b,C,x=[],S=["error","security","warning","info","hint"];try{for(var w=o(S),k=w.next();!k.done;k=w.next()){var L=k.value;if(y[L].length){var E=y[L].length===1?g.annotationLabels[L].singular:g.annotationLabels[L].plural;x.push("".concat(y[L].length," ").concat(E))}}}catch(N){b={error:N}}finally{try{k&&!k.done&&(C=w.return)&&C.call(w)}finally{if(b)throw b.error}}return x.join(", ")},g}(u);p.$uid=0,r.GutterTooltip=p}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var s=n("../lib/event"),o=n("../lib/useragent"),a=function(){function l(u,c){this.speed,this.wheelX,this.wheelY,this.domEvent=u,this.editor=c,this.x=this.clientX=u.clientX,this.y=this.clientY=u.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return l.prototype.stopPropagation=function(){s.stopPropagation(this.domEvent),this.propagationStopped=!0},l.prototype.preventDefault=function(){s.preventDefault(this.domEvent),this.defaultPrevented=!0},l.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},l.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},l.prototype.getGutterRow=function(){var u=this.getDocumentPosition().row,c=this.editor.session.documentToScreenRow(u,0),h=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return c-h},l.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var u=this.editor,c=u.getSelectionRange();if(c.isEmpty())this.$inSelection=!1;else{var h=this.getDocumentPosition();this.$inSelection=c.contains(h.row,h.column)}return this.$inSelection},l.prototype.getButton=function(){return s.getButton(this.domEvent)},l.prototype.getShiftKey=function(){return this.domEvent.shiftKey},l.prototype.getAccelKey=function(){return o.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},l}();r.MouseEvent=a}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,r,i){var s=n("../lib/dom"),o=n("../lib/event"),a=n("../lib/useragent"),l=200,u=200,c=5;function h(f){var p=f.editor,m=s.createElement("div");m.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",m.textContent=" ";var g=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];g.forEach(function(H){f[H]=this[H]},this),p.on("mousedown",this.onMouseDown.bind(f));var y=p.container,b,C,x,S,w,k,L=0,E,N,_,R,M;this.onDragStart=function(H){if(this.cancelDrag||!y.draggable){var U=this;return setTimeout(function(){U.startSelect(),U.captureMouse(H)},0),H.preventDefault()}w=p.getSelectionRange();var q=H.dataTransfer;q.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(m),q.setDragImage&&q.setDragImage(m,0,0),setTimeout(function(){p.container.removeChild(m)}),q.clearData(),q.setData("Text",p.session.getTextRange()),N=!0,this.setState("drag")},this.onDragEnd=function(H){if(y.draggable=!1,N=!1,this.setState(null),!p.getReadOnly()){var U=H.dataTransfer.dropEffect;!E&&U=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(H){if(!(p.getReadOnly()||!B(H.dataTransfer)))return C=H.clientX,x=H.clientY,b||D(),L++,H.dataTransfer.dropEffect=E=Y(H),o.preventDefault(H)},this.onDragOver=function(H){if(!(p.getReadOnly()||!B(H.dataTransfer)))return C=H.clientX,x=H.clientY,b||(D(),L++),P!==null&&(P=null),H.dataTransfer.dropEffect=E=Y(H),o.preventDefault(H)},this.onDragLeave=function(H){if(L--,L<=0&&b)return O(),E=null,o.preventDefault(H)},this.onDrop=function(H){if(k){var U=H.dataTransfer;if(N)switch(E){case"move":w.contains(k.row,k.column)?w={start:k,end:k}:w=p.moveText(w,k);break;case"copy":w=p.moveText(w,k,!0);break}else{var q=U.getData("Text");w={start:k,end:p.session.insert(k,q)},p.focus(),E=null}return O(),o.preventDefault(H)}},o.addListener(y,"dragstart",this.onDragStart.bind(f),p),o.addListener(y,"dragend",this.onDragEnd.bind(f),p),o.addListener(y,"dragenter",this.onDragEnter.bind(f),p),o.addListener(y,"dragover",this.onDragOver.bind(f),p),o.addListener(y,"dragleave",this.onDragLeave.bind(f),p),o.addListener(y,"drop",this.onDrop.bind(f),p);function T(H,U){var q=Date.now(),K=!U||H.row!=U.row,Q=!U||H.column!=U.column;if(!R||K||Q)p.moveCursorToPosition(H),R=q,M={x:C,y:x};else{var ee=d(M.x,M.y,C,x);ee>c?R=null:q-R>=u&&(p.renderer.scrollCursorIntoView(),R=null)}}function A(H,U){var q=Date.now(),K=p.renderer.layerConfig.lineHeight,Q=p.renderer.layerConfig.characterWidth,ee=p.renderer.scroller.getBoundingClientRect(),re={x:{left:C-ee.left,right:ee.right-C},y:{top:x-ee.top,bottom:ee.bottom-x}},ae=Math.min(re.x.left,re.x.right),be=Math.min(re.y.top,re.y.bottom),Ae={row:H.row,column:H.column};ae/Q<=2&&(Ae.column+=re.x.left<re.x.right?-3:2),be/K<=1&&(Ae.row+=re.y.top<re.y.bottom?-1:1);var Le=H.row!=Ae.row,He=H.column!=Ae.column,Ue=!U||H.row!=U.row;Le||He&&!Ue?_?q-_>=l&&p.renderer.scrollCursorIntoView(Ae):_=q:_=null}function $(){var H=k;k=p.renderer.screenToTextCoordinates(C,x),T(k,H),A(k,H)}function D(){w=p.selection.toOrientedRange(),b=p.session.addMarker(w,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(S),$(),S=setInterval($,20),L=0,o.addListener(document,"mousemove",I)}function O(){clearInterval(S),p.session.removeMarker(b),b=null,p.selection.fromOrientedRange(w),p.isFocused()&&!N&&p.$resetCursorStyle(),w=null,k=null,L=0,_=null,R=null,o.removeListener(document,"mousemove",I)}var P=null;function I(){P==null&&(P=setTimeout(function(){P!=null&&b&&O()},20))}function B(H){var U=H.types;return!U||Array.prototype.some.call(U,function(q){return q=="text/plain"||q=="Text"})}function Y(H){var U=["copy","copymove","all","uninitialized"],q=["move","copymove","linkmove","all","uninitialized"],K=a.isMac?H.altKey:H.ctrlKey,Q="uninitialized";try{Q=H.dataTransfer.effectAllowed.toLowerCase()}catch{}var ee="none";return K&&U.indexOf(Q)>=0?ee="copy":q.indexOf(Q)>=0?ee="move":U.indexOf(Q)>=0&&(ee="copy"),ee}}(function(){this.dragWait=function(){var f=Date.now()-this.mousedownEvent.time;f>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var f=this.editor.container;f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor,p=f.container;p.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging");var m=a.isWin?"default":"move";f.renderer.setCursorStyle(m),this.setState("dragReady")},this.onMouseDrag=function(f){var p=this.editor.container;if(a.isIE&&this.state=="dragReady"){var m=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>3&&p.dragDrop()}if(this.state==="dragWait"){var m=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);m>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(f){if(this.$dragEnabled){this.mousedownEvent=f;var p=this.editor,m=f.inSelection(),g=f.getButton(),y=f.domEvent.detail||1;if(y===1&&g===0&&m){if(f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey()))return;this.mousedownEvent.time=Date.now();var b=f.domEvent.target||f.domEvent.srcElement;if("unselectable"in b&&(b.unselectable="on"),p.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var C=p.container;C.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0}}}}).call(h.prototype);function d(f,p,m,g){return Math.sqrt(Math.pow(m-f,2)+Math.pow(g-p,2))}r.DragdropHandler=h}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,r,i){var s=n("./mouse_event").MouseEvent,o=n("../lib/event"),a=n("../lib/dom");r.addTouchListeners=function(l,u){var c="scroll",h,d,f,p,m,g,y=0,b,C=0,x=0,S=0,w,k;function L(){var T=window.navigator&&window.navigator.clipboard,A=!1,$=function(){var P=u.getCopyText(),I=u.session.getUndoManager().hasUndo();k.replaceChild(a.buildDom(A?["span",!P&&D("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],P&&D("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],P&&D("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],T&&D("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],I&&D("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],D("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],D("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),k.firstChild)},D=function(P){return u.commands.canExecute(P,u)},O=function(P){var I=P.target.getAttribute("action");if(I=="more"||!A)return A=!A,$();I=="paste"?T.readText().then(function(B){u.execCommand(I,B)}):I&&((I=="cut"||I=="copy")&&(T?T.writeText(u.getCopyText()):document.execCommand("copy")),u.execCommand(I)),k.firstChild.style.display="none",A=!1,I!="openCommandPalette"&&u.focus()};k=a.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(P){c="menu",P.stopPropagation(),P.preventDefault(),u.textInput.focus()},ontouchend:function(P){P.stopPropagation(),P.preventDefault(),O(P)},onclick:O},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],u.container)}function E(){if(!u.getOption("enableMobileMenu")){k&&N();return}k||L();var T=u.selection.cursor,A=u.renderer.textToScreenCoordinates(T.row,T.column),$=u.renderer.textToScreenCoordinates(0,0).pageX,D=u.renderer.scrollLeft,O=u.container.getBoundingClientRect();k.style.top=A.pageY-O.top-3+"px",A.pageX-O.left<O.width-70?(k.style.left="",k.style.right="10px"):(k.style.right="",k.style.left=$+D-O.left+"px"),k.style.display="",k.firstChild.style.display="none",u.on("input",N)}function N(T){k&&(k.style.display="none"),u.off("input",N)}function _(){m=null,clearTimeout(m);var T=u.selection.getRange(),A=T.contains(b.row,b.column);(T.isEmpty()||!A)&&(u.selection.moveToPosition(b),u.selection.selectWord()),c="wait",E()}function R(){m=null,clearTimeout(m),u.selection.moveToPosition(b);var T=C>=2?u.selection.getLineRange(b.row):u.session.getBracketRange(b);T&&!T.isEmpty()?u.selection.setRange(T):u.selection.selectWord(),c="wait"}o.addListener(l,"contextmenu",function(T){if(w){var A=u.textInput.getElement();A.focus()}},u),o.addListener(l,"touchstart",function(T){var A=T.touches;if(m||A.length>1){clearTimeout(m),m=null,f=-1,c="zoom";return}w=u.$mouseHandler.isMousePressed=!0;var $=u.renderer.layerConfig.lineHeight,D=u.renderer.layerConfig.lineHeight,O=T.timeStamp;p=O;var P=A[0],I=P.clientX,B=P.clientY;Math.abs(h-I)+Math.abs(d-B)>$&&(f=-1),h=T.clientX=I,d=T.clientY=B,x=S=0;var Y=new s(T,u);if(b=Y.getDocumentPosition(),O-f<500&&A.length==1&&!y)C++,T.preventDefault(),T.button=0,R();else{C=0;var H=u.selection.cursor,U=u.selection.isEmpty()?H:u.selection.anchor,q=u.renderer.$cursorLayer.getPixelPosition(H,!0),K=u.renderer.$cursorLayer.getPixelPosition(U,!0),Q=u.renderer.scroller.getBoundingClientRect(),ee=u.renderer.layerConfig.offset,re=u.renderer.scrollLeft,ae=function(Le,He){return Le=Le/D,He=He/$-.75,Le*Le+He*He};if(T.clientX<Q.left){c="zoom";return}var be=ae(T.clientX-Q.left-q.left+re,T.clientY-Q.top-q.top+ee),Ae=ae(T.clientX-Q.left-K.left+re,T.clientY-Q.top-K.top+ee);be<3.5&&Ae<3.5&&(c=be>Ae?"cursor":"anchor"),Ae<3.5?c="anchor":be<3.5?c="cursor":c="scroll",m=setTimeout(_,450)}f=O},u),o.addListener(l,"touchend",function(T){w=u.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),c=="zoom"?(c="",y=0):m?(u.selection.moveToPosition(b),y=0,E()):c=="scroll"?(M(),N()):E(),clearTimeout(m),m=null},u),o.addListener(l,"touchmove",function(T){m&&(clearTimeout(m),m=null);var A=T.touches;if(!(A.length>1||c=="zoom")){var $=A[0],D=h-$.clientX,O=d-$.clientY;if(c=="wait")if(D*D+O*O>4)c="cursor";else return T.preventDefault();h=$.clientX,d=$.clientY,T.clientX=$.clientX,T.clientY=$.clientY;var P=T.timeStamp,I=P-p;if(p=P,c=="scroll"){var B=new s(T,u);B.speed=1,B.wheelX=D,B.wheelY=O,10*Math.abs(D)<Math.abs(O)&&(D=0),10*Math.abs(O)<Math.abs(D)&&(O=0),I!=0&&(x=D/I,S=O/I),u._emit("mousewheel",B),B.propagationStopped||(x=S=0)}else{var Y=new s(T,u),H=Y.getDocumentPosition();c=="cursor"?u.selection.moveCursorToPosition(H):c=="anchor"&&u.selection.setSelectionAnchor(H.row,H.column),u.renderer.scrollCursorIntoView(H),T.preventDefault()}}},u);function M(){y+=60,g=setInterval(function(){y--<=0&&(clearInterval(g),g=null),Math.abs(x)<.01&&(x=0),Math.abs(S)<.01&&(S=0),y<20&&(x=.9*x),y<20&&(S=.9*S);var T=u.session.getScrollTop();u.renderer.scrollBy(10*x,10*S),T==u.session.getScrollTop()&&(y=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,r,i){var s=n("../lib/event"),o=n("../lib/useragent"),a=n("./default_handlers").DefaultHandlers,l=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,c=n("./dragdrop_handler").DragdropHandler,h=n("./touch_handler").addTouchListeners,d=n("../config"),f=function(){function p(m){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var g=this;this.editor=m,new a(this),new l(this),new c(this);var y=function(x){var S=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());S&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},b=m.renderer.getMouseEventTarget();s.addListener(b,"click",this.onMouseEvent.bind(this,"click"),m),s.addListener(b,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),s.addMultiMouseDownListener([b,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),s.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),h(m.container,m);var C=m.renderer.$gutter;s.addListener(C,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),s.addListener(C,"click",this.onMouseEvent.bind(this,"gutterclick"),m),s.addListener(C,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),s.addListener(C,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),s.addListener(b,"mousedown",y,m),s.addListener(C,"mousedown",y,m),o.isIE&&m.renderer.scrollBarV&&(s.addListener(m.renderer.scrollBarV.element,"mousedown",y,m),s.addListener(m.renderer.scrollBarH.element,"mousedown",y,m)),m.on("mousemove",function(x){if(!(g.state||g.$dragDelay||!g.$dragEnabled)){var S=m.renderer.screenToTextCoordinates(x.x,x.y),w=m.session.selection.getRange(),k=m.renderer;!w.isEmpty()&&w.insideStart(S.row,S.column)?k.setCursorStyle("default"):k.setCursorStyle("")}},m)}return p.prototype.onMouseEvent=function(m,g){this.editor.session&&this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseMove=function(m,g){var y=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!y||!y.length||this.editor._emit(m,new u(g,this.editor))},p.prototype.onMouseWheel=function(m,g){var y=new u(g,this.editor);y.speed=this.$scrollSpeed*2,y.wheelX=g.wheelX,y.wheelY=g.wheelY,this.editor._emit(m,y)},p.prototype.setState=function(m){this.state=m},p.prototype.captureMouse=function(m,g){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var y=this.editor,b=this.editor.renderer;b.$isMousePressed=!0;var C=this,x=!0,S=function(N){if(N){if(o.isWebKit&&!N.which&&C.releaseMouse)return C.releaseMouse();C.x=N.clientX,C.y=N.clientY,g&&g(N),C.mouseEvent=new u(N,C.editor),C.$mouseMoved=!0}},w=function(N){y.off("beforeEndOperation",E),x=!1,y.session&&k(),C[C.state+"End"]&&C[C.state+"End"](N),C.state="",C.isMousePressed=b.$isMousePressed=!1,b.$keepTextAreaAtCursor&&b.$moveTextAreaToCursor(),C.$onCaptureMouseMove=C.releaseMouse=null,N&&C.onMouseEvent("mouseup",N),y.endOperation()},k=function(){C[C.state]&&C[C.state](),C.$mouseMoved=!1},L=function(){x&&(k(),s.nextFrame(L))};if(o.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){w(m)});var E=function(N){C.releaseMouse&&y.curOp.command.name&&y.curOp.selectionChanged&&(C[C.state+"End"]&&C[C.state+"End"](),C.state="",C.releaseMouse())};y.on("beforeEndOperation",E),y.startOperation({command:{name:"mouse"}}),C.$onCaptureMouseMove=S,C.releaseMouse=s.capture(this.editor.container,S,w),L()},p.prototype.cancelContextMenu=function(){var m=(function(g){g&&g.domEvent&&g.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),g&&g.domEvent&&s.stopEvent(g.domEvent))}).bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},p.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},p}();f.prototype.releaseMouse=null,d.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=f}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("../lib/dom"),o=function(){function a(l){l.on("click",function(u){var c=u.getDocumentPosition(),h=l.session,d=h.getFoldAt(c.row,c.column,1);d&&(u.getAccelKey()?h.removeFold(d):h.expandFold(d),u.stop());var f=u.domEvent&&u.domEvent.target;f&&s.hasCssClass(f,"ace_inline_button")&&s.hasCssClass(f,"ace_toggle_wrap")&&(h.setOption("wrap",!h.getUseWrapMode()),l.renderer.scrollCursorIntoView())}),l.on("gutterclick",function(u){var c=l.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var h=u.getDocumentPosition().row,d=l.session;d.foldWidgets&&d.foldWidgets[h]&&l.session.onFoldWidgetClick(h,u),l.isFocused()||l.focus(),u.stop()}}),l.on("gutterdblclick",function(u){var c=l.renderer.$gutterLayer.getRegion(u);if(c=="foldWidgets"){var h=u.getDocumentPosition().row,d=l.session,f=d.getParentFoldRangeData(h,!0),p=f.range||f.firstRange;if(p){h=p.start.row;var m=d.getFoldAt(h,d.getLine(h).length,1);m?d.removeFold(m):(d.addFold("...",p),l.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}u.stop()}})}return a}();r.FoldHandler=o}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,r,i){var s=n("../lib/keys"),o=n("../lib/event"),a=function(){function l(u){this.$editor=u,this.$data={editor:u},this.$handlers=[],this.setDefaultHandler(u.commands)}return l.prototype.setDefaultHandler=function(u){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=u,this.addKeyboardHandler(u,0)},l.prototype.setKeyboardHandler=function(u){var c=this.$handlers;if(c[c.length-1]!=u){for(;c[c.length-1]&&c[c.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(c[c.length-1]);this.addKeyboardHandler(u,1)}},l.prototype.addKeyboardHandler=function(u,c){if(u){typeof u=="function"&&!u.handleKeyboard&&(u.handleKeyboard=u);var h=this.$handlers.indexOf(u);h!=-1&&this.$handlers.splice(h,1),c==null?this.$handlers.push(u):this.$handlers.splice(c,0,u),h==-1&&u.attach&&u.attach(this.$editor)}},l.prototype.removeKeyboardHandler=function(u){var c=this.$handlers.indexOf(u);return c==-1?!1:(this.$handlers.splice(c,1),u.detach&&u.detach(this.$editor),!0)},l.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},l.prototype.getStatusText=function(){var u=this.$data,c=u.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(c,u)||""}).filter(Boolean).join(" ")},l.prototype.$callKeyboardHandlers=function(u,c,h,d){for(var f,p=!1,m=this.$editor.commands,g=this.$handlers.length;g--&&(f=this.$handlers[g].handleKeyboard(this.$data,u,c,h,d),!(!(!f||!f.command)&&(f.command=="null"?p=!0:p=m.exec(f.command,this.$editor,f.args,d),p&&d&&u!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&o.stopEvent(d),p))););return!p&&u==-1&&(f={command:"insertstring"},p=m.exec("insertstring",this.$editor,c)),p&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),p},l.prototype.onCommandKey=function(u,c,h){var d=s.keyCodeToString(h);return this.$callKeyboardHandlers(c,d,h,u)},l.prototype.onTextInput=function(u){return this.$callKeyboardHandlers(-1,u)},l}();r.KeyBinding=a}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,r,i){var s=0,o=0,a=!1,l=!1,u=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=0,f=1,p=0,m=1,g=2,y=3,b=4,C=5,x=6,S=7,w=8,k=9,L=10,E=11,N=12,_=13,R=14,M=15,T=16,A=17,$=18,D=[$,$,$,$,$,$,$,$,$,x,C,x,w,C,$,$,$,$,$,$,$,$,$,$,$,$,$,$,C,C,C,x,w,b,b,E,E,E,b,b,b,b,b,L,k,L,k,k,g,g,g,g,g,g,g,g,g,g,k,b,b,b,b,b,b,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,b,b,b,b,b,b,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,b,b,b,b,$,$,$,$,$,$,C,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,k,b,E,E,E,E,b,b,b,b,p,b,b,$,b,b,E,E,g,g,b,p,b,b,b,g,p,b,b,b,b,b],O=[w,w,w,w,w,w,w,w,w,w,w,$,$,$,p,m,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,w,C,_,R,M,T,A,k,E,E,E,E,E,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,k,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,w];function P(H,U,q,K){var Q=s?h:c,ee=null,re=null,ae=null,be=0,Ae=null,Le=null,He=-1,Ue=null,yt=null,Gt=[];if(!K)for(Ue=0,K=[];Ue<q;Ue++)K[Ue]=Y(H[Ue]);for(o=s,a=!1,l=!1,u=!1,yt=0;yt<q;yt++){if(ee=be,Gt[yt]=re=B(H,K,Gt,yt),be=Q[ee][re],Ae=be&240,be&=15,U[yt]=ae=Q[be][5],Ae>0)if(Ae==16){for(Ue=He;Ue<yt;Ue++)U[Ue]=1;He=-1}else He=-1;if(Le=Q[be][6],Le)He==-1&&(He=yt);else if(He>-1){for(Ue=He;Ue<yt;Ue++)U[Ue]=ae;He=-1}K[yt]==C&&(U[yt]=0),o|=ae}if(u){for(Ue=0;Ue<q;Ue++)if(K[Ue]==x){U[Ue]=s;for(var bt=Ue-1;bt>=0&&K[bt]==w;bt--)U[bt]=s}}}function I(H,U,q){if(!(o<H)){if(H==1&&s==f&&!l){q.reverse();return}for(var K=q.length,Q=0,ee,re,ae,be;Q<K;){if(U[Q]>=H){for(ee=Q+1;ee<K&&U[ee]>=H;)ee++;for(re=Q,ae=ee-1;re<ae;re++,ae--)be=q[re],q[re]=q[ae],q[ae]=be;Q=ee}Q++}}}function B(H,U,q,K){var Q=U[K],ee,re,ae,be;switch(Q){case p:case m:a=!1;case b:case y:return Q;case g:return a?y:g;case S:return a=!0,m;case w:return b;case k:return K<1||K+1>=U.length||(ee=q[K-1])!=g&&ee!=y||(re=U[K+1])!=g&&re!=y?b:(a&&(re=y),re==ee?re:b);case L:return ee=K>0?q[K-1]:C,ee==g&&K+1<U.length&&U[K+1]==g?g:b;case E:if(K>0&&q[K-1]==g)return g;if(a)return b;for(be=K+1,ae=U.length;be<ae&&U[be]==E;)be++;return be<ae&&U[be]==g?g:b;case N:for(ae=U.length,be=K+1;be<ae&&U[be]==N;)be++;if(be<ae){var Ae=H[K],Le=Ae>=1425&&Ae<=2303||Ae==64286;if(ee=U[be],Le&&(ee==m||ee==S))return m}return K<1||(ee=U[K-1])==C?b:q[K-1];case C:return a=!1,l=!0,s;case x:return u=!0,b;case _:case R:case T:case A:case M:a=!1;case $:return b}}function Y(H){var U=H.charCodeAt(0),q=U>>8;return q==0?U>191?p:D[U]:q==5?/[\u0591-\u05f4]/.test(H)?m:p:q==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(H)?N:/[\u0660-\u0669\u066b-\u066c]/.test(H)?y:U==1642?E:/[\u06f0-\u06f9]/.test(H)?g:S:q==32&&U<=8287?O[U&255]:q==254&&U>=65136?S:b}r.L=p,r.R=m,r.EN=g,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="·",r.doBidiReorder=function(H,U,q){if(H.length<2)return{};var K=H.split(""),Q=new Array(K.length),ee=new Array(K.length),re=[];s=q?f:d,P(K,re,K.length,U);for(var ae=0;ae<Q.length;Q[ae]=ae,ae++);I(2,re,Q),I(1,re,Q);for(var ae=0;ae<Q.length-1;ae++)U[ae]===y?re[ae]=r.AN:re[ae]===m&&(U[ae]>S&&U[ae]<_||U[ae]===b||U[ae]===$)?re[ae]=r.ON_R:ae>0&&K[ae-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(K[ae])&&(re[ae-1]=re[ae]=r.R_H,ae++);K[K.length-1]===r.DOT&&(re[K.length-1]=r.B),K[0]==="‫"&&(re[0]=r.RLE);for(var ae=0;ae<Q.length;ae++)ee[ae]=re[Q[ae]];return{logicalFromVisual:Q,bidiLevels:ee}},r.hasBidiCharacters=function(H,U){for(var q=!1,K=0;K<H.length;K++)U[K]=Y(H.charAt(K)),!q&&(U[K]==m||U[K]==S||U[K]==y)&&(q=!0);return q},r.getVisualFromLogicalIdx=function(H,U){for(var q=0;q<U.logicalFromVisual.length;q++)if(U.logicalFromVisual[q]==H)return q;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,r,i){var s=n("./lib/bidiutil"),o=n("./lib/lang"),a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,l=function(){function u(c){this.session=c,this.bidiMap={},this.currentRow=null,this.bidiUtil=s,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=a.test(c.getValue())}return u.prototype.isBidiRow=function(c,h,d){return this.seenBidi?(c!==this.currentRow&&(this.currentRow=c,this.updateRowLine(h,d),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},u.prototype.onChange=function(c){this.seenBidi?this.currentRow=null:c.action=="insert"&&a.test(c.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},u.prototype.getDocumentRow=function(){var c=0,h=this.session.$screenRowCache;if(h.length){var d=this.session.$getRowCacheIndex(h,this.currentRow);d>=0&&(c=this.session.$docRowCache[d])}return c},u.prototype.getSplitIndex=function(){var c=0,h=this.session.$screenRowCache;if(h.length)for(var d,f=this.session.$getRowCacheIndex(h,this.currentRow);this.currentRow-c>0&&(d=this.session.$getRowCacheIndex(h,this.currentRow-c-1),d===f);)f=d,c++;else c=this.currentRow;return c},u.prototype.updateRowLine=function(c,h){c===void 0&&(c=this.getDocumentRow());var d=c===this.session.getLength()-1,f=d?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(c),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var p=this.session.$wrapData[c];p&&(h===void 0&&(h=this.getSplitIndex()),h>0&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[s.L],this.line=h<p.length?this.line.substring(p[h-1],p[h]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[h]),h==p.length&&(this.line+=this.showInvisibles?f:s.DOT))}else this.line+=this.showInvisibles?f:s.DOT;var m=this.session,g=0,y;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(b,C){return b==="	"||m.isFullWidth(b.charCodeAt(0))?(y=b==="	"?m.getScreenTabSize(C+g):2,g+=y-1,o.stringRepeat(s.DOT,y)):b}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==s.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},u.prototype.updateBidiMap=function(){var c=[];s.hasBidiCharacters(this.line,c)||this.isRtlDir?this.bidiMap=s.doBidiReorder(this.line,c,this.isRtlDir):this.bidiMap={}},u.prototype.markAsDirty=function(){this.currentRow=null},u.prototype.updateCharacterWidths=function(c){if(this.characterWidth!==c.$characterSize.width){this.fontMetrics=c;var h=this.characterWidth=c.$characterSize.width,d=c.$measureCharWidth("ה");this.charWidths[s.L]=this.charWidths[s.EN]=this.charWidths[s.ON_R]=h,this.charWidths[s.R]=this.charWidths[s.AN]=d,this.charWidths[s.R_H]=d*.45,this.charWidths[s.B]=this.charWidths[s.RLE]=0,this.currentRow=null}},u.prototype.setShowInvisibles=function(c){this.showInvisibles=c,this.currentRow=null},u.prototype.setEolChar=function(c){this.EOL=c},u.prototype.setContentWidth=function(c){this.contentWidth=c},u.prototype.isRtlLine=function(c){return this.$isRtl?!0:c!=null?this.session.getLine(c).charAt(0)==this.RLE:this.isRtlDir},u.prototype.setRtlDirection=function(c,h){for(var d=c.getCursorPosition(),f=c.selection.getSelectionAnchor().row;f<=d.row;f++)!h&&c.session.getLine(f).charAt(0)===c.session.$bidiHandler.RLE?c.session.doc.removeInLine(f,0,1):h&&c.session.getLine(f).charAt(0)!==c.session.$bidiHandler.RLE&&c.session.doc.insert({column:0,row:f},c.session.$bidiHandler.RLE)},u.prototype.getPosLeft=function(c){c-=this.wrapIndent;var h=this.line.charAt(0)===this.RLE?1:0,d=c>h?this.session.getOverwrite()?c:c-1:h,f=s.getVisualFromLogicalIdx(d,this.bidiMap),p=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&c<=h&&p[f]%2!==0&&f++;for(var g=0;g<f;g++)m+=this.charWidths[p[g]];return!this.session.getOverwrite()&&c>h&&p[f]%2===0&&(m+=this.charWidths[p[f]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},u.prototype.getSelections=function(c,h){var d=this.bidiMap,f=d.bidiLevels,p,m=[],g=0,y=Math.min(c,h)-this.wrapIndent,b=Math.max(c,h)-this.wrapIndent,C=!1,x=!1,S=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var w,k=0;k<f.length;k++)w=d.logicalFromVisual[k],p=f[k],C=w>=y&&w<b,C&&!x?S=g:!C&&x&&m.push({left:S,width:g-S}),g+=this.charWidths[p],x=C;if(C&&k===f.length&&m.push({left:S,width:g-S}),this.isRtlDir)for(var L=0;L<m.length;L++)m[L].left+=this.rtlLineOffset;return m},u.prototype.offsetToCol=function(d){this.isRtlDir&&(d-=this.rtlLineOffset);var h=0,d=Math.max(d,0),f=0,p=0,m=this.bidiMap.bidiLevels,g=this.charWidths[m[p]];for(this.wrapIndent&&(d-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);d>f+g/2;){if(f+=g,p===m.length-1){g=0;break}g=this.charWidths[m[++p]]}return p>0&&m[p-1]%2!==0&&m[p]%2===0?(d<f&&p--,h=this.bidiMap.logicalFromVisual[p]):p>0&&m[p-1]%2===0&&m[p]%2!==0?h=1+(d>f?this.bidiMap.logicalFromVisual[p]:this.bidiMap.logicalFromVisual[p-1]):this.isRtlDir&&p===m.length-1&&g===0&&m[p-1]%2===0||!this.isRtlDir&&p===0&&m[p]%2!==0?h=1+this.bidiMap.logicalFromVisual[p]:(p>0&&m[p-1]%2!==0&&g!==0&&p--,h=this.bidiMap.logicalFromVisual[p]),h===0&&this.isRtlDir&&h++,h+this.wrapIndent},u}();r.BidiHandler=l}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/lang"),a=n("./lib/event_emitter").EventEmitter,l=n("./range").Range,u=function(){function c(h){this.session=h,this.doc=h.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var d=this;this.cursor.on("change",function(f){d.$cursorChanged=!0,d.$silent||d._emit("changeCursor"),!d.$isEmpty&&!d.$silent&&d._emit("changeSelection"),!d.$keepDesiredColumnOnChange&&f.old.column!=f.value.column&&(d.$desiredColumn=null)}),this.anchor.on("change",function(){d.$anchorChanged=!0,!d.$isEmpty&&!d.$silent&&d._emit("changeSelection")})}return c.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},c.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},c.prototype.getCursor=function(){return this.lead.getPosition()},c.prototype.setAnchor=function(h,d){this.$isEmpty=!1,this.anchor.setPosition(h,d)},c.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},c.prototype.getSelectionLead=function(){return this.lead.getPosition()},c.prototype.isBackwards=function(){var h=this.anchor,d=this.lead;return h.row>d.row||h.row==d.row&&h.column>d.column},c.prototype.getRange=function(){var h=this.anchor,d=this.lead;return this.$isEmpty?l.fromPoints(d,d):this.isBackwards()?l.fromPoints(d,h):l.fromPoints(h,d)},c.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},c.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},c.prototype.setRange=function(h,d){var f=d?h.end:h.start,p=d?h.start:h.end;this.$setSelection(f.row,f.column,p.row,p.column)},c.prototype.$setSelection=function(h,d,f,p){if(!this.$silent){var m=this.$isEmpty,g=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(h,d),this.cursor.setPosition(f,p),this.$isEmpty=!l.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||g)&&this._emit("changeSelection")}},c.prototype.$moveSelection=function(h){var d=this.lead;this.$isEmpty&&this.setSelectionAnchor(d.row,d.column),h.call(this)},c.prototype.selectTo=function(h,d){this.$moveSelection(function(){this.moveCursorTo(h,d)})},c.prototype.selectToPosition=function(h){this.$moveSelection(function(){this.moveCursorToPosition(h)})},c.prototype.moveTo=function(h,d){this.clearSelection(),this.moveCursorTo(h,d)},c.prototype.moveToPosition=function(h){this.clearSelection(),this.moveCursorToPosition(h)},c.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},c.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},c.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},c.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},c.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},c.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},c.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},c.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},c.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},c.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},c.prototype.getWordRange=function(h,d){if(typeof d>"u"){var f=h||this.lead;h=f.row,d=f.column}return this.session.getWordRange(h,d)},c.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},c.prototype.selectAWord=function(){var h=this.getCursor(),d=this.session.getAWordRange(h.row,h.column);this.setSelectionRange(d)},c.prototype.getLineRange=function(h,d){var f=typeof h=="number"?h:this.lead.row,p,m=this.session.getFoldLine(f);return m?(f=m.start.row,p=m.end.row):p=f,d===!0?new l(f,0,p,this.session.getLine(p).length):new l(f,0,p+1,0)},c.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},c.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},c.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},c.prototype.wouldMoveIntoSoftTab=function(h,d,f){var p=h.column,m=h.column+d;return f<0&&(p=h.column-d,m=h.column),this.session.isTabStop(h)&&this.doc.getLine(h.row).slice(p,m).split(" ").length-1==d},c.prototype.moveCursorLeft=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,-1))this.moveCursorTo(d.start.row,d.start.column);else if(h.column===0)h.row>0&&this.moveCursorTo(h.row-1,this.doc.getLine(h.row-1).length);else{var f=this.session.getTabSize();this.wouldMoveIntoSoftTab(h,f,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-f):this.moveCursorBy(0,-1)}},c.prototype.moveCursorRight=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,1))this.moveCursorTo(d.end.row,d.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var f=this.session.getTabSize(),h=this.lead;this.wouldMoveIntoSoftTab(h,f,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,f):this.moveCursorBy(0,1)}},c.prototype.moveCursorLineStart=function(){var h=this.lead.row,d=this.lead.column,f=this.session.documentToScreenRow(h,d),p=this.session.screenToDocumentPosition(f,0),m=this.session.getDisplayLine(h,null,p.row,p.column),g=m.match(/^\s*/);g[0].length!=d&&!this.session.$useEmacsStyleLineStart&&(p.column+=g[0].length),this.moveCursorToPosition(p)},c.prototype.moveCursorLineEnd=function(){var h=this.lead,d=this.session.getDocumentLastRowColumnPosition(h.row,h.column);if(this.lead.column==d.column){var f=this.session.getLine(d.row);if(d.column==f.length){var p=f.search(/\s+$/);p>0&&(d.column=p)}}this.moveCursorTo(d.row,d.column)},c.prototype.moveCursorFileEnd=function(){var h=this.doc.getLength()-1,d=this.doc.getLine(h).length;this.moveCursorTo(h,d)},c.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},c.prototype.moveCursorLongWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(h,d,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(p)&&(d+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,p=f.substring(d)),d>=f.length){this.moveCursorTo(h,f.length),this.moveCursorRight(),h<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(p)&&(d+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},c.prototype.moveCursorLongWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1)){this.moveCursorTo(f.start.row,f.start.column);return}var p=this.session.getFoldStringAt(h,d,-1);p==null&&(p=this.doc.getLine(h).substring(0,d));var m=o.stringReverse(p);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(d-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),d<=0){this.moveCursorTo(h,0),this.moveCursorLeft(),h>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(d-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},c.prototype.$shortWordEndIndex=function(h){var d=0,f,p=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(h))d=this.session.tokenRe.lastIndex;else{for(;(f=h[d])&&p.test(f);)d++;if(d<1){for(m.lastIndex=0;(f=h[d])&&!m.test(f);)if(m.lastIndex=0,d++,p.test(f))if(d>2){d--;break}else{for(;(f=h[d])&&p.test(f);)d++;if(d>2)break}}}return m.lastIndex=0,d},c.prototype.moveCursorShortWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d),m=this.session.getFoldAt(h,d,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(d==f.length){var g=this.doc.getLength();do h++,p=this.doc.getLine(h);while(h<g&&/^\s*$/.test(p));/^\s+/.test(p)||(p=""),d=0}var y=this.$shortWordEndIndex(p);this.moveCursorTo(h,d+y)},c.prototype.moveCursorShortWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1))return this.moveCursorTo(f.start.row,f.start.column);var p=this.session.getLine(h).substring(0,d);if(d===0){do h--,p=this.doc.getLine(h);while(h>0&&/^\s*$/.test(p));d=p.length,/\s+$/.test(p)||(p="")}var m=o.stringReverse(p),g=this.$shortWordEndIndex(m);return this.moveCursorTo(h,d-g)},c.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},c.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},c.prototype.moveCursorBy=function(h,d){var f=this.session.documentToScreenPosition(this.lead.row,this.lead.column),p;if(d===0&&(h!==0&&(this.session.$bidiHandler.isBidiRow(f.row,this.lead.row)?(p=this.session.$bidiHandler.getPosLeft(f.column),f.column=Math.round(p/this.session.$bidiHandler.charWidths[0])):p=f.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column),h!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];h<0?h-=m.rowsAbove||0:h>0&&(h+=m.rowCount-(m.rowsAbove||0))}var g=this.session.screenToDocumentPosition(f.row+h,f.column,p);h!==0&&d===0&&g.row===this.lead.row&&(g.column,this.lead.column),this.moveCursorTo(g.row,g.column+d,d===0)},c.prototype.moveCursorToPosition=function(h){this.moveCursorTo(h.row,h.column)},c.prototype.moveCursorTo=function(h,d,f){var p=this.session.getFoldAt(h,d,1);p&&(h=p.start.row,d=p.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(h);/[\uDC00-\uDFFF]/.test(m.charAt(d))&&m.charAt(d-1)&&(this.lead.row==h&&this.lead.column==d+1?d=d-1:d=d+1),this.lead.setPosition(h,d),this.$keepDesiredColumnOnChange=!1,f||(this.$desiredColumn=null)},c.prototype.moveCursorToScreen=function(h,d,f){var p=this.session.screenToDocumentPosition(h,d);this.moveCursorTo(p.row,p.column,f)},c.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},c.prototype.fromOrientedRange=function(h){this.setSelectionRange(h,h.cursor==h.start),this.$desiredColumn=h.desiredColumn||this.$desiredColumn},c.prototype.toOrientedRange=function(h){var d=this.getRange();return h?(h.start.column=d.start.column,h.start.row=d.start.row,h.end.column=d.end.column,h.end.row=d.end.row):h=d,h.cursor=this.isBackwards()?h.start:h.end,h.desiredColumn=this.$desiredColumn,h},c.prototype.getRangeOfMovements=function(h){var d=this.getCursor();try{h(this);var f=this.getCursor();return l.fromPoints(d,f)}catch{return l.fromPoints(d,d)}finally{this.moveCursorToPosition(d)}},c.prototype.toJSON=function(){if(this.rangeCount)var h=this.ranges.map(function(d){var f=d.clone();return f.isBackwards=d.cursor==d.start,f});else{var h=this.getRange();h.isBackwards=this.isBackwards()}return h},c.prototype.fromJSON=function(h){if(h.start==null)if(this.rangeList&&h.length>1){this.toSingleRange(h[0]);for(var d=h.length;d--;){var f=l.fromPoints(h[d].start,h[d].end);h[d].isBackwards&&(f.cursor=f.start),this.addRange(f,!0)}return}else h=h[0];this.rangeList&&this.toSingleRange(h),this.setSelectionRange(h,h.isBackwards)},c.prototype.isEqual=function(h){if((h.length||this.rangeCount)&&h.length!=this.rangeCount)return!1;if(!h.length||!this.ranges)return this.getRange().isEqual(h);for(var d=this.ranges.length;d--;)if(!this.ranges[d].isEqual(h[d]))return!1;return!0},c}();u.prototype.setSelectionAnchor=u.prototype.setAnchor,u.prototype.getSelectionAnchor=u.prototype.getAnchor,u.prototype.setSelectionRange=u.prototype.setRange,s.implement(u.prototype,a),r.Selection=u}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,r,i){var s=n("./lib/report_error").reportError,o=2e3,a=function(){function l(u){this.splitRegex,this.states=u,this.regExps={},this.matchMappings={};for(var c in this.states){for(var h=this.states[c],d=[],f=0,p=this.matchMappings[c]={defaultToken:"text"},m="g",g=[],y=0;y<h.length;y++){var b=h[y];if(b.defaultToken&&(p.defaultToken=b.defaultToken),b.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),b.unicode&&m.indexOf("u")===-1&&(m+="u"),b.regex!=null){b.regex instanceof RegExp&&(b.regex=b.regex.toString().slice(1,-1));var C=b.regex,x=new RegExp("(?:("+C+")|(.))").exec("a").length-2;Array.isArray(b.token)?b.token.length==1||x==1?b.token=b.token[0]:x-1!=b.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:b,groupCount:x-1}),b.token=b.token[0]):(b.tokenArray=b.token,b.token=null,b.onMatch=this.$arrayTokens):typeof b.token=="function"&&!b.onMatch&&(x>1?b.onMatch=this.$applyToken:b.onMatch=b.token),x>1&&(/\\\d/.test(b.regex)?C=b.regex.replace(/\\([0-9]+)/g,function(S,w){return"\\"+(parseInt(w,10)+f+1)}):(x=1,C=this.removeCapturingGroups(b.regex)),!b.splitRegex&&typeof b.token!="string"&&g.push(b)),p[f]=y,f+=x,d.push(C),b.onMatch||(b.onMatch=null)}}d.length||(p[0]=0,d.push("$")),g.forEach(function(S){S.splitRegex=this.createSplitterRegexp(S.regex,m)},this),this.regExps[c]=new RegExp("("+d.join(")|(")+")|($)",m)}}return l.prototype.$setMaxTokenCount=function(u){o=u|0},l.prototype.$applyToken=function(u){var c=this.splitRegex.exec(u).slice(1),h=this.token.apply(this,c);if(typeof h=="string")return[{type:h,value:u}];for(var d=[],f=0,p=h.length;f<p;f++)c[f]&&(d[d.length]={type:h[f],value:c[f]});return d},l.prototype.$arrayTokens=function(u){if(!u)return[];var c=this.splitRegex.exec(u);if(!c)return"text";for(var h=[],d=this.tokenArray,f=0,p=d.length;f<p;f++)c[f+1]&&(h[h.length]={type:d[f],value:c[f+1]});return h},l.prototype.removeCapturingGroups=function(u){var c=u.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(h,d){return d?"(?:":h});return c},l.prototype.createSplitterRegexp=function(u,c){if(u.indexOf("(?=")!=-1){var h=0,d=!1,f={};u.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(p,m,g,y,b,C){return d?d=b!="]":b?d=!0:y?(h==f.stack&&(f.end=C+1,f.stack=-1),h--):g&&(h++,g.length!=1&&(f.stack=h,f.start=C)),p}),f.end!=null&&/^\)*$/.test(u.substr(f.end))&&(u=u.substring(0,f.start)+u.substr(f.end))}return u.charAt(0)!="^"&&(u="^"+u),u.charAt(u.length-1)!="$"&&(u+="$"),new RegExp(u,(c||"").replace("g",""))},l.prototype.getLineTokens=function(u,c){if(c&&typeof c!="string"){var h=c.slice(0);c=h[0],c==="#tmp"&&(h.shift(),c=h.shift())}else var h=[];var d=c||"start",f=this.states[d];f||(d="start",f=this.states[d]);var p=this.matchMappings[d],m=this.regExps[d];m.lastIndex=0;for(var g,y=[],b=0,C=0,x={type:null,value:""};g=m.exec(u);){var S=p.defaultToken,w=null,k=g[0],L=m.lastIndex;if(L-k.length>b){var E=u.substring(b,L-k.length);x.type==S?x.value+=E:(x.type&&y.push(x),x={type:S,value:E})}for(var N=0;N<g.length-2;N++)if(g[N+1]!==void 0){w=f[p[N]],w.onMatch?S=w.onMatch(k,d,h,u):S=w.token,w.next&&(typeof w.next=="string"?d=w.next:d=w.next(d,h),f=this.states[d],f||(this.reportError("state doesn't exist",d),d="start",f=this.states[d]),p=this.matchMappings[d],b=L,m=this.regExps[d],m.lastIndex=L),w.consumeLineEnd&&(b=L);break}if(k){if(typeof S=="string")(!w||w.merge!==!1)&&x.type===S?x.value+=k:(x.type&&y.push(x),x={type:S,value:k});else if(S){x.type&&y.push(x),x={type:null,value:""};for(var N=0;N<S.length;N++)y.push(S[N])}}if(b==u.length)break;if(b=L,C++>o){for(C>2*u.length&&this.reportError("infinite loop with in ace tokenizer",{startState:c,line:u});b<u.length;)x.type&&y.push(x),x={value:u.substring(b,b+=500),type:"overflow"};d="start",h=[];break}}return x.type&&y.push(x),h.length>1&&h[0]!==d&&h.unshift("#tmp",d),{tokens:y,state:h.length?h:d}},l}();a.prototype.reportError=s,r.Tokenizer=a}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,r,i){var s=n("../lib/deep_copy").deepCopy,o;o=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(u,c){if(!c){for(var h in u)this.$rules[h]=u[h];return}for(var h in u){for(var d=u[h],f=0;f<d.length;f++){var p=d[f];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(c)!==0&&(p.next=c+p.next),p.nextState&&p.nextState.indexOf(c)!==0&&(p.nextState=c+p.nextState))}this.$rules[c+h]=d}},this.getRules=function(){return this.$rules},this.embedRules=function(u,c,h,d,f){var p=typeof u=="function"?new u().getRules():u;if(d)for(var m=0;m<d.length;m++)d[m]=c+d[m];else{d=[];for(var g in p)d.push(c+g)}if(this.addRules(p,c),h)for(var y=Array.prototype[f?"push":"unshift"],m=0;m<d.length;m++)y.apply(this.$rules[d[m]],s(h));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var a=function(u,c){return(u!="start"||c.length)&&c.unshift(this.nextState,u),this.nextState},l=function(u,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var u=0,c=this.$rules;function h(d){var f=c[d];f.processed=!0;for(var p=0;p<f.length;p++){var m=f[p],g=null;Array.isArray(m)&&(g=m,m={}),!m.regex&&m.start&&(m.regex=m.start,m.next||(m.next=[]),m.next.push({defaultToken:m.token},{token:m.token+".end",regex:m.end||m.start,next:"pop"}),m.token=m.token+".start",m.push=!0);var y=m.next||m.push;if(y&&Array.isArray(y)){var b=m.stateName;b||(b=m.token,typeof b!="string"&&(b=b[0]||""),c[b]&&(b+=u++)),c[b]=y,m.next=b,h(b)}else y=="pop"&&(m.next=l);if(m.push&&(m.nextState=m.next||m.push,m.next=a,delete m.push),m.rules)for(var C in m.rules)c[C]?c[C].push&&c[C].push.apply(c[C],m.rules[C]):c[C]=m.rules[C];var x=typeof m=="string"?m:m.include;if(x&&(x==="$self"&&(x="start"),Array.isArray(x)?g=x.map(function(w){return c[w]}):g=c[x]),g){var S=[p,1].concat(g);m.noEscape&&(S=S.filter(function(w){return!w.next})),f.splice.apply(f,S),p--}m.keywordMap&&(m.token=this.createKeywordMapper(m.keywordMap,m.defaultToken||"text",m.caseInsensitive),delete m.defaultToken)}}Object.keys(c).forEach(h,this)},this.createKeywordMapper=function(u,c,h,d){var f=Object.create(null);return this.$keywordList=[],Object.keys(u).forEach(function(p){for(var m=u[p],g=m.split(d||"|"),y=g.length;y--;){var b=g[y];this.$keywordList.push(b),h&&(b=b.toLowerCase()),f[b]=p}},this),u=null,h?function(p){return f[p.toLowerCase()]||c}:function(p){return f[p]||c}},this.getKeywords=function(){return this.$keywords}}).call(o.prototype),r.TextHighlightRules=o}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,r,i){var s;s=function(){this.$behaviours={}},(function(){this.add=function(o,a,l){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[o]:this.$behaviours[o]={}}this.$behaviours[o][a]=l},this.addBehaviours=function(o){for(var a in o)for(var l in o[a])this.add(a,l,o[a][l])},this.remove=function(o){this.$behaviours&&this.$behaviours[o]&&delete this.$behaviours[o]},this.inherit=function(o,a){if(typeof o=="function")var l=new o().getBehaviours(a);else var l=o.getBehaviours(a);this.addBehaviours(l)},this.getBehaviours=function(o){if(o){for(var a={},l=0;l<o.length;l++)this.$behaviours[o[l]]&&(a[o[l]]=this.$behaviours[o[l]]);return a}else return this.$behaviours}}).call(s.prototype),r.Behaviour=s}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,r,i){var s=n("./range").Range,o=function(){function a(l,u,c){this.$session=l,this.$row=u,this.$rowTokens=l.getTokens(u);var h=l.getTokenAt(u,c);this.$tokenIndex=h?h.index:-1}return a.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},a.prototype.stepForward=function(){this.$tokenIndex+=1;for(var l;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,l||(l=this.$session.getLength()),this.$row>=l)return this.$row=l-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},a.prototype.getCurrentTokenRow=function(){return this.$row},a.prototype.getCurrentTokenColumn=function(){var l=this.$rowTokens,u=this.$tokenIndex,c=l[u].start;if(c!==void 0)return c;for(c=0;u>0;)u-=1,c+=l[u].value.length;return c},a.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},a.prototype.getCurrentTokenRange=function(){var l=this.$rowTokens[this.$tokenIndex],u=this.getCurrentTokenColumn();return new s(this.$row,u,this.$row,u+l.value.length)},a}();r.TokenIterator=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,r,i){var s=n("../../lib/oop"),o=n("../behaviour").Behaviour,a=n("../../token_iterator").TokenIterator,l=n("../../lib/lang"),u=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h,d={},f={'"':'"',"'":"'"},p=function(y){var b=-1;if(y.multiSelect&&(b=y.selection.index,d.rangeCount!=y.multiSelect.rangeCount&&(d={rangeCount:y.multiSelect.rangeCount})),d[b])return h=d[b];h=d[b]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(y,b,C,x){var S=y.end.row-y.start.row;return{text:C+b+x,selection:[0,y.start.column+1,S,y.end.column+(S?0:1)]}},g;g=function(y){y=y||{},this.add("braces","insertion",function(b,C,x,S,w){var k=x.getCursorPosition(),L=S.doc.getLine(k.row);if(w=="{"){p(x);var E=x.getSelectionRange(),N=S.doc.getTextRange(E),_=S.getTokenAt(k.row,k.column);if(N!==""&&N!=="{"&&x.getWrapBehavioursEnabled())return m(E,N,"{","}");if(_&&/(?:string)\.quasi|\.xml/.test(_.type)){var R=[/tag\-(?:open|name)/,/attribute\-name/];return R.some(function(P){return P.test(_.type)})||/(string)\.quasi/.test(_.type)&&_.value[k.column-_.start-1]!=="$"?void 0:(g.recordAutoInsert(x,S,"}"),{text:"{}",selection:[1,1]})}else if(g.isSaneInsertion(x,S))return/[\]\}\)]/.test(L[k.column])||x.inMultiSelectMode||y.braces?(g.recordAutoInsert(x,S,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(x,S,"{"),{text:"{",selection:[1,1]})}else if(w=="}"){p(x);var M=L.substring(k.column,k.column+1);if(M=="}"){var T=S.$findOpeningBracket("}",{column:k.column+1,row:k.row});if(T!==null&&g.isAutoInsertedClosing(k,L,w))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(w==`
`||w==`\r
`){p(x);var A="";g.isMaybeInsertedClosing(k,L)&&(A=l.stringRepeat("}",h.maybeInsertedBrackets),g.clearMaybeInsertedClosing());var M=L.substring(k.column,k.column+1);if(M==="}"){var $=S.findMatchingBracket({row:k.row,column:k.column+1},"}");if(!$)return null;var D=this.$getIndent(S.getLine($.row))}else if(A)var D=this.$getIndent(L);else{g.clearMaybeInsertedClosing();return}var O=D+S.getTabString();return{text:`
`+O+`
`+D+A,selection:[1,O.length,1,O.length]}}else g.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(b,C,x,S,w){var k=S.doc.getTextRange(w);if(!w.isMultiLine()&&k=="{"){p(x);var L=S.doc.getLine(w.start.row),E=L.substring(w.end.column,w.end.column+1);if(E=="}")return w.end.column++,w;h.maybeInsertedBrackets--}}),this.add("parens","insertion",function(b,C,x,S,w){if(w=="("){p(x);var k=x.getSelectionRange(),L=S.doc.getTextRange(k);if(L!==""&&x.getWrapBehavioursEnabled())return m(k,L,"(",")");if(g.isSaneInsertion(x,S))return g.recordAutoInsert(x,S,")"),{text:"()",selection:[1,1]}}else if(w==")"){p(x);var E=x.getCursorPosition(),N=S.doc.getLine(E.row),_=N.substring(E.column,E.column+1);if(_==")"){var R=S.$findOpeningBracket(")",{column:E.column+1,row:E.row});if(R!==null&&g.isAutoInsertedClosing(E,N,w))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(b,C,x,S,w){var k=S.doc.getTextRange(w);if(!w.isMultiLine()&&k=="("){p(x);var L=S.doc.getLine(w.start.row),E=L.substring(w.start.column+1,w.start.column+2);if(E==")")return w.end.column++,w}}),this.add("brackets","insertion",function(b,C,x,S,w){if(w=="["){p(x);var k=x.getSelectionRange(),L=S.doc.getTextRange(k);if(L!==""&&x.getWrapBehavioursEnabled())return m(k,L,"[","]");if(g.isSaneInsertion(x,S))return g.recordAutoInsert(x,S,"]"),{text:"[]",selection:[1,1]}}else if(w=="]"){p(x);var E=x.getCursorPosition(),N=S.doc.getLine(E.row),_=N.substring(E.column,E.column+1);if(_=="]"){var R=S.$findOpeningBracket("]",{column:E.column+1,row:E.row});if(R!==null&&g.isAutoInsertedClosing(E,N,w))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(b,C,x,S,w){var k=S.doc.getTextRange(w);if(!w.isMultiLine()&&k=="["){p(x);var L=S.doc.getLine(w.start.row),E=L.substring(w.start.column+1,w.start.column+2);if(E=="]")return w.end.column++,w}}),this.add("string_dquotes","insertion",function(b,C,x,S,w){var k=S.$mode.$quotes||f;if(w.length==1&&k[w]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(w)!=-1)return;p(x);var L=w,E=x.getSelectionRange(),N=S.doc.getTextRange(E);if(N!==""&&(N.length!=1||!k[N])&&x.getWrapBehavioursEnabled())return m(E,N,L,L);if(!N){var _=x.getCursorPosition(),R=S.doc.getLine(_.row),M=R.substring(_.column-1,_.column),T=R.substring(_.column,_.column+1),A=S.getTokenAt(_.row,_.column),$=S.getTokenAt(_.row,_.column+1);if(M=="\\"&&A&&/escape/.test(A.type))return null;var D=A&&/string|escape/.test(A.type),O=!$||/string|escape/.test($.type),P;if(T==L)P=D!==O,P&&/string\.end/.test($.type)&&(P=!1);else{if(D&&!O||D&&O)return null;var I=S.$mode.tokenRe;I.lastIndex=0;var B=I.test(M);I.lastIndex=0;var Y=I.test(T),H=S.$mode.$pairQuotesAfter,U=H&&H[L]&&H[L].test(M);if(!U&&B||Y||T&&!/[\s;,.})\]\\]/.test(T))return null;var q=R[_.column-2];if(M==L&&(q==L||I.test(q)))return null;P=!0}return{text:P?L+L:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(b,C,x,S,w){var k=S.$mode.$quotes||f,L=S.doc.getTextRange(w);if(!w.isMultiLine()&&k.hasOwnProperty(L)){p(x);var E=S.doc.getLine(w.start.row),N=E.substring(w.start.column+1,w.start.column+2);if(N==L)return w.end.column++,w}}),y.closeDocComment!==!1&&this.add("doc comment end","insertion",function(b,C,x,S,w){if(b==="doc-start"&&(w===`
`||w===`\r
`)&&x.selection.isEmpty()){var k=x.getCursorPosition();if(k.column===0)return;for(var L=S.doc.getLine(k.row),E=S.doc.getLine(k.row+1),N=S.getTokens(k.row),_=0,R=0;R<N.length;R++){_+=N[R].value.length;var M=N[R];if(_>=k.column){if(_===k.column){if(!/\.doc/.test(M.type))return;if(/\*\//.test(M.value)){var T=N[R+1];if(!T||!/\.doc/.test(T.type))return}}var A=k.column-(_-M.value.length),$=M.value.indexOf("*/"),D=M.value.indexOf("/**",$>-1?$+2:0);if(D!==-1&&A>D&&A<D+3||$!==-1&&D!==-1&&A>=$&&A<=D||!/\.doc/.test(M.type))return;break}}var O=this.$getIndent(L);if(/\s*\*/.test(E))return/^\s*\*/.test(L)?{text:w+O+"* ",selection:[1,2+O.length,1,2+O.length]}:{text:w+O+" * ",selection:[1,3+O.length,1,3+O.length]};if(/\/\*\*/.test(L.substring(0,k.column)))return{text:w+O+" * "+w+" "+O+"*/",selection:[1,4+O.length,1,4+O.length]}}})},g.isSaneInsertion=function(y,b){var C=y.getCursorPosition(),x=new a(b,C.row,C.column);if(!this.$matchTokenType(x.getCurrentToken()||"text",u)){if(/[)}\]]/.test(y.session.getLine(C.row)[C.column]))return!0;var S=new a(b,C.row,C.column+1);if(!this.$matchTokenType(S.getCurrentToken()||"text",u))return!1}return x.stepForward(),x.getCurrentTokenRow()!==C.row||this.$matchTokenType(x.getCurrentToken()||"text",c)},g.$matchTokenType=function(y,b){return b.indexOf(y.type||y)>-1},g.recordAutoInsert=function(y,b,C){var x=y.getCursorPosition(),S=b.doc.getLine(x.row);this.isAutoInsertedClosing(x,S,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0),h.autoInsertedRow=x.row,h.autoInsertedLineEnd=C+S.substr(x.column),h.autoInsertedBrackets++},g.recordMaybeInsert=function(y,b,C){var x=y.getCursorPosition(),S=b.doc.getLine(x.row);this.isMaybeInsertedClosing(x,S)||(h.maybeInsertedBrackets=0),h.maybeInsertedRow=x.row,h.maybeInsertedLineStart=S.substr(0,x.column)+C,h.maybeInsertedLineEnd=S.substr(x.column),h.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(y,b,C){return h.autoInsertedBrackets>0&&y.row===h.autoInsertedRow&&C===h.autoInsertedLineEnd[0]&&b.substr(y.column)===h.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(y,b){return h.maybeInsertedBrackets>0&&y.row===h.maybeInsertedRow&&b.substr(y.column)===h.maybeInsertedLineEnd&&b.substr(0,y.column)==h.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1),h.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)},s.inherits(g,o),r.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(n,r,i){for(var s=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],o=0,a=[],l=0;l<s.length;l+=2)a.push(o+=s[l]),s[l+1]&&a.push(45,o+=s[l+1]);r.wordChars=String.fromCharCode.apply(null,a)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,r,i){var s=n("../config"),o=n("../tokenizer").Tokenizer,a=n("./text_highlight_rules").TextHighlightRules,l=n("./behaviour/cstyle").CstyleBehaviour,u=n("../unicode"),c=n("../lib/lang"),h=n("../token_iterator").TokenIterator,d=n("../range").Range,f;f=function(){this.HighlightRules=a},(function(){this.$defaultBehaviour=new l,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,m,g,y){var b=m.doc,C=!0,x=!0,S=1/0,w=m.getTabSize(),k=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var N=this.lineCommentStart.map(c.escapeRegExp).join("|"),L=this.lineCommentStart[0];else var N=c.escapeRegExp(this.lineCommentStart),L=this.lineCommentStart;N=new RegExp("^(\\s*)(?:"+N+") ?"),k=m.getUseSoftTabs();var M=function(Y,H){var U=Y.match(N);if(U){var q=U[1].length,K=U[0].length;!$(Y,q,K)&&U[0][K-1]==" "&&K--,b.removeInLine(H,q,K)}},A=L+" ",R=function(Y,H){(!C||/\S/.test(Y))&&($(Y,S,S)?b.insertInLine({row:H,column:S},A):b.insertInLine({row:H,column:S},L))},T=function(Y,H){return N.test(Y)},$=function(Y,H,U){for(var q=0;H--&&Y.charAt(H)==" ";)q++;if(q%w!=0)return!1;for(var q=0;Y.charAt(U++)==" ";)q++;return w>2?q%w!=w-1:q%w==0}}else{if(!this.blockComment)return!1;var L=this.blockComment.start,E=this.blockComment.end,N=new RegExp("^(\\s*)(?:"+c.escapeRegExp(L)+")"),_=new RegExp("(?:"+c.escapeRegExp(E)+")\\s*$"),R=function(P,I){T(P,I)||(!C||/\S/.test(P))&&(b.insertInLine({row:I,column:P.length},E),b.insertInLine({row:I,column:S},L))},M=function(P,I){var B;(B=P.match(_))&&b.removeInLine(I,P.length-B[0].length,P.length),(B=P.match(N))&&b.removeInLine(I,B[1].length,B[0].length)},T=function(P,I){if(N.test(P))return!0;for(var B=m.getTokens(I),Y=0;Y<B.length;Y++)if(B[Y].type==="comment")return!0}}function D(P){for(var I=g;I<=y;I++)P(b.getLine(I),I)}var O=1/0;D(function(P,I){var B=P.search(/\S/);B!==-1?(B<S&&(S=B),x&&!T(P,I)&&(x=!1)):O>P.length&&(O=P.length)}),S==1/0&&(S=O,C=!1,x=!1),k&&S%w!=0&&(S=Math.floor(S/w)*w),D(x?M:R)},this.toggleBlockComment=function(p,m,g,y){var b=this.blockComment;if(b){!b.start&&b[0]&&(b=b[0]);var C=new h(m,y.row,y.column),x=C.getCurrentToken();m.selection;var S=m.selection.toOrientedRange(),w,k;if(x&&/comment/.test(x.type)){for(var L,E;x&&/comment/.test(x.type);){var N=x.value.indexOf(b.start);if(N!=-1){var _=C.getCurrentTokenRow(),R=C.getCurrentTokenColumn()+N;L=new d(_,R,_,R+b.start.length);break}x=C.stepBackward()}for(var C=new h(m,y.row,y.column),x=C.getCurrentToken();x&&/comment/.test(x.type);){var N=x.value.indexOf(b.end);if(N!=-1){var _=C.getCurrentTokenRow(),R=C.getCurrentTokenColumn()+N;E=new d(_,R,_,R+b.end.length);break}x=C.stepForward()}E&&m.remove(E),L&&(m.remove(L),w=L.start.row,k=-b.start.length)}else k=b.start.length,w=g.start.row,m.insert(g.end,b.end),m.insert(g.start,b.start);S.start.row==w&&(S.start.column+=k),S.end.row==w&&(S.end.column+=k),m.selection.fromOrientedRange(S)}},this.getNextLineIndent=function(p,m,g){return this.$getIndent(m)},this.checkOutdent=function(p,m,g){return!1},this.autoOutdent=function(p,m,g){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var m in p)if(p[m]){var g=p[m],y=g.prototype.$id,b=s.$modes[y];b||(s.$modes[y]=b=new g),s.$modes[m]||(s.$modes[m]=b),this.$embeds.push(m),this.$modes[m]=b}for(var C=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],x=function(w){(function(k){var L=C[w],E=k[L];k[C[w]]=function(){return this.$delegator(L,arguments,E)}})(S)},S=this,m=0;m<C.length;m++)x(m)},this.$delegator=function(p,m,g){var y=m[0]||"start";if(typeof y!="string"){if(Array.isArray(y[2])){var b=y[2][y[2].length-1],C=this.$modes[b];if(C)return C[p].apply(C,[y[1]].concat([].slice.call(m,1)))}y=y[0]||"start"}for(var x=0;x<this.$embeds.length;x++)if(this.$modes[this.$embeds[x]]){var S=y.split(this.$embeds[x]);if(!S[0]&&S[1]){m[0]=S[1];var C=this.$modes[this.$embeds[x]];return C[p].apply(C,m)}}var w=g.apply(this,m);return g?w:void 0},this.transformAction=function(p,m,g,y,b){if(this.$behaviour){var C=this.$behaviour.getBehaviours();for(var x in C)if(C[x][m]){var S=C[x][m].apply(this,arguments);if(S)return S}}},this.getKeywords=function(p){if(!this.completionKeywords){var m=this.$tokenizer.rules,g=[];for(var y in m)for(var b=m[y],C=0,x=b.length;C<x;C++)if(typeof b[C].token=="string")/keyword|support|storage/.test(b[C].token)&&g.push(b[C].regex);else if(typeof b[C].token=="object"){for(var S=0,w=b[C].token.length;S<w;S++)if(/keyword|support|storage/.test(b[C].token[S])){var y=b[C].regex.match(/\(.+?\)/g)[S];g.push(y.substr(1,y.length-2))}}this.completionKeywords=g}return p?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,m,g,y){var b=this.$keywordList||this.$createKeywordList();return b.map(function(C){return{name:C,value:C,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(f.prototype),r.Mode=f}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("./lib/dom"),o=function(){function a(l){this.session=l,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return a.prototype.getRowLength=function(l){var u;return this.lineWidgets?u=this.lineWidgets[l]&&this.lineWidgets[l].rowCount||0:u=0,!this.$useWrapMode||!this.$wrapData[l]?1+u:this.$wrapData[l].length+1+u},a.prototype.$getWidgetScreenLength=function(){var l=0;return this.lineWidgets.forEach(function(u){u&&u.rowCount&&!u.hidden&&(l+=u.rowCount)}),l},a.prototype.$onChangeEditor=function(l){this.attach(l.editor)},a.prototype.attach=function(l){l&&l.widgetManager&&l.widgetManager!=this&&l.widgetManager.detach(),this.editor!=l&&(this.detach(),this.editor=l,l&&(l.widgetManager=this,l.renderer.on("beforeRender",this.measureWidgets),l.renderer.on("afterRender",this.renderWidgets)))},a.prototype.detach=function(l){var u=this.editor;if(u){this.editor=null,u.widgetManager=null,u.renderer.off("beforeRender",this.measureWidgets),u.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(h){h&&h.el&&h.el.parentNode&&(h._inDocument=!1,h.el.parentNode.removeChild(h.el))})}},a.prototype.updateOnFold=function(l,u){var c=u.lineWidgets;if(!(!c||!l.action)){for(var h=l.data,d=h.start.row,f=h.end.row,p=l.action=="add",m=d+1;m<f;m++)c[m]&&(c[m].hidden=p);c[f]&&(p?c[d]?c[f].hidden=p:c[d]=c[f]:(c[d]==c[f]&&(c[d]=void 0),c[f].hidden=p))}},a.prototype.updateOnChange=function(l){var u=this.session.lineWidgets;if(u){var c=l.start.row,h=l.end.row-c;if(h!==0)if(l.action=="remove"){var d=u.splice(c+1,h);!u[c]&&d[d.length-1]&&(u[c]=d.pop()),d.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var f=new Array(h);u[c]&&u[c].column!=null&&l.start.column>u[c].column&&c++,f.unshift(c,0),u.splice.apply(u,f),this.$updateRows()}}},a.prototype.$updateRows=function(){var l=this.session.lineWidgets;if(l){var u=!0;l.forEach(function(c,h){if(c)for(u=!1,c.row=h;c.$oldWidget;)c.$oldWidget.row=h,c=c.$oldWidget}),u&&(this.session.lineWidgets=null)}},a.prototype.$registerLineWidget=function(l){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var u=this.session.lineWidgets[l.row];return u&&(l.$oldWidget=u,u.el&&u.el.parentNode&&(u.el.parentNode.removeChild(u.el),u._inDocument=!1)),this.session.lineWidgets[l.row]=l,l},a.prototype.addLineWidget=function(l){if(this.$registerLineWidget(l),l.session=this.session,!this.editor)return l;var u=this.editor.renderer;l.html&&!l.el&&(l.el=s.createElement("div"),l.el.innerHTML=l.html),l.text&&!l.el&&(l.el=s.createElement("div"),l.el.textContent=l.text),l.el&&(s.addCssClass(l.el,"ace_lineWidgetContainer"),l.className&&s.addCssClass(l.el,l.className),l.el.style.position="absolute",l.el.style.zIndex="5",u.container.appendChild(l.el),l._inDocument=!0,l.coverGutter||(l.el.style.zIndex="3"),l.pixelHeight==null&&(l.pixelHeight=l.el.offsetHeight)),l.rowCount==null&&(l.rowCount=l.pixelHeight/u.layerConfig.lineHeight);var c=this.session.getFoldAt(l.row,0);if(l.$fold=c,c){var h=this.session.lineWidgets;l.row==c.end.row&&!h[c.start.row]?h[c.start.row]=l:l.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows(),this.renderWidgets(null,u),this.onWidgetChanged(l),l},a.prototype.removeLineWidget=function(l){if(l._inDocument=!1,l.session=null,l.el&&l.el.parentNode&&l.el.parentNode.removeChild(l.el),l.editor&&l.editor.destroy)try{l.editor.destroy()}catch{}if(this.session.lineWidgets){var u=this.session.lineWidgets[l.row];if(u==l)this.session.lineWidgets[l.row]=l.$oldWidget,l.$oldWidget&&this.onWidgetChanged(l.$oldWidget);else for(;u;){if(u.$oldWidget==l){u.$oldWidget=l.$oldWidget;break}u=u.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:l.row}}}),this.$updateRows()},a.prototype.getWidgetsAtRow=function(l){for(var u=this.session.lineWidgets,c=u&&u[l],h=[];c;)h.push(c),c=c.$oldWidget;return h},a.prototype.onWidgetChanged=function(l){this.session._changedWidgets.push(l),this.editor&&this.editor.renderer.updateFull()},a.prototype.measureWidgets=function(l,u){var c=this.session._changedWidgets,h=u.layerConfig;if(!(!c||!c.length)){for(var d=1/0,f=0;f<c.length;f++){var p=c[f];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,u.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/h.characterWidth));var m=p.h/h.lineHeight;p.coverLine&&(m-=this.session.getRowLineCount(p.row),m<0&&(m=0)),p.rowCount!=m&&(p.rowCount=m,p.row<d&&(d=p.row))}}d!=1/0&&(this.session._emit("changeFold",{data:{start:{row:d}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},a.prototype.renderWidgets=function(l,u){var c=u.layerConfig,h=this.session.lineWidgets;if(h){for(var d=Math.min(this.firstRow,c.firstRow),f=Math.max(this.lastRow,c.lastRow,h.length);d>0&&!h[d];)d--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,u.$cursorLayer.config=c;for(var p=d;p<=f;p++){var m=h[p];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,u.container.appendChild(m.el));var g=u.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;m.coverLine||(g+=c.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=g-c.offset+"px";var y=m.coverGutter?0:u.gutterWidth;m.fixedWidth||(y-=u.scrollLeft),m.el.style.left=y+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=c.width+2*c.padding+"px"),m.fixedWidth?m.el.style.right=u.scrollBar.getWidth()+"px":m.el.style.right=""}}}},a}();r.LineWidgets=o}),ace.define("ace/apply_delta",["require","exports","module"],function(n,r,i){r.applyDelta=function(s,o,a){var l=o.start.row,u=o.start.column,c=s[l]||"";switch(o.action){case"insert":var h=o.lines;if(h.length===1)s[l]=c.substring(0,u)+o.lines[0]+c.substring(u);else{var d=[l,1].concat(o.lines);s.splice.apply(s,d),s[l]=c.substring(0,u)+s[l],s[l+o.lines.length-1]+=c.substring(u)}break;case"remove":var f=o.end.column,p=o.end.row;l===p?s[l]=c.substring(0,u)+c.substring(f):s.splice(l,p-l+1,c.substring(0,u)+s[p].substring(f));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/event_emitter").EventEmitter,a=function(){function c(h,d,f){this.$onChange=this.onChange.bind(this),this.attach(h),typeof d!="number"?this.setPosition(d.row,d.column):this.setPosition(d,f)}return c.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},c.prototype.getDocument=function(){return this.document},c.prototype.onChange=function(h){if(!(h.start.row==h.end.row&&h.start.row!=this.row)&&!(h.start.row>this.row)){var d=u(h,{row:this.row,column:this.column},this.$insertRight);this.setPosition(d.row,d.column,!0)}},c.prototype.setPosition=function(h,d,f){var p;if(f?p={row:h,column:d}:p=this.$clipPositionToDocument(h,d),!(this.row==p.row&&this.column==p.column)){var m={row:this.row,column:this.column};this.row=p.row,this.column=p.column,this._signal("change",{old:m,value:p})}},c.prototype.detach=function(){this.document.off("change",this.$onChange)},c.prototype.attach=function(h){this.document=h||this.document,this.document.on("change",this.$onChange)},c.prototype.$clipPositionToDocument=function(h,d){var f={};return h>=this.document.getLength()?(f.row=Math.max(0,this.document.getLength()-1),f.column=this.document.getLine(f.row).length):h<0?(f.row=0,f.column=0):(f.row=h,f.column=Math.min(this.document.getLine(f.row).length,Math.max(0,d))),d<0&&(f.column=0),f},c}();a.prototype.$insertRight=!1,s.implement(a.prototype,o);function l(c,h,d){var f=d?c.column<=h.column:c.column<h.column;return c.row<h.row||c.row==h.row&&f}function u(c,h,d){var f=c.action=="insert",p=(f?1:-1)*(c.end.row-c.start.row),m=(f?1:-1)*(c.end.column-c.start.column),g=c.start,y=f?g:c.end;return l(h,g,d)?{row:h.row,column:h.column}:l(y,h,!d)?{row:h.row+p,column:h.column+(h.row==y.row?m:0)}:{row:g.row,column:g.column}}r.Anchor=a}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,r,i){var s=n("./lib/oop"),o=n("./apply_delta").applyDelta,a=n("./lib/event_emitter").EventEmitter,l=n("./range").Range,u=n("./anchor").Anchor,c=function(){function h(d){this.$lines=[""],d.length===0?this.$lines=[""]:Array.isArray(d)?this.insertMergedLines({row:0,column:0},d):this.insert({row:0,column:0},d)}return h.prototype.setValue=function(d){var f=this.getLength()-1;this.remove(new l(0,0,f,this.getLine(f).length)),this.insert({row:0,column:0},d||"")},h.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},h.prototype.createAnchor=function(d,f){return new u(this,d,f)},h.prototype.$detectNewLine=function(d){var f=d.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=f?f[1]:`
`,this._signal("changeNewLineMode")},h.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},h.prototype.setNewLineMode=function(d){this.$newLineMode!==d&&(this.$newLineMode=d,this._signal("changeNewLineMode"))},h.prototype.getNewLineMode=function(){return this.$newLineMode},h.prototype.isNewLine=function(d){return d==`\r
`||d=="\r"||d==`
`},h.prototype.getLine=function(d){return this.$lines[d]||""},h.prototype.getLines=function(d,f){return this.$lines.slice(d,f+1)},h.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},h.prototype.getLength=function(){return this.$lines.length},h.prototype.getTextRange=function(d){return this.getLinesForRange(d).join(this.getNewLineCharacter())},h.prototype.getLinesForRange=function(d){var f;if(d.start.row===d.end.row)f=[this.getLine(d.start.row).substring(d.start.column,d.end.column)];else{f=this.getLines(d.start.row,d.end.row),f[0]=(f[0]||"").substring(d.start.column);var p=f.length-1;d.end.row-d.start.row==p&&(f[p]=f[p].substring(0,d.end.column))}return f},h.prototype.insertLines=function(d,f){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(d,f)},h.prototype.removeLines=function(d,f){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(d,f)},h.prototype.insertNewLine=function(d){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(d,["",""])},h.prototype.insert=function(d,f){return this.getLength()<=1&&this.$detectNewLine(f),this.insertMergedLines(d,this.$split(f))},h.prototype.insertInLine=function(d,f){var p=this.clippedPos(d.row,d.column),m=this.pos(d.row,d.column+f.length);return this.applyDelta({start:p,end:m,action:"insert",lines:[f]},!0),this.clonePos(m)},h.prototype.clippedPos=function(d,f){var p=this.getLength();d===void 0?d=p:d<0?d=0:d>=p&&(d=p-1,f=void 0);var m=this.getLine(d);return f==null&&(f=m.length),f=Math.min(Math.max(f,0),m.length),{row:d,column:f}},h.prototype.clonePos=function(d){return{row:d.row,column:d.column}},h.prototype.pos=function(d,f){return{row:d,column:f}},h.prototype.$clipPosition=function(d){var f=this.getLength();return d.row>=f?(d.row=Math.max(0,f-1),d.column=this.getLine(f-1).length):(d.row=Math.max(0,d.row),d.column=Math.min(Math.max(d.column,0),this.getLine(d.row).length)),d},h.prototype.insertFullLines=function(d,f){d=Math.min(Math.max(d,0),this.getLength());var p=0;d<this.getLength()?(f=f.concat([""]),p=0):(f=[""].concat(f),d--,p=this.$lines[d].length),this.insertMergedLines({row:d,column:p},f)},h.prototype.insertMergedLines=function(d,f){var p=this.clippedPos(d.row,d.column),m={row:p.row+f.length-1,column:(f.length==1?p.column:0)+f[f.length-1].length};return this.applyDelta({start:p,end:m,action:"insert",lines:f}),this.clonePos(m)},h.prototype.remove=function(d){var f=this.clippedPos(d.start.row,d.start.column),p=this.clippedPos(d.end.row,d.end.column);return this.applyDelta({start:f,end:p,action:"remove",lines:this.getLinesForRange({start:f,end:p})}),this.clonePos(f)},h.prototype.removeInLine=function(d,f,p){var m=this.clippedPos(d,f),g=this.clippedPos(d,p);return this.applyDelta({start:m,end:g,action:"remove",lines:this.getLinesForRange({start:m,end:g})},!0),this.clonePos(m)},h.prototype.removeFullLines=function(d,f){d=Math.min(Math.max(0,d),this.getLength()-1),f=Math.min(Math.max(0,f),this.getLength()-1);var p=f==this.getLength()-1&&d>0,m=f<this.getLength()-1,g=p?d-1:d,y=p?this.getLine(g).length:0,b=m?f+1:f,C=m?0:this.getLine(b).length,x=new l(g,y,b,C),S=this.$lines.slice(d,f+1);return this.applyDelta({start:x.start,end:x.end,action:"remove",lines:this.getLinesForRange(x)}),S},h.prototype.removeNewLine=function(d){d<this.getLength()-1&&d>=0&&this.applyDelta({start:this.pos(d,this.getLine(d).length),end:this.pos(d+1,0),action:"remove",lines:["",""]})},h.prototype.replace=function(d,f){if(d instanceof l||(d=l.fromPoints(d.start,d.end)),f.length===0&&d.isEmpty())return d.start;if(f==this.getTextRange(d))return d.end;this.remove(d);var p;return f?p=this.insert(d.start,f):p=d.start,p},h.prototype.applyDeltas=function(d){for(var f=0;f<d.length;f++)this.applyDelta(d[f])},h.prototype.revertDeltas=function(d){for(var f=d.length-1;f>=0;f--)this.revertDelta(d[f])},h.prototype.applyDelta=function(d,f){var p=d.action=="insert";(p?d.lines.length<=1&&!d.lines[0]:!l.comparePoints(d.start,d.end))||(p&&d.lines.length>2e4?this.$splitAndapplyLargeDelta(d,2e4):(o(this.$lines,d,f),this._signal("change",d)))},h.prototype.$safeApplyDelta=function(d){var f=this.$lines.length;(d.action=="remove"&&d.start.row<f&&d.end.row<f||d.action=="insert"&&d.start.row<=f)&&this.applyDelta(d)},h.prototype.$splitAndapplyLargeDelta=function(d,f){for(var p=d.lines,m=p.length-f+1,g=d.start.row,y=d.start.column,b=0,C=0;b<m;b=C){C+=f-1;var x=p.slice(b,C);x.push(""),this.applyDelta({start:this.pos(g+b,y),end:this.pos(g+C,y=0),action:d.action,lines:x},!0)}d.lines=p.slice(b),d.start.row=g+b,d.start.column=y,this.applyDelta(d,!0)},h.prototype.revertDelta=function(d){this.$safeApplyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:d.action=="insert"?"remove":"insert",lines:d.lines.slice()})},h.prototype.indexToPosition=function(d,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=f||0,y=p.length;g<y;g++)if(d-=p[g].length+m,d<0)return{row:g,column:d+p[g].length+m};return{row:y-1,column:d+p[y-1].length+m}},h.prototype.positionToIndex=function(d,f){for(var p=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,g=0,y=Math.min(d.row,p.length),b=f||0;b<y;++b)g+=p[b].length+m;return g+d.column},h.prototype.$split=function(d){return d.split(/\r\n|\r|\n/)},h}();c.prototype.$autoNewLine="",c.prototype.$newLineMode="auto",s.implement(c.prototype,a),r.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/event_emitter").EventEmitter,a=function(){function l(u,c){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=u;var h=this;this.$worker=function(){if(h.running){for(var d=new Date,f=h.currentLine,p=-1,m=h.doc,g=f;h.lines[f];)f++;var y=m.getLength(),b=0;for(h.running=!1;f<y;){h.$tokenizeRow(f),p=f;do f++;while(h.lines[f]);if(b++,b%5===0&&new Date-d>20){h.running=setTimeout(h.$worker,20);break}}h.currentLine=f,p==-1&&(p=f),g<=p&&h.fireUpdateEvent(g,p)}}}return l.prototype.setTokenizer=function(u){this.tokenizer=u,this.lines=[],this.states=[],this.start(0)},l.prototype.setDocument=function(u){this.doc=u,this.lines=[],this.states=[],this.stop()},l.prototype.fireUpdateEvent=function(u,c){var h={first:u,last:c};this._signal("update",{data:h})},l.prototype.start=function(u){this.currentLine=Math.min(u||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},l.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},l.prototype.$updateOnChange=function(u){var c=u.start.row,h=u.end.row-c;if(h===0)this.lines[c]=null;else if(u.action=="remove")this.lines.splice(c,h+1,null),this.states.splice(c,h+1,null);else{var d=Array(h+1);d.unshift(c,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop()},l.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},l.prototype.getTokens=function(u){return this.lines[u]||this.$tokenizeRow(u)},l.prototype.getState=function(u){return this.currentLine==u&&this.$tokenizeRow(u),this.states[u]||"start"},l.prototype.$tokenizeRow=function(u){var c=this.doc.getLine(u),h=this.states[u-1],d=this.tokenizer.getLineTokens(c,h,u);return this.states[u]+""!=d.state+""?(this.states[u]=d.state,this.lines[u+1]=null,this.currentLine>u+1&&(this.currentLine=u+1)):this.currentLine==u&&(this.currentLine=u+1),this.lines[u]=d.tokens},l.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},l}();s.implement(a.prototype,o),r.BackgroundTokenizer=a}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,r,i){var s=n("./lib/lang"),o=n("./range").Range,a=function(){function l(u,c,h){h===void 0&&(h="text"),this.setRegexp(u),this.clazz=c,this.type=h,this.docLen=0}return l.prototype.setRegexp=function(u){this.regExp+""!=u+""&&(this.regExp=u,this.cache=[])},l.prototype.update=function(u,c,h,d){if(this.regExp){for(var f=d.firstRow,p=d.lastRow,m={},g=h.$editor&&h.$editor.$search,y=g&&g.$isMultilineSearch(h.$editor.getLastSearchOptions()),b=f;b<=p;b++){var C=this.cache[b];if(C==null||h.getValue().length!=this.docLen){if(y){C=[];var x=g.$multiLineForward(h,this.regExp,b,p);if(x){var S=x.endRow<=p?x.endRow-1:p;S>b&&(b=S),C.push(new o(x.startRow,x.startCol,x.endRow,x.endCol))}C.length>this.MAX_RANGES&&(C=C.slice(0,this.MAX_RANGES))}else C=s.getMatchOffsets(h.getLine(b),this.regExp),C.length>this.MAX_RANGES&&(C=C.slice(0,this.MAX_RANGES)),C=C.map(function(E){return new o(b,E.offset,b,E.offset+E.length)});this.cache[b]=C.length?C:""}if(C.length!==0)for(var w=C.length;w--;){var k=C[w].toScreenRange(h),L=k.toString();m[L]||(m[L]=!0,c.drawSingleLineMarker(u,k,this.clazz,d))}}this.docLen=h.getValue().length}},l}();a.prototype.MAX_RANGES=500,r.SearchHighlight=a}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,r,i){var s=function(){function S(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return S.prototype.addSession=function(w){this.$session=w},S.prototype.add=function(w,k,L){if(!this.$fromUndo&&w!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),k===!1||!this.lastDeltas){this.lastDeltas=[];var E=this.$undoStack.length;E>this.$undoDepth-1&&this.$undoStack.splice(0,E-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),w.id=this.$rev=++this.$maxRev}(w.action=="remove"||w.action=="insert")&&(this.$lastDelta=w),this.lastDeltas.push(w)}},S.prototype.addSelection=function(w,k){this.selections.push({value:w,rev:k||this.$rev})},S.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},S.prototype.markIgnored=function(w,k){k==null&&(k=this.$rev+1);for(var L=this.$undoStack,E=L.length;E--;){var N=L[E][0];if(N.id<=w)break;N.id<k&&(N.ignore=!0)}this.lastDeltas=null},S.prototype.getSelection=function(w,k){for(var L=this.selections,E=L.length;E--;){var N=L[E];if(N.rev<w)return k&&(N=L[E+1]),N}},S.prototype.getRevision=function(){return this.$rev},S.prototype.getDeltas=function(w,k){k==null&&(k=this.$rev+1);for(var L=this.$undoStack,E=null,N=0,_=L.length;_--;){var R=L[_][0];if(R.id<k&&!E&&(E=_+1),R.id<=w){N=_+1;break}}return L.slice(N,E)},S.prototype.getChangedRanges=function(w,k){k==null&&(k=this.$rev+1)},S.prototype.getChangedLines=function(w,k){k==null&&(k=this.$rev+1)},S.prototype.undo=function(w,k){this.lastDeltas=null;var L=this.$undoStack;if(o(L,L.length)){w||(w=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var E=L.pop(),N=null;return E&&(N=w.undoChanges(E,k),this.$redoStack.push(E),this.$syncRev()),this.$fromUndo=!1,N}},S.prototype.redo=function(w,k){if(this.lastDeltas=null,w||(w=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var L=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);x(this.$redoStack,L),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(_){_[0].id=++this.$maxRev},this)}var E=this.$redoStack.pop(),N=null;return E&&(N=w.redoChanges(E,k),this.$undoStack.push(E),this.$syncRev()),this.$fromUndo=!1,N},S.prototype.$syncRev=function(){var w=this.$undoStack,k=w[w.length-1],L=k&&k[0].id||0;this.$redoStackBaseRev=L,this.$rev=L},S.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},S.prototype.canUndo=function(){return this.$undoStack.length>0},S.prototype.canRedo=function(){return this.$redoStack.length>0},S.prototype.bookmark=function(w){w==null&&(w=this.$rev),this.mark=w},S.prototype.isAtBookmark=function(){return this.$rev===this.mark},S.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},S.prototype.fromJSON=function(w){this.reset(),this.$undoStack=w.$undoStack,this.$redoStack=w.$redoStack},S.prototype.$prettyPrint=function(w){return w?h(w):h(this.$undoStack)+`
---
`+h(this.$redoStack)},S}();s.prototype.hasUndo=s.prototype.canUndo,s.prototype.hasRedo=s.prototype.canRedo,s.prototype.isClean=s.prototype.isAtBookmark,s.prototype.markClean=s.prototype.bookmark;function o(S,w){for(var k=w;k--;){var L=S[k];if(L&&!L[0].ignore){for(;k<w-1;){var E=p(S[k],S[k+1]);S[k]=E[0],S[k+1]=E[1],k++}return!0}}}var a=n("./range").Range,l=a.comparePoints;a.comparePoints;function u(S){return{row:S.row,column:S.column}}function c(S){return{start:u(S.start),end:u(S.end),action:S.action,lines:S.lines.slice()}}function h(S){if(S=S||this,Array.isArray(S))return S.map(h).join(`
`);var w="";return S.action?(w=S.action=="insert"?"+":"-",w+="["+S.lines+"]"):S.value&&(Array.isArray(S.value)?w=S.value.map(d).join(`
`):w=d(S.value)),S.start&&(w+=d(S)),(S.id||S.rev)&&(w+="	("+(S.id||S.rev)+")"),w}function d(S){return S.start.row+":"+S.start.column+"=>"+S.end.row+":"+S.end.column}function f(S,w){var k=S.action=="insert",L=w.action=="insert";if(k&&L)if(l(w.start,S.end)>=0)g(w,S,-1);else if(l(w.start,S.start)<=0)g(S,w,1);else return null;else if(k&&!L)if(l(w.start,S.end)>=0)g(w,S,-1);else if(l(w.end,S.start)<=0)g(S,w,-1);else return null;else if(!k&&L)if(l(w.start,S.start)>=0)g(w,S,1);else if(l(w.start,S.start)<=0)g(S,w,1);else return null;else if(!k&&!L)if(l(w.start,S.start)>=0)g(w,S,1);else if(l(w.end,S.start)<=0)g(S,w,-1);else return null;return[w,S]}function p(S,w){for(var k=S.length;k--;)for(var L=0;L<w.length;L++)if(!f(S[k],w[L])){for(;k<S.length;){for(;L--;)f(w[L],S[k]);L=w.length,k++}return[S,w]}return S.selectionBefore=w.selectionBefore=S.selectionAfter=w.selectionAfter=null,[w,S]}function m(S,w){var k=S.action=="insert",L=w.action=="insert";if(k&&L)l(S.start,w.start)<0?g(w,S,1):g(S,w,1);else if(k&&!L)l(S.start,w.end)>=0?g(S,w,-1):(l(S.start,w.start)<=0||g(S,a.fromPoints(w.start,S.start),-1),g(w,S,1));else if(!k&&L)l(w.start,S.end)>=0?g(w,S,-1):(l(w.start,S.start)<=0||g(w,a.fromPoints(S.start,w.start),-1),g(S,w,1));else if(!k&&!L)if(l(w.start,S.end)>=0)g(w,S,-1);else if(l(w.end,S.start)<=0)g(S,w,-1);else{var E,N;return l(S.start,w.start)<0&&(E=S,S=b(S,w.start)),l(S.end,w.end)>0&&(N=b(S,w.end)),y(w.end,S.start,S.end,-1),N&&!E&&(S.lines=N.lines,S.start=N.start,S.end=N.end,N=S),[w,E,N].filter(Boolean)}return[w,S]}function g(S,w,k){y(S.start,w.start,w.end,k),y(S.end,w.start,w.end,k)}function y(S,w,k,L){S.row==(L==1?w:k).row&&(S.column+=L*(k.column-w.column)),S.row+=L*(k.row-w.row)}function b(S,w){var k=S.lines,L=S.end;S.end=u(w);var E=S.end.row-S.start.row,N=k.splice(E,k.length),_=E?w.column:w.column-S.start.column;k.push(N[0].substring(0,_)),N[0]=N[0].substr(_);var R={start:u(w),end:L,lines:N,action:S.action};return R}function C(S,w){w=c(w);for(var k=S.length;k--;){for(var L=S[k],E=0;E<L.length;E++){var N=L[E],_=m(N,w);w=_[0],_.length!=2&&(_[2]?(L.splice(E+1,1,_[1],_[2]),E++):_[1]||(L.splice(E,1),E--))}L.length||S.splice(k,1)}return S}function x(S,w){for(var k=0;k<w.length;k++)for(var L=w[k],E=0;E<L.length;E++)C(S,L[E])}r.UndoManager=s}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,r,i){var s=n("../range").Range,o=function(){function a(l,u){this.foldData=l,Array.isArray(u)?this.folds=u:u=this.folds=[u];var c=u[u.length-1];this.range=new s(u[0].start.row,u[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(h){h.setFoldLine(this)},this)}return a.prototype.shiftRow=function(l){this.start.row+=l,this.end.row+=l,this.folds.forEach(function(u){u.start.row+=l,u.end.row+=l})},a.prototype.addFold=function(l){if(l.sameRow){if(l.start.row<this.startRow||l.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(l),this.folds.sort(function(u,c){return-u.range.compareEnd(c.start.row,c.start.column)}),this.range.compareEnd(l.start.row,l.start.column)>0?(this.end.row=l.end.row,this.end.column=l.end.column):this.range.compareStart(l.end.row,l.end.column)<0&&(this.start.row=l.start.row,this.start.column=l.start.column)}else if(l.start.row==this.end.row)this.folds.push(l),this.end.row=l.end.row,this.end.column=l.end.column;else if(l.end.row==this.start.row)this.folds.unshift(l),this.start.row=l.start.row,this.start.column=l.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");l.foldLine=this},a.prototype.containsRow=function(l){return l>=this.start.row&&l<=this.end.row},a.prototype.walk=function(l,u,c){var h=0,d=this.folds,f,p,m,g=!0;u==null&&(u=this.end.row,c=this.end.column);for(var y=0;y<d.length;y++){if(f=d[y],p=f.range.compareStart(u,c),p==-1){l(null,u,c,h,g);return}if(m=l(null,f.start.row,f.start.column,h,g),m=!m&&l(f.placeholder,f.start.row,f.start.column,h),m||p===0)return;g=!f.sameRow,h=f.end.column}l(null,u,c,h,g)},a.prototype.getNextFoldTo=function(l,u){for(var c,h,d=0;d<this.folds.length;d++){if(c=this.folds[d],h=c.range.compareEnd(l,u),h==-1)return{fold:c,kind:"after"};if(h===0)return{fold:c,kind:"inside"}}return null},a.prototype.addRemoveChars=function(l,u,c){var h=this.getNextFoldTo(l,u),d,f;if(h){if(d=h.fold,h.kind=="inside"&&d.start.column!=u&&d.start.row!=l)window.console&&window.console.log(l,u,d);else if(d.start.row==l){f=this.folds;var p=f.indexOf(d);for(p===0&&(this.start.column+=c),p;p<f.length;p++){if(d=f[p],d.start.column+=c,!d.sameRow)return;d.end.column+=c}this.end.column+=c}}},a.prototype.split=function(l,u){var c=this.getNextFoldTo(l,u);if(!c||c.kind=="inside")return null;var h=c.fold,d=this.folds,f=this.foldData,p=d.indexOf(h),m=d[p-1];this.end.row=m.end.row,this.end.column=m.end.column,d=d.splice(p,d.length-p);var g=new a(f,d);return f.splice(f.indexOf(this)+1,0,g),g},a.prototype.merge=function(l){for(var u=l.folds,c=0;c<u.length;c++)this.addFold(u[c]);var h=this.foldData;h.splice(h.indexOf(l),1)},a.prototype.toString=function(){var l=[this.range.toString()+": ["];return this.folds.forEach(function(u){l.push("  "+u.toString())}),l.push("]"),l.join(`
`)},a.prototype.idxToPosition=function(l){for(var u=0,c=0;c<this.folds.length;c++){var h=this.folds[c];if(l-=h.start.column-u,l<0)return{row:h.start.row,column:h.start.column+l};if(l-=h.placeholder.length,l<0)return h.start;u=h.end.column}return{row:this.end.row,column:this.end.column+l}},a}();r.FoldLine=o}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,r,i){var s=n("./range").Range,o=s.comparePoints,a=function(){function l(){this.ranges=[],this.$bias=1}return l.prototype.pointIndex=function(u,c,h){for(var d=this.ranges,f=h||0;f<d.length;f++){var p=d[f],m=o(u,p.end);if(!(m>0)){var g=o(u,p.start);return m===0?c&&g!==0?-f-2:f:g>0||g===0&&!c?f:-f-1}}return-f-1},l.prototype.add=function(u){var c=!u.isEmpty(),h=this.pointIndex(u.start,c);h<0&&(h=-h-1);var d=this.pointIndex(u.end,c,h);return d<0?d=-d-1:d++,this.ranges.splice(h,d-h,u)},l.prototype.addList=function(u){for(var c=[],h=u.length;h--;)c.push.apply(c,this.add(u[h]));return c},l.prototype.substractPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges.splice(c,1)},l.prototype.merge=function(){var u=[],c=this.ranges;c=c.sort(function(m,g){return o(m.start,g.start)});for(var h=c[0],d,f=1;f<c.length;f++){d=h,h=c[f];var p=o(d.end,h.start);p<0||p==0&&!d.isEmpty()&&!h.isEmpty()||(o(d.end,h.end)<0&&(d.end.row=h.end.row,d.end.column=h.end.column),c.splice(f,1),u.push(h),h=d,f--)}return this.ranges=c,u},l.prototype.contains=function(u,c){return this.pointIndex({row:u,column:c})>=0},l.prototype.containsPoint=function(u){return this.pointIndex(u)>=0},l.prototype.rangeAtPoint=function(u){var c=this.pointIndex(u);if(c>=0)return this.ranges[c]},l.prototype.clipRows=function(u,c){var h=this.ranges;if(h[0].start.row>c||h[h.length-1].start.row<u)return[];var d=this.pointIndex({row:u,column:0});d<0&&(d=-d-1);var f=this.pointIndex({row:c,column:0},d);f<0&&(f=-f-1);for(var p=[],m=d;m<f;m++)p.push(h[m]);return p},l.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},l.prototype.attach=function(u){this.session&&this.detach(),this.session=u,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},l.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},l.prototype.$onChange=function(u){for(var c=u.start,h=u.end,d=c.row,f=h.row,p=this.ranges,m=0,g=p.length;m<g;m++){var y=p[m];if(y.end.row>=d)break}if(u.action=="insert")for(var b=f-d,C=-c.column+h.column;m<g;m++){var y=p[m];if(y.start.row>d)break;if(y.start.row==d&&y.start.column>=c.column&&(y.start.column==c.column&&this.$bias<=0||(y.start.column+=C,y.start.row+=b)),y.end.row==d&&y.end.column>=c.column){if(y.end.column==c.column&&this.$bias<0)continue;y.end.column==c.column&&C>0&&m<g-1&&y.end.column>y.start.column&&y.end.column==p[m+1].start.column&&(y.end.column-=C),y.end.column+=C,y.end.row+=b}}else for(var b=d-f,C=c.column-h.column;m<g;m++){var y=p[m];if(y.start.row>f)break;y.end.row<f&&(d<y.end.row||d==y.end.row&&c.column<y.end.column)?(y.end.row=d,y.end.column=c.column):y.end.row==f?y.end.column<=h.column?(b||y.end.column>c.column)&&(y.end.column=c.column,y.end.row=c.row):(y.end.column+=C,y.end.row+=b):y.end.row>f&&(y.end.row+=b),y.start.row<f&&(d<y.start.row||d==y.start.row&&c.column<y.start.column)?(y.start.row=d,y.start.column=c.column):y.start.row==f?y.start.column<=h.column?(b||y.start.column>c.column)&&(y.start.column=c.column,y.start.row=c.row):(y.start.column+=C,y.start.row+=b):y.start.row>f&&(y.start.row+=b)}if(b!=0&&m<g)for(;m<g;m++){var y=p[m];y.start.row+=b,y.end.row+=b}},l}();a.prototype.comparePoints=o,r.RangeList=a}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,r,i){var s=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),o=n("../range_list").RangeList,a=function(d){s(f,d);function f(p,m){var g=d.call(this)||this;return g.foldLine=null,g.placeholder=m,g.range=p,g.start=p.start,g.end=p.end,g.sameRow=p.start.row==p.end.row,g.subFolds=g.ranges=[],g}return f.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},f.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(m){m.setFoldLine(p)})},f.prototype.clone=function(){var p=this.range.clone(),m=new f(p,this.placeholder);return this.subFolds.forEach(function(g){m.subFolds.push(g.clone())}),m.collapseChildren=this.collapseChildren,m},f.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){u(p,this.start);for(var C=p.start.row,x=p.start.column,m=0,g=-1;m<this.subFolds.length&&(g=this.subFolds[m].range.compare(C,x),g==1);m++);var y=this.subFolds[m],b=0;if(g==0){if(y.range.containsRange(p))return y.addSubFold(p);b=1}for(var C=p.range.end.row,x=p.range.end.column,S=m,g=-1;S<this.subFolds.length&&(g=this.subFolds[S].range.compare(C,x),g==1);S++);g==0&&S++;for(var w=this.subFolds.splice(m,S-m,p),k=g==0?w.length-1:w.length,L=b;L<k;L++)p.addSubFold(w[L]);return p.setFoldLine(this.foldLine),p}},f.prototype.restoreRange=function(p){return h(p,this.start)},f}(o);function l(d,f){d.row-=f.row,d.row==0&&(d.column-=f.column)}function u(d,f){l(d.start,f),l(d.end,f)}function c(d,f){d.row==0&&(d.column+=f.column),d.row+=f.row}function h(d,f){c(d.start,f),c(d.end,f)}r.Fold=a}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,r,i){var s=n("../range").Range,o=n("./fold_line").FoldLine,a=n("./fold").Fold,l=n("../token_iterator").TokenIterator,u=n("../mouse/mouse_event").MouseEvent;function c(){this.getFoldAt=function(h,d,f){var p=this.getFoldLine(h);if(!p)return null;for(var m=p.folds,g=0;g<m.length;g++){var y=m[g].range;if(y.contains(h,d)){if(f==1&&y.isEnd(h,d)&&!y.isEmpty())continue;if(f==-1&&y.isStart(h,d)&&!y.isEmpty())continue;return m[g]}}},this.getFoldsInRange=function(h){var d=h.start,f=h.end,p=this.$foldData,m=[];d.column+=1,f.column-=1;for(var g=0;g<p.length;g++){var y=p[g].range.compareRange(h);if(y!=2){if(y==-2)break;for(var b=p[g].folds,C=0;C<b.length;C++){var x=b[C];if(y=x.range.compareRange(h),y==-2)break;if(y==2)continue;if(y==42)break;m.push(x)}}}return d.column-=1,f.column+=1,m},this.getFoldsInRangeList=function(h){if(Array.isArray(h)){var d=[];h.forEach(function(f){d=d.concat(this.getFoldsInRange(f))},this)}else var d=this.getFoldsInRange(h);return d},this.getAllFolds=function(){for(var h=[],d=this.$foldData,f=0;f<d.length;f++)for(var p=0;p<d[f].folds.length;p++)h.push(d[f].folds[p]);return h},this.getFoldStringAt=function(h,d,f,p){if(p=p||this.getFoldLine(h),!p)return null;for(var m={end:{column:0}},g,y,b=0;b<p.folds.length;b++){y=p.folds[b];var C=y.range.compareEnd(h,d);if(C==-1){g=this.getLine(y.start.row).substring(m.end.column,y.start.column);break}else if(C===0)return null;m=y}return g||(g=this.getLine(y.start.row).substring(m.end.column)),f==-1?g.substring(0,d-m.end.column):f==1?g.substring(d-m.end.column):g},this.getFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.start.row<=h&&m.end.row>=h)return m;if(m.end.row>h)return null}return null},this.getNextFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var m=f[p];if(m.end.row>=h)return m}return null},this.getFoldedRowCount=function(h,d){for(var f=this.$foldData,p=d-h+1,m=0;m<f.length;m++){var g=f[m],y=g.end.row,b=g.start.row;if(y>=d){b<d&&(b>=h?p-=d-b:p=0);break}else y>=h&&(b>=h?p-=y-b:p-=y-h+1)}return p},this.$addFoldLine=function(h){return this.$foldData.push(h),this.$foldData.sort(function(d,f){return d.start.row-f.start.row}),h},this.addFold=function(h,d){var f=this.$foldData,p=!1,m;h instanceof a?m=h:(m=new a(d,h),m.collapseChildren=d.collapseChildren),this.$clipRangeToDocument(m.range);var g=m.start.row,y=m.start.column,b=m.end.row,C=m.end.column,x=this.getFoldAt(g,y,1),S=this.getFoldAt(b,C,-1);if(x&&S==x)return x.addSubFold(m);x&&!x.range.isStart(g,y)&&this.removeFold(x),S&&!S.range.isEnd(b,C)&&this.removeFold(S);var w=this.getFoldsInRange(m.range);w.length>0&&(this.removeFolds(w),m.collapseChildren||w.forEach(function(N){m.addSubFold(N)}));for(var k=0;k<f.length;k++){var L=f[k];if(b==L.start.row){L.addFold(m),p=!0;break}else if(g==L.end.row){if(L.addFold(m),p=!0,!m.sameRow){var E=f[k+1];if(E&&E.start.row==b){L.merge(E);break}}break}else if(b<=L.start.row)break}return p||(L=this.$addFoldLine(new o(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(L.start.row,L.start.row):this.$updateRowLengthCache(L.start.row,L.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(h){h.forEach(function(d){this.addFold(d)},this)},this.removeFold=function(h){var d=h.foldLine,f=d.start.row,p=d.end.row,m=this.$foldData,g=d.folds;if(g.length==1)m.splice(m.indexOf(d),1);else if(d.range.isEnd(h.end.row,h.end.column))g.pop(),d.end.row=g[g.length-1].end.row,d.end.column=g[g.length-1].end.column;else if(d.range.isStart(h.start.row,h.start.column))g.shift(),d.start.row=g[0].start.row,d.start.column=g[0].start.column;else if(h.sameRow)g.splice(g.indexOf(h),1);else{var y=d.split(h.start.row,h.start.column);g=y.folds,g.shift(),y.start.row=g[0].start.row,y.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(f,p):this.$updateRowLengthCache(f,p)),this.$modified=!0,this._signal("changeFold",{data:h,action:"remove"})},this.removeFolds=function(h){for(var d=[],f=0;f<h.length;f++)d.push(h[f]);d.forEach(function(p){this.removeFold(p)},this),this.$modified=!0},this.expandFold=function(h){this.removeFold(h),h.subFolds.forEach(function(d){h.restoreRange(d),this.addFold(d)},this),h.collapseChildren>0&&this.foldAll(h.start.row+1,h.end.row,h.collapseChildren-1),h.subFolds=[]},this.expandFolds=function(h){h.forEach(function(d){this.expandFold(d)},this)},this.unfold=function(h,d){var f,p;if(h==null)f=new s(0,0,this.getLength(),0),d==null&&(d=!0);else if(typeof h=="number")f=new s(h,0,h,this.getLine(h).length);else if("row"in h)f=s.fromPoints(h,h);else{if(Array.isArray(h))return p=[],h.forEach(function(g){p=p.concat(this.unfold(g))},this),p;f=h}p=this.getFoldsInRangeList(f);for(var m=p;p.length==1&&s.comparePoints(p[0].start,f.start)<0&&s.comparePoints(p[0].end,f.end)>0;)this.expandFolds(p),p=this.getFoldsInRangeList(f);if(d!=!1?this.removeFolds(p):this.expandFolds(p),m.length)return m},this.isRowFolded=function(h,d){return!!this.getFoldLine(h,d)},this.getRowFoldEnd=function(h,d){var f=this.getFoldLine(h,d);return f?f.end.row:h},this.getRowFoldStart=function(h,d){var f=this.getFoldLine(h,d);return f?f.start.row:h},this.getFoldDisplayLine=function(h,d,f,p,m){p==null&&(p=h.start.row),m==null&&(m=0),d==null&&(d=h.end.row),f==null&&(f=this.getLine(d).length);var g=this.doc,y="";return h.walk(function(b,C,x,S){if(!(C<p)){if(C==p){if(x<m)return;S=Math.max(m,S)}b!=null?y+=b:y+=g.getLine(C).substring(S,x)}},d,f),y},this.getDisplayLine=function(h,d,f,p){var m=this.getFoldLine(h);if(m)return this.getFoldDisplayLine(m,h,d,f,p);var g;return g=this.doc.getLine(h),g.substring(p||0,d||g.length)},this.$cloneFoldData=function(){var h=[];return h=this.$foldData.map(function(d){var f=d.folds.map(function(p){return p.clone()});return new o(h,f)}),h},this.toggleFold=function(h){var d=this.selection,f=d.getRange(),p,m;if(f.isEmpty()){var g=f.start;if(p=this.getFoldAt(g.row,g.column),p){this.expandFold(p);return}else if(h){var y=this.getFoldLine(g.row);y&&this.expandFolds(y.folds);return}else(m=this.findMatchingBracket(g))?f.comparePoint(m)==1?f.end=m:(f.start=m,f.start.column++,f.end.column--):(m=this.findMatchingBracket({row:g.row,column:g.column+1}))?(f.comparePoint(m)==1?f.end=m:f.start=m,f.start.column++):f=this.getCommentFoldRange(g.row,g.column)||f}else{var b=this.getFoldsInRange(f);if(h&&b.length){this.expandFolds(b);return}else b.length==1&&(p=b[0])}if(p||(p=this.getFoldAt(f.start.row,f.start.column)),p&&p.range.toString()==f.toString()){this.expandFold(p);return}var C="...";if(!f.isMultiLine()){if(C=this.getTextRange(f),C.length<4)return;C=C.trim().substring(0,2)+".."}this.addFold(C,f)},this.getCommentFoldRange=function(h,d,f){var p=new l(this,h,d),m=p.getCurrentToken(),g=m&&m.type;if(m&&/^comment|string/.test(g)){g=g.match(/comment|string/)[0],g=="comment"&&(g+="|doc-start|\\.doc");var y=new RegExp(g),b=new s;if(f!=1){do m=p.stepBackward();while(m&&y.test(m.type));m=p.stepForward()}b.start.row=p.getCurrentTokenRow(),b.start.column=p.getCurrentTokenColumn()+m.value.length,p=new l(this,h,d);var C=this.getState(p.$row);if(f!=-1){var x=-1;do if(m=p.stepForward(),x==-1){var S=this.getState(p.$row);C.toString()!==S.toString()&&(x=p.$row)}else if(p.$row>x)break;while(m&&y.test(m.type));m=p.stepBackward()}else m=p.getCurrentToken();return b.end.row=p.getCurrentTokenRow(),b.end.column=p.getCurrentTokenColumn(),b.start.row==b.end.row&&b.start.column>b.end.column?void 0:b}},this.foldAll=function(h,d,f,p){f==null&&(f=1e5);var m=this.foldWidgets;if(m){d=d||this.getLength(),h=h||0;for(var g=h;g<d;g++)if(m[g]==null&&(m[g]=this.getFoldWidget(g)),m[g]=="start"&&!(p&&!p(g))){var y=this.getFoldWidgetRange(g);y&&y.isMultiLine()&&y.end.row<=d&&y.start.row>=h&&(g=y.end.row,y.collapseChildren=f,this.addFold("...",y))}}},this.foldToLevel=function(h){for(this.foldAll();h-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var h=this;this.foldAll(null,null,null,function(d){for(var f=h.getTokens(d),p=0;p<f.length;p++){var m=f[p];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(h){if(!this.$foldStyles[h])throw new Error("invalid fold style: "+h+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=h){this.$foldStyle=h,h=="manual"&&this.unfold();var d=this.$foldMode;this.$setFolding(null),this.$setFolding(d)}},this.$setFolding=function(h){if(this.$foldMode!=h){if(this.$foldMode=h,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!h||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=h.getFoldWidget.bind(h,this,this.$foldStyle),this.getFoldWidgetRange=h.getFoldWidgetRange.bind(h,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(h,d){var f=this.foldWidgets;if(!f||d&&f[h])return{};for(var p=h-1,m;p>=0;){var g=f[p];if(g==null&&(g=f[p]=this.getFoldWidget(p)),g=="start"){var y=this.getFoldWidgetRange(p);if(m||(m=y),y&&y.end.row>=h)break}p--}return{range:p!==-1&&y,firstRange:m}},this.onFoldWidgetClick=function(h,d){d instanceof u&&(d=d.domEvent);var f={children:d.shiftKey,all:d.ctrlKey||d.metaKey,siblings:d.altKey},p=this.$toggleFoldWidget(h,f);if(!p){var m=d.target||d.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(h,d){if(this.getFoldWidget){var f=this.getFoldWidget(h),p=this.getLine(h),m=f==="end"?-1:1,g=this.getFoldAt(h,m===-1?0:p.length,m);if(g)return d.children||d.all?this.removeFold(g):this.expandFold(g),g;var y=this.getFoldWidgetRange(h,!0);if(y&&!y.isMultiLine()&&(g=this.getFoldAt(y.start.row,y.start.column,1),g&&y.isEqual(g.range)))return this.removeFold(g),g;if(d.siblings){var b=this.getParentFoldRangeData(h);if(b.range)var C=b.range.start.row+1,x=b.range.end.row;this.foldAll(C,x,d.all?1e4:0)}else d.children?(x=y?y.end.row:this.getLength(),this.foldAll(h+1,x,d.all?1e4:0)):y&&(d.all&&(y.collapseChildren=1e4),this.addFold("...",y));return y}},this.toggleFoldWidget=function(h){var d=this.selection.getCursor().row;d=this.getRowFoldStart(d);var f=this.$toggleFoldWidget(d,{});if(!f){var p=this.getParentFoldRangeData(d,!0);if(f=p.range||p.firstRange,f){d=f.start.row;var m=this.getFoldAt(d,this.getLine(d).length,1);m?this.removeFold(m):this.addFold("...",f)}}},this.updateFoldWidgets=function(h){var d=h.start.row,f=h.end.row-d;if(f===0)this.foldWidgets[d]=null;else if(h.action=="remove")this.foldWidgets.splice(d,f+1,null);else{var p=Array(f+1);p.unshift(d,1),this.foldWidgets.splice.apply(this.foldWidgets,p)}},this.tokenizerUpdateFoldWidgets=function(h){var d=h.data;d.first!=d.last&&this.foldWidgets.length>d.first&&this.foldWidgets.splice(d.first,this.foldWidgets.length)}}r.Folding=c}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,r,i){var s=n("../token_iterator").TokenIterator,o=n("../range").Range;function a(){this.findMatchingBracket=function(l,u){if(l.column==0)return null;var c=u||this.getLine(l.row).charAt(l.column-1);if(c=="")return null;var h=c.match(/([\(\[\{])|([\)\]\}])/);return h?h[1]?this.$findClosingBracket(h[1],l):this.$findOpeningBracket(h[2],l):null},this.getBracketRange=function(l){var u=this.getLine(l.row),c=!0,h,d=u.charAt(l.column-1),f=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(f||(d=u.charAt(l.column),l={row:l.row,column:l.column+1},f=d&&d.match(/([\(\[\{])|([\)\]\}])/),c=!1),!f)return null;if(f[1]){var p=this.$findClosingBracket(f[1],l);if(!p)return null;h=o.fromPoints(l,p),c||(h.end.column++,h.start.column--),h.cursor=h.end}else{var p=this.$findOpeningBracket(f[2],l);if(!p)return null;h=o.fromPoints(p,l),c||(h.start.column++,h.end.column--),h.cursor=h.start}return h},this.getMatchingBracketRanges=function(l,u){var c=this.getLine(l.row),h=/([\(\[\{])|([\)\]\}])/,d=!u&&c.charAt(l.column-1),f=d&&d.match(h);if(f||(d=(u===void 0||u)&&c.charAt(l.column),l={row:l.row,column:l.column+1},f=d&&d.match(h)),!f)return null;var p=new o(l.row,l.column-1,l.row,l.column),m=f[1]?this.$findClosingBracket(f[1],l):this.$findOpeningBracket(f[2],l);if(!m)return[p];var g=new o(m.row,m.column,m.row,m.column+1);return[p,g]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(l,u,c){var h=this.$brackets[l],d=1,f=new s(this,u.row,u.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var m=u.column-f.getCurrentTokenColumn()-2,g=p.value;;){for(;m>=0;){var y=g.charAt(m);if(y==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else y==l&&(d+=1);m-=1}do p=f.stepBackward();while(p&&!c.test(p.type));if(p==null)break;g=p.value,m=g.length-1}return null}},this.$findClosingBracket=function(l,u,c){var h=this.$brackets[l],d=1,f=new s(this,u.row,u.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){c||(c=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var m=u.column-f.getCurrentTokenColumn();;){for(var g=p.value,y=g.length;m<y;){var b=g.charAt(m);if(b==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:m+f.getCurrentTokenColumn()}}else b==l&&(d+=1);m+=1}do p=f.stepForward();while(p&&!c.test(p.type));if(p==null)break;m=0}return null}},this.getMatchingTags=function(l){var u=new s(this,l.row,l.column),c=this.$findTagName(u);if(c){var h=u.stepBackward();return h.value==="<"?this.$findClosingTag(u,c):this.$findOpeningTag(u,c)}},this.$findTagName=function(l){var u=l.getCurrentToken(),c=!1,h=!1;if(u&&u.type.indexOf("tag-name")===-1)do h?u=l.stepBackward():u=l.stepForward(),u&&(u.value==="/>"?h=!0:u.type.indexOf("tag-name")!==-1&&(c=!0));while(u&&!c);return u},this.$findClosingTag=function(l,u){var c,h=u.value,d=u.value,f=0,p=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);u=l.stepForward();var m=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length),g=!1;do{if(c=u,c.type.indexOf("tag-close")!==-1&&!g){var y=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);g=!0}if(u=l.stepForward(),u){if(u.value===">"&&!g){var y=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);g=!0}if(u.type.indexOf("tag-name")!==-1){if(h=u.value,d===h){if(c.value==="<")f++;else if(c.value==="</"&&(f--,f<0)){l.stepBackward();var b=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+2);u=l.stepForward();var C=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=l.stepForward()),u&&u.value===">")var x=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);else return}}}else if(d===h&&u.value==="/>"&&(f--,f<0))var b=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+2),C=b,x=C,y=new o(m.end.row,m.end.column,m.end.row,m.end.column+1)}}while(u&&f>=0);if(p&&y&&b&&x&&m&&C)return{openTag:new o(p.start.row,p.start.column,y.end.row,y.end.column),closeTag:new o(b.start.row,b.start.column,x.end.row,x.end.column),openTagName:m,closeTagName:C}},this.$findOpeningTag=function(l,u){var c=l.getCurrentToken(),h=u.value,d=0,f=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn(),m=p+2,g=new o(f,p,f,m);l.stepForward();var y=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+u.value.length);if(u.type.indexOf("tag-close")===-1&&(u=l.stepForward()),!(!u||u.value!==">")){var b=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);l.stepBackward(),l.stepBackward();do if(u=c,f=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn(),m=p+u.value.length,c=l.stepBackward(),u){if(u.type.indexOf("tag-name")!==-1){if(h===u.value)if(c.value==="<"){if(d++,d>0){var C=new o(f,p,f,m),x=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1);do u=l.stepForward();while(u&&u.value!==">");var S=new o(l.getCurrentTokenRow(),l.getCurrentTokenColumn(),l.getCurrentTokenRow(),l.getCurrentTokenColumn()+1)}}else c.value==="</"&&d--}else if(u.value==="/>"){for(var w=0,k=c;k;){if(k.type.indexOf("tag-name")!==-1&&k.value===h){d--;break}else if(k.value==="<")break;k=l.stepBackward(),w++}for(var L=0;L<w;L++)l.stepForward()}}while(c&&d<=0);if(x&&S&&g&&b&&C&&y)return{openTag:new o(x.start.row,x.start.column,S.end.row,S.end.column),closeTag:new o(g.start.row,g.start.column,b.end.row,b.end.column),openTagName:C,closeTagName:y}}}}r.BracketMatch=a}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/lang"),a=n("./bidihandler").BidiHandler,l=n("./config"),u=n("./lib/event_emitter").EventEmitter,c=n("./selection").Selection,h=n("./mode/text").Mode,d=n("./range").Range,f=n("./line_widgets").LineWidgets,p=n("./document").Document,m=n("./background_tokenizer").BackgroundTokenizer,g=n("./search_highlight").SearchHighlight,y=n("./undomanager").UndoManager,b=function(){function R(M,T){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++R.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new m(new h().getTokenizer(),this);var A=this;this.bgTokenizer.on("update",function($){A._signal("tokenizerUpdate",$)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof M!="object"||!M.getLine)&&(M=new p(M)),this.setDocument(M),this.selection=new c(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new a(this),l.resetOptions(this),this.setMode(T),l._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return R.prototype.$initOperationListeners=function(){var M=this;this.curOp=null,this.on("change",function(){M.curOp||(M.startOperation(),M.curOp.selectionBefore=M.$lastSel),M.curOp.docChanged=!0},!0),this.on("changeSelection",function(){M.curOp||(M.startOperation(),M.curOp.selectionBefore=M.$lastSel),M.curOp.selectionChanged=!0},!0),this.$operationResetTimer=o.delayedCall(this.endOperation.bind(this,!0))},R.prototype.startOperation=function(M){if(this.curOp){if(!M||this.curOp.command)return;this.prevOp=this.curOp}M||(M={}),this.$operationResetTimer.schedule(),this.curOp={command:M.command||{},args:M.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",M)},R.prototype.endOperation=function(M){if(this.curOp){if(M&&M.returnValue===!1){this.curOp=null,this._signal("endOperation",M);return}if(M==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var T=this.selection.toJSON();this.curOp.selectionAfter=T,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(T),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",M)}},R.prototype.setDocument=function(M){this.doc&&this.doc.off("change",this.$onChange),this.doc=M,M.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},R.prototype.getDocument=function(){return this.doc},Object.defineProperty(R.prototype,"widgetManager",{get:function(){var M=new f(this);return this.widgetManager=M,this.$editor&&M.attach(this.$editor),M},set:function(M){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:M})},enumerable:!1,configurable:!0}),R.prototype.$resetRowCache=function(M){if(!M){this.$docRowCache=[],this.$screenRowCache=[];return}var T=this.$docRowCache.length,A=this.$getRowCacheIndex(this.$docRowCache,M)+1;T>A&&(this.$docRowCache.splice(A,T),this.$screenRowCache.splice(A,T))},R.prototype.$getRowCacheIndex=function(M,T){for(var A=0,$=M.length-1;A<=$;){var D=A+$>>1,O=M[D];if(T>O)A=D+1;else if(T<O)$=D-1;else return D}return A-1},R.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},R.prototype.onChangeFold=function(M){var T=M.data;this.$resetRowCache(T.start.row)},R.prototype.onChange=function(M){this.$modified=!0,this.$bidiHandler.onChange(M),this.$resetRowCache(M.start.row);var T=this.$updateInternalDataOnChange(M);!this.$fromUndo&&this.$undoManager&&(T&&T.length&&(this.$undoManager.add({action:"removeFolds",folds:T},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(M,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(M),this._signal("change",M)},R.prototype.onSelectionChange=function(){this._signal("changeSelection")},R.prototype.setValue=function(M){this.doc.setValue(M),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},R.fromJSON=function(M){typeof M=="string"&&(M=JSON.parse(M));var T=new y;T.$undoStack=M.history.undo,T.$redoStack=M.history.redo,T.mark=M.history.mark,T.$rev=M.history.rev;var A=new R(M.value);return M.folds.forEach(function($){A.addFold("...",d.fromPoints($.start,$.end))}),A.setAnnotations(M.annotations),A.setBreakpoints(M.breakpoints),A.setMode(M.mode),A.setScrollLeft(M.scrollLeft),A.setScrollTop(M.scrollTop),A.setUndoManager(T),A.selection.fromJSON(M.selection),A},R.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(M){return M.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},R.prototype.toString=function(){return this.doc.getValue()},R.prototype.getSelection=function(){return this.selection},R.prototype.getState=function(M){return this.bgTokenizer.getState(M)},R.prototype.getTokens=function(M){return this.bgTokenizer.getTokens(M)},R.prototype.getTokenAt=function(M,T){var A=this.bgTokenizer.getTokens(M),$,D=0;if(T==null){var O=A.length-1;D=this.getLine(M).length}else for(var O=0;O<A.length&&(D+=A[O].value.length,!(D>=T));O++);return $=A[O],$?($.index=O,$.start=D-$.value.length,$):null},R.prototype.setUndoManager=function(M){if(this.$undoManager=M,this.$informUndoManager&&this.$informUndoManager.cancel(),M){var T=this;M.addSession(this),this.$syncInformUndoManager=function(){T.$informUndoManager.cancel(),T.mergeUndoDeltas=!1},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},R.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},R.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},R.prototype.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"	"},R.prototype.setUseSoftTabs=function(M){this.setOption("useSoftTabs",M)},R.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},R.prototype.setTabSize=function(M){this.setOption("tabSize",M)},R.prototype.getTabSize=function(){return this.$tabSize},R.prototype.isTabStop=function(M){return this.$useSoftTabs&&M.column%this.$tabSize===0},R.prototype.setNavigateWithinSoftTabs=function(M){this.setOption("navigateWithinSoftTabs",M)},R.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},R.prototype.setOverwrite=function(M){this.setOption("overwrite",M)},R.prototype.getOverwrite=function(){return this.$overwrite},R.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},R.prototype.addGutterDecoration=function(M,T){this.$decorations[M]||(this.$decorations[M]=""),this.$decorations[M]+=" "+T,this._signal("changeBreakpoint",{})},R.prototype.removeGutterCustomWidget=function(M){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(M)},R.prototype.addGutterCustomWidget=function(M,T){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(M,T)},R.prototype.removeGutterDecoration=function(M,T){this.$decorations[M]=(this.$decorations[M]||"").replace(" "+T,""),this._signal("changeBreakpoint",{})},R.prototype.getBreakpoints=function(){return this.$breakpoints},R.prototype.setBreakpoints=function(M){this.$breakpoints=[];for(var T=0;T<M.length;T++)this.$breakpoints[M[T]]="ace_breakpoint";this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},R.prototype.setBreakpoint=function(M,T){T===void 0&&(T="ace_breakpoint"),T?this.$breakpoints[M]=T:delete this.$breakpoints[M],this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoint=function(M){delete this.$breakpoints[M],this._signal("changeBreakpoint",{})},R.prototype.addMarker=function(M,T,A,$){var D=this.$markerId++,O={range:M,type:A||"line",renderer:typeof A=="function"?A:null,clazz:T,inFront:!!$,id:D};return $?(this.$frontMarkers[D]=O,this._signal("changeFrontMarker")):(this.$backMarkers[D]=O,this._signal("changeBackMarker")),D},R.prototype.addDynamicMarker=function(M,T){if(M.update){var A=this.$markerId++;return M.id=A,M.inFront=!!T,T?(this.$frontMarkers[A]=M,this._signal("changeFrontMarker")):(this.$backMarkers[A]=M,this._signal("changeBackMarker")),M}},R.prototype.removeMarker=function(M){var T=this.$frontMarkers[M]||this.$backMarkers[M];if(T){var A=T.inFront?this.$frontMarkers:this.$backMarkers;delete A[M],this._signal(T.inFront?"changeFrontMarker":"changeBackMarker")}},R.prototype.getMarkers=function(M){return M?this.$frontMarkers:this.$backMarkers},R.prototype.highlight=function(M){if(!this.$searchHighlight){var T=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(T)}this.$searchHighlight.setRegexp(M)},R.prototype.highlightLines=function(M,T,A,$){typeof T!="number"&&(A=T,T=M),A||(A="ace_step");var D=new d(M,0,T,1/0);return D.id=this.addMarker(D,A,"fullLine",$),D},R.prototype.setAnnotations=function(M){this.$annotations=M,this._signal("changeAnnotation",{})},R.prototype.getAnnotations=function(){return this.$annotations||[]},R.prototype.clearAnnotations=function(){this.setAnnotations([])},R.prototype.$detectNewLine=function(M){var T=M.match(/^.*?(\r?\n)/m);T?this.$autoNewLine=T[1]:this.$autoNewLine=`
`},R.prototype.getWordRange=function(M,T){var A=this.getLine(M),$=!1;if(T>0&&($=!!A.charAt(T-1).match(this.tokenRe)),$||($=!!A.charAt(T).match(this.tokenRe)),$)var D=this.tokenRe;else if(/^\s+$/.test(A.slice(T-1,T+1)))var D=/\s/;else var D=this.nonTokenRe;var O=T;if(O>0){do O--;while(O>=0&&A.charAt(O).match(D));O++}for(var P=T;P<A.length&&A.charAt(P).match(D);)P++;return new d(M,O,M,P)},R.prototype.getAWordRange=function(M,T){for(var A=this.getWordRange(M,T),$=this.getLine(A.end.row);$.charAt(A.end.column).match(/[ \t]/);)A.end.column+=1;return A},R.prototype.setNewLineMode=function(M){this.doc.setNewLineMode(M)},R.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},R.prototype.setUseWorker=function(M){this.setOption("useWorker",M)},R.prototype.getUseWorker=function(){return this.$useWorker},R.prototype.onReloadTokenizer=function(M){var T=M.data;this.bgTokenizer.start(T.first),this._signal("tokenizerUpdate",M)},R.prototype.setMode=function(M,T){if(M&&typeof M=="object"){if(M.getTokenizer)return this.$onChangeMode(M);var A=M,$=A.path}else $=M||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[$]&&!A){this.$onChangeMode(this.$modes[$]),T&&T();return}this.$modeId=$,l.loadModule(["mode",$],(function(D){if(!this.destroyed){if(this.$modeId!==$)return T&&T();this.$modes[$]&&!A?this.$onChangeMode(this.$modes[$]):D&&D.Mode&&(D=new D.Mode(A),A||(this.$modes[$]=D,D.$id=$),this.$onChangeMode(D)),T&&T()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},R.prototype.$onChangeMode=function(M,T){if(T||(this.$modeId=M.$id),this.$mode!==M){var A=this.$mode;this.$mode=M,this.$stopWorker(),this.$useWorker&&this.$startWorker();var $=M.getTokenizer();if($.on!==void 0){var D=this.onReloadTokenizer.bind(this);$.on("update",D)}this.bgTokenizer.setTokenizer($),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=M.tokenRe,this.nonTokenRe=M.nonTokenRe,T||(M.attachToSession&&M.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(M.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:A,mode:M}))}},R.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},R.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(M){l.warn("Could not load worker",M),this.$worker=null}},R.prototype.getMode=function(){return this.$mode},R.prototype.setScrollTop=function(M){this.$scrollTop===M||isNaN(M)||(this.$scrollTop=M,this._signal("changeScrollTop",M))},R.prototype.getScrollTop=function(){return this.$scrollTop},R.prototype.setScrollLeft=function(M){this.$scrollLeft===M||isNaN(M)||(this.$scrollLeft=M,this._signal("changeScrollLeft",M))},R.prototype.getScrollLeft=function(){return this.$scrollLeft},R.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},R.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var M=0;return this.lineWidgets.forEach(function(T){T&&T.screenWidth>M&&(M=T.screenWidth)}),this.lineWidgetWidth=M},R.prototype.$computeWidth=function(M){if(this.$modified||M){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var T=this.doc.getAllLines(),A=this.$rowLengthCache,$=0,D=0,O=this.$foldData[D],P=O?O.start.row:1/0,I=T.length,B=0;B<I;B++){if(B>P){if(B=O.end.row+1,B>=I)break;O=this.$foldData[D++],P=O?O.start.row:1/0}A[B]==null&&(A[B]=this.$getStringScreenWidth(T[B])[0]),A[B]>$&&($=A[B])}this.screenWidth=$}},R.prototype.getLine=function(M){return this.doc.getLine(M)},R.prototype.getLines=function(M,T){return this.doc.getLines(M,T)},R.prototype.getLength=function(){return this.doc.getLength()},R.prototype.getTextRange=function(M){return this.doc.getTextRange(M||this.selection.getRange())},R.prototype.insert=function(M,T){return this.doc.insert(M,T)},R.prototype.remove=function(M){return this.doc.remove(M)},R.prototype.removeFullLines=function(M,T){return this.doc.removeFullLines(M,T)},R.prototype.undoChanges=function(M,T){if(M.length){this.$fromUndo=!0;for(var A=M.length-1;A!=-1;A--){var $=M[A];$.action=="insert"||$.action=="remove"?this.doc.revertDelta($):$.folds&&this.addFolds($.folds)}!T&&this.$undoSelect&&(M.selectionBefore?this.selection.fromJSON(M.selectionBefore):this.selection.setRange(this.$getUndoSelection(M,!0))),this.$fromUndo=!1}},R.prototype.redoChanges=function(M,T){if(M.length){this.$fromUndo=!0;for(var A=0;A<M.length;A++){var $=M[A];($.action=="insert"||$.action=="remove")&&this.doc.$safeApplyDelta($)}!T&&this.$undoSelect&&(M.selectionAfter?this.selection.fromJSON(M.selectionAfter):this.selection.setRange(this.$getUndoSelection(M,!1))),this.$fromUndo=!1}},R.prototype.setUndoSelect=function(M){this.$undoSelect=M},R.prototype.$getUndoSelection=function(M,T){function A(I){return T?I.action!=="insert":I.action==="insert"}for(var $,D,O=0;O<M.length;O++){var P=M[O];if(P.start){if(!$){A(P)?$=d.fromPoints(P.start,P.end):$=d.fromPoints(P.start,P.start);continue}A(P)?(D=P.start,$.compare(D.row,D.column)==-1&&$.setStart(D),D=P.end,$.compare(D.row,D.column)==1&&$.setEnd(D)):(D=P.start,$.compare(D.row,D.column)==-1&&($=d.fromPoints(P.start,P.start)))}}return $},R.prototype.replace=function(M,T){return this.doc.replace(M,T)},R.prototype.moveText=function(M,T,A){var $=this.getTextRange(M),D=this.getFoldsInRange(M),O=d.fromPoints(T,T);if(!A){this.remove(M);var P=M.start.row-M.end.row,I=P?-M.end.column:M.start.column-M.end.column;I&&(O.start.row==M.end.row&&O.start.column>M.end.column&&(O.start.column+=I),O.end.row==M.end.row&&O.end.column>M.end.column&&(O.end.column+=I)),P&&O.start.row>=M.end.row&&(O.start.row+=P,O.end.row+=P)}if(O.end=this.insert(O.start,$),D.length){var B=M.start,Y=O.start,P=Y.row-B.row,I=Y.column-B.column;this.addFolds(D.map(function(q){return q=q.clone(),q.start.row==B.row&&(q.start.column+=I),q.end.row==B.row&&(q.end.column+=I),q.start.row+=P,q.end.row+=P,q}))}return O},R.prototype.indentRows=function(M,T,A){A=A.replace(/\t/g,this.getTabString());for(var $=M;$<=T;$++)this.doc.insertInLine({row:$,column:0},A)},R.prototype.outdentRows=function(M){for(var T=M.collapseRows(),A=new d(0,0,0,0),$=this.getTabSize(),D=T.start.row;D<=T.end.row;++D){var O=this.getLine(D);A.start.row=D,A.end.row=D;for(var P=0;P<$&&O.charAt(P)==" ";++P);P<$&&O.charAt(P)=="	"?(A.start.column=P,A.end.column=P+1):(A.start.column=0,A.end.column=P),this.remove(A)}},R.prototype.$moveLines=function(M,T,A){if(M=this.getRowFoldStart(M),T=this.getRowFoldEnd(T),A<0){var $=this.getRowFoldStart(M+A);if($<0)return 0;var D=$-M}else if(A>0){var $=this.getRowFoldEnd(T+A);if($>this.doc.getLength()-1)return 0;var D=$-T}else{M=this.$clipRowToDocument(M),T=this.$clipRowToDocument(T);var D=T-M+1}var O=new d(M,0,T,Number.MAX_VALUE),P=this.getFoldsInRange(O).map(function(B){return B=B.clone(),B.start.row+=D,B.end.row+=D,B}),I=A==0?this.doc.getLines(M,T):this.doc.removeFullLines(M,T);return this.doc.insertFullLines(M+D,I),P.length&&this.addFolds(P),D},R.prototype.moveLinesUp=function(M,T){return this.$moveLines(M,T,-1)},R.prototype.moveLinesDown=function(M,T){return this.$moveLines(M,T,1)},R.prototype.duplicateLines=function(M,T){return this.$moveLines(M,T,0)},R.prototype.$clipRowToDocument=function(M){return Math.max(0,Math.min(M,this.doc.getLength()-1))},R.prototype.$clipColumnToRow=function(M,T){return T<0?0:Math.min(this.doc.getLine(M).length,T)},R.prototype.$clipPositionToDocument=function(M,T){if(T=Math.max(0,T),M<0)M=0,T=0;else{var A=this.doc.getLength();M>=A?(M=A-1,T=this.doc.getLine(A-1).length):T=Math.min(this.doc.getLine(M).length,T)}return{row:M,column:T}},R.prototype.$clipRangeToDocument=function(M){M.start.row<0?(M.start.row=0,M.start.column=0):M.start.column=this.$clipColumnToRow(M.start.row,M.start.column);var T=this.doc.getLength()-1;return M.end.row>T?(M.end.row=T,M.end.column=this.doc.getLine(T).length):M.end.column=this.$clipColumnToRow(M.end.row,M.end.column),M},R.prototype.setUseWrapMode=function(M){if(M!=this.$useWrapMode){if(this.$useWrapMode=M,this.$modified=!0,this.$resetRowCache(0),M){var T=this.getLength();this.$wrapData=Array(T),this.$updateWrapData(0,T-1)}this._signal("changeWrapMode")}},R.prototype.getUseWrapMode=function(){return this.$useWrapMode},R.prototype.setWrapLimitRange=function(M,T){(this.$wrapLimitRange.min!==M||this.$wrapLimitRange.max!==T)&&(this.$wrapLimitRange={min:M,max:T},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},R.prototype.adjustWrapLimit=function(M,T){var A=this.$wrapLimitRange;A.max<0&&(A={min:T,max:T});var $=this.$constrainWrapLimit(M,A.min,A.max);return $!=this.$wrapLimit&&$>1?(this.$wrapLimit=$,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},R.prototype.$constrainWrapLimit=function(M,T,A){return T&&(M=Math.max(T,M)),A&&(M=Math.min(A,M)),M},R.prototype.getWrapLimit=function(){return this.$wrapLimit},R.prototype.setWrapLimit=function(M){this.setWrapLimitRange(M,M)},R.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},R.prototype.$updateInternalDataOnChange=function(M){var T=this.$useWrapMode,A=M.action,$=M.start,D=M.end,O=$.row,P=D.row,I=P-O,B=null;if(this.$updating=!0,I!=0)if(A==="remove"){this[T?"$wrapData":"$rowLengthCache"].splice(O,I);var Y=this.$foldData;B=this.getFoldsInRange(M),this.removeFolds(B);var H=this.getFoldLine(D.row),U=0;if(H){H.addRemoveChars(D.row,D.column,$.column-D.column),H.shiftRow(-I);var q=this.getFoldLine(O);q&&q!==H&&(q.merge(H),H=q),U=Y.indexOf(H)+1}for(U;U<Y.length;U++){var H=Y[U];H.start.row>=D.row&&H.shiftRow(-I)}P=O}else{var K=Array(I);K.unshift(O,0);var Q=T?this.$wrapData:this.$rowLengthCache;Q.splice.apply(Q,K);var Y=this.$foldData,H=this.getFoldLine(O),U=0;if(H){var ee=H.range.compareInside($.row,$.column);ee==0?(H=H.split($.row,$.column),H&&(H.shiftRow(I),H.addRemoveChars(P,0,D.column-$.column))):ee==-1&&(H.addRemoveChars(O,0,D.column-$.column),H.shiftRow(I)),U=Y.indexOf(H)+1}for(U;U<Y.length;U++){var H=Y[U];H.start.row>=O&&H.shiftRow(I)}}else{I=Math.abs(M.start.column-M.end.column),A==="remove"&&(B=this.getFoldsInRange(M),this.removeFolds(B),I=-I);var H=this.getFoldLine(O);H&&H.addRemoveChars(O,$.column,I)}return T&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,T?this.$updateWrapData(O,P):this.$updateRowLengthCache(O,P),B},R.prototype.$updateRowLengthCache=function(M,T){this.$rowLengthCache[M]=null,this.$rowLengthCache[T]=null},R.prototype.$updateWrapData=function(M,T){var A=this.doc.getAllLines(),$=this.getTabSize(),D=this.$wrapData,O=this.$wrapLimit,P,I,B=M;for(T=Math.min(T,A.length-1);B<=T;)I=this.getFoldLine(B,I),I?(P=[],I.walk((function(Y,H,U,q){var K;if(Y!=null){K=this.$getDisplayTokens(Y,P.length),K[0]=S;for(var Q=1;Q<K.length;Q++)K[Q]=w}else K=this.$getDisplayTokens(A[H].substring(q,U),P.length);P=P.concat(K)}).bind(this),I.end.row,A[I.end.row].length+1),D[I.start.row]=this.$computeWrapSplits(P,O,$),B=I.end.row+1):(P=this.$getDisplayTokens(A[B]),D[B]=this.$computeWrapSplits(P,O,$),B++)},R.prototype.$computeWrapSplits=function(M,T,A){if(M.length==0)return[];var $=[],D=M.length,O=0,P=0,I=this.$wrapAsCode,B=this.$indentedSoftWrap,Y=T<=Math.max(2*A,8)||B===!1?0:Math.floor(T/2);function H(){var ee=0;if(Y===0)return ee;if(B)for(var re=0;re<M.length;re++){var ae=M[re];if(ae==L)ee+=1;else if(ae==E)ee+=A;else{if(ae==N)continue;break}}return I&&B!==!1&&(ee+=A),Math.min(ee,Y)}function U(ee){for(var re=ee-O,ae=O;ae<ee;ae++){var be=M[ae];(be===12||be===2)&&(re-=1)}$.length||(q=H(),$.indent=q),P+=re,$.push(P),O=ee}for(var q=0;D-O>T-q;){var K=O+T-q;if(M[K-1]>=L&&M[K]>=L){U(K);continue}if(M[K]==S||M[K]==w){for(K;K!=O-1&&M[K]!=S;K--);if(K>O){U(K);continue}for(K=O+T,K;K<M.length&&M[K]==w;K++);if(K==M.length)break;U(K);continue}for(var Q=Math.max(K-(T-(T>>2)),O-1);K>Q&&M[K]<S;)K--;if(I){for(;K>Q&&M[K]<S;)K--;for(;K>Q&&M[K]==k;)K--}else for(;K>Q&&M[K]<L;)K--;if(K>Q){U(++K);continue}K=O+T,M[K]==x&&K--,U(K-q)}return $},R.prototype.$getDisplayTokens=function(M,T){var A=[],$;T=T||0;for(var D=0;D<M.length;D++){var O=M.charCodeAt(D);if(O==9){$=this.getScreenTabSize(A.length+T),A.push(E);for(var P=1;P<$;P++)A.push(N)}else O==32?A.push(L):O>39&&O<48||O>57&&O<64?A.push(k):O>=4352&&_(O)?A.push(C,x):A.push(C)}return A},R.prototype.$getStringScreenWidth=function(M,T,A){if(T==0)return[0,0];T==null&&(T=1/0),A=A||0;var $,D;for(D=0;D<M.length&&($=M.charCodeAt(D),$==9?A+=this.getScreenTabSize(A):$>=4352&&_($)?A+=2:A+=1,!(A>T));D++);return[A,D]},R.prototype.getRowLength=function(M){var T=1;return this.lineWidgets&&(T+=this.lineWidgets[M]&&this.lineWidgets[M].rowCount||0),!this.$useWrapMode||!this.$wrapData[M]?T:this.$wrapData[M].length+T},R.prototype.getRowLineCount=function(M){return!this.$useWrapMode||!this.$wrapData[M]?1:this.$wrapData[M].length+1},R.prototype.getRowWrapIndent=function(M){if(this.$useWrapMode){var T=this.screenToDocumentPosition(M,Number.MAX_VALUE),A=this.$wrapData[T.row];return A.length&&A[0]<T.column?A.indent:0}else return 0},R.prototype.getScreenLastRowColumn=function(M){var T=this.screenToDocumentPosition(M,Number.MAX_VALUE);return this.documentToScreenColumn(T.row,T.column)},R.prototype.getDocumentLastRowColumn=function(M,T){var A=this.documentToScreenRow(M,T);return this.getScreenLastRowColumn(A)},R.prototype.getDocumentLastRowColumnPosition=function(M,T){var A=this.documentToScreenRow(M,T);return this.screenToDocumentPosition(A,Number.MAX_VALUE/10)},R.prototype.getRowSplitData=function(M){if(this.$useWrapMode)return this.$wrapData[M]},R.prototype.getScreenTabSize=function(M){return this.$tabSize-(M%this.$tabSize|0)},R.prototype.screenToDocumentRow=function(M,T){return this.screenToDocumentPosition(M,T).row},R.prototype.screenToDocumentColumn=function(M,T){return this.screenToDocumentPosition(M,T).column},R.prototype.screenToDocumentPosition=function(M,T,A){if(M<0)return{row:0,column:0};var $,D=0,O=0,P,I=0,B=0,Y=this.$screenRowCache,H=this.$getRowCacheIndex(Y,M),U=Y.length;if(U&&H>=0)var I=Y[H],D=this.$docRowCache[H],q=M>Y[U-1];else var q=!U;for(var K=this.getLength()-1,Q=this.getNextFoldLine(D),ee=Q?Q.start.row:1/0;I<=M&&(B=this.getRowLength(D),!(I+B>M||D>=K));)I+=B,D++,D>ee&&(D=Q.end.row+1,Q=this.getNextFoldLine(D,Q),ee=Q?Q.start.row:1/0),q&&(this.$docRowCache.push(D),this.$screenRowCache.push(I));if(Q&&Q.start.row<=D)$=this.getFoldDisplayLine(Q),D=Q.start.row;else{if(I+B<=M||D>K)return{row:K,column:this.getLine(K).length};$=this.getLine(D),Q=null}var re=0,ae=Math.floor(M-I);if(this.$useWrapMode){var be=this.$wrapData[D];be&&(P=be[ae],ae>0&&be.length&&(re=be.indent,O=be[ae-1]||be[be.length-1],$=$.substring(O)))}return A!==void 0&&this.$bidiHandler.isBidiRow(I+ae,D,ae)&&(T=this.$bidiHandler.offsetToCol(A)),O+=this.$getStringScreenWidth($,T-re)[1],this.$useWrapMode&&O>=P&&(O=P-1),Q?Q.idxToPosition(O):{row:D,column:O}},R.prototype.documentToScreenPosition=function(M,T){if(typeof T>"u")var A=this.$clipPositionToDocument(M.row,M.column);else A=this.$clipPositionToDocument(M,T);M=A.row,T=A.column;var $=0,D=null,O=null;O=this.getFoldAt(M,T,1),O&&(M=O.start.row,T=O.start.column);var P,I=0,B=this.$docRowCache,Y=this.$getRowCacheIndex(B,M),H=B.length;if(H&&Y>=0)var I=B[Y],$=this.$screenRowCache[Y],U=M>B[H-1];else var U=!H;for(var q=this.getNextFoldLine(I),K=q?q.start.row:1/0;I<M;){if(I>=K){if(P=q.end.row+1,P>M)break;q=this.getNextFoldLine(P,q),K=q?q.start.row:1/0}else P=I+1;$+=this.getRowLength(I),I=P,U&&(this.$docRowCache.push(I),this.$screenRowCache.push($))}var Q="";q&&I>=K?(Q=this.getFoldDisplayLine(q,M,T),D=q.start.row):(Q=this.getLine(M).substring(0,T),D=M);var ee=0;if(this.$useWrapMode){var re=this.$wrapData[D];if(re){for(var ae=0;Q.length>=re[ae];)$++,ae++;Q=Q.substring(re[ae-1]||0,Q.length),ee=ae>0?re.indent:0}}return this.lineWidgets&&this.lineWidgets[I]&&this.lineWidgets[I].rowsAbove&&($+=this.lineWidgets[I].rowsAbove),{row:$,column:ee+this.$getStringScreenWidth(Q)[0]}},R.prototype.documentToScreenColumn=function(M,T){return this.documentToScreenPosition(M,T).column},R.prototype.documentToScreenRow=function(M,T){return this.documentToScreenPosition(M,T).row},R.prototype.getScreenLength=function(){var M=0,T=null;if(this.$useWrapMode)for(var D=this.$wrapData.length,O=0,$=0,T=this.$foldData[$++],P=T?T.start.row:1/0;O<D;){var I=this.$wrapData[O];M+=I?I.length+1:1,O++,O>P&&(O=T.end.row+1,T=this.$foldData[$++],P=T?T.start.row:1/0)}else{M=this.getLength();for(var A=this.$foldData,$=0;$<A.length;$++)T=A[$],M-=T.end.row-T.start.row}return this.lineWidgets&&(M+=this.$getWidgetScreenLength()),M},R.prototype.$setFontMetrics=function(M){this.$enableVarChar&&(this.$getStringScreenWidth=function(T,A,$){if(A===0)return[0,0];A||(A=1/0),$=$||0;var D,O;for(O=0;O<T.length&&(D=T.charAt(O),D==="	"?$+=this.getScreenTabSize($):$+=M.getCharacterWidth(D),!($>A));O++);return[$,O]})},R.prototype.getPrecedingCharacter=function(){var M=this.selection.getCursor();if(M.column===0)return M.row===0?"":this.doc.getNewLineCharacter();var T=this.getLine(M.row);return T[M.column-1]},R.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},R}();b.$uid=0,b.prototype.$modes=l.$modes,b.prototype.getValue=b.prototype.toString,b.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},b.prototype.$overwrite=!1,b.prototype.$mode=null,b.prototype.$modeId=null,b.prototype.$scrollTop=0,b.prototype.$scrollLeft=0,b.prototype.$wrapLimit=80,b.prototype.$useWrapMode=!1,b.prototype.$wrapLimitRange={min:null,max:null},b.prototype.lineWidgets=null,b.prototype.isFullWidth=_,s.implement(b.prototype,u);var C=1,x=2,S=3,w=4,k=9,L=10,E=11,N=12;function _(R){return R<4352?!1:R>=4352&&R<=4447||R>=4515&&R<=4519||R>=4602&&R<=4607||R>=9001&&R<=9002||R>=11904&&R<=11929||R>=11931&&R<=12019||R>=12032&&R<=12245||R>=12272&&R<=12283||R>=12288&&R<=12350||R>=12353&&R<=12438||R>=12441&&R<=12543||R>=12549&&R<=12589||R>=12593&&R<=12686||R>=12688&&R<=12730||R>=12736&&R<=12771||R>=12784&&R<=12830||R>=12832&&R<=12871||R>=12880&&R<=13054||R>=13056&&R<=19903||R>=19968&&R<=42124||R>=42128&&R<=42182||R>=43360&&R<=43388||R>=44032&&R<=55203||R>=55216&&R<=55238||R>=55243&&R<=55291||R>=63744&&R<=64255||R>=65040&&R<=65049||R>=65072&&R<=65106||R>=65108&&R<=65126||R>=65128&&R<=65131||R>=65281&&R<=65376||R>=65504&&R<=65510}n("./edit_session/folding").Folding.call(b.prototype),n("./edit_session/bracket_match").BracketMatch.call(b.prototype),l.defineOptions(b.prototype,"session",{wrap:{set:function(R){if(!R||R=="off"?R=!1:R=="free"?R=!0:R=="printMargin"?R=-1:typeof R=="string"&&(R=parseInt(R,10)||!1),this.$wrap!=R)if(this.$wrap=R,!R)this.setUseWrapMode(!1);else{var M=typeof R=="number"?R:null;this.setWrapLimitRange(M,M),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(R){R=R=="auto"?this.$mode.type!="text":R!="text",R!=this.$wrapAsCode&&(this.$wrapAsCode=R,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(R){this.$useWorker=R,this.$stopWorker(),R&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(R){R=parseInt(R),R>0&&this.$tabSize!==R&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=R,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(R){this.setFoldStyle(R)},handlesSet:!0},overwrite:{set:function(R){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(R){this.doc.setNewLineMode(R)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(R){this.setMode(R)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=b}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,r,i){var s=n("./lib/lang"),o=n("./lib/oop"),a=n("./range").Range,l=function(){function d(){this.$options={}}return d.prototype.set=function(f){return o.mixin(this.$options,f),this},d.prototype.getOptions=function(){return s.copyObject(this.$options)},d.prototype.setOptions=function(f){this.$options=f},d.prototype.find=function(f){var p=this.$options,m=this.$matchIterator(f,p);if(!m)return!1;var g=null;return m.forEach(function(y,b,C,x){return g=new a(y,b,C,x),b==x&&p.start&&p.start.start&&p.skipCurrent!=!1&&g.isEqual(p.start)?(g=null,!1):!0}),g},d.prototype.findAll=function(f){var p=this.$options;if(!p.needle)return[];this.$assembleRegExp(p);var m=p.range,g=m?f.getLines(m.start.row,m.end.row):f.doc.getAllLines(),y=[],b=p.re;if(p.$isMultiLine){var C=b.length,x=g.length-C,S;e:for(var w=b.offset||0;w<=x;w++){for(var k=0;k<C;k++)if(g[w+k].search(b[k])==-1)continue e;var L=g[w],E=g[w+C-1],N=L.length-L.match(b[0])[0].length,_=E.match(b[C-1])[0].length;S&&S.end.row===w&&S.end.column>N||(y.push(S=new a(w,N,w+C-1,_)),C>2&&(w=w+C-2))}}else for(var R,M=0;M<g.length;M++)if(this.$isMultilineSearch(p)){var T=g.length-1;if(R=this.$multiLineForward(f,b,M,T),R){var A=R.endRow<=T?R.endRow-1:T;A>M&&(M=A),y.push(new a(R.startRow,R.startCol,R.endRow,R.endCol))}}else{R=s.getMatchOffsets(g[M],b);for(var k=0;k<R.length;k++){var $=R[k];y.push(new a(M,$.offset,M,$.offset+$.length))}}if(m){for(var D=m.start.column,O=m.end.column,M=0,k=y.length-1;M<k&&y[M].start.column<D&&y[M].start.row==0;)M++;for(var P=m.end.row-m.start.row;M<k&&y[k].end.column>O&&y[k].end.row==P;)k--;for(y=y.slice(M,k+1),M=0,k=y.length;M<k;M++)y[M].start.row+=m.start.row,y[M].end.row+=m.start.row}return y},d.prototype.parseReplaceString=function(f){for(var p={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},m="",g=0,y=f.length;g<y;g++){var b=f.charCodeAt(g);if(b===p.Backslash){if(g++,g>=y){m+="\\";break}var C=f.charCodeAt(g);switch(C){case p.Backslash:m+="\\";break;case p.n:m+=`
`;break;case p.t:m+="	";break}continue}if(b===p.DollarSign){if(g++,g>=y){m+="$";break}var x=f.charCodeAt(g);if(x===p.DollarSign){m+="$$";continue}if(x===p.Digit0||x===p.Ampersand){m+="$&";continue}if(p.Digit1<=x&&x<=p.Digit9){m+="$"+f[g];continue}}m+=f[g]}return m||f},d.prototype.replace=function(f,p){var m=this.$options,g=this.$assembleRegExp(m);if(m.$isMultiLine)return p;if(g){var y=this.$isMultilineSearch(m);y&&(f=f.replace(/\r\n|\r|\n/g,`
`));var b=g.exec(f);if(!b||!y&&b[0].length!=f.length)return null;if(p=m.regExp?this.parseReplaceString(p):p.replace(/\$/g,"$$$$"),p=f.replace(g,p),m.preserveCase){p=p.split("");for(var C=Math.min(f.length,f.length);C--;){var x=f[C];x&&x.toLowerCase()!=x?p[C]=p[C].toUpperCase():p[C]=p[C].toLowerCase()}p=p.join("")}return p}},d.prototype.$assembleRegExp=function(f,p){if(f.needle instanceof RegExp)return f.re=f.needle;var m=f.needle;if(!f.needle)return f.re=!1;f.regExp||(m=s.escapeRegExp(m));var g=f.caseSensitive?"gm":"gmi";try{new RegExp(m,"u"),f.$supportsUnicodeFlag=!0,g+="u"}catch{f.$supportsUnicodeFlag=!1}if(f.wholeWord&&(m=u(m,f)),f.$isMultiLine=!p&&/[\n\r]/.test(m),f.$isMultiLine)return f.re=this.$assembleMultilineRegExp(m,g);try{var y=new RegExp(m,g)}catch{y=!1}return f.re=y},d.prototype.$assembleMultilineRegExp=function(f,p){for(var m=f.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),g=[],y=0;y<m.length;y++)try{g.push(new RegExp(m[y],p))}catch{return!1}return g},d.prototype.$isMultilineSearch=function(f){return f.re&&/\\r\\n|\\r|\\n/.test(f.re.source)&&f.regExp&&!f.$isMultiLine},d.prototype.$multiLineForward=function(f,p,m,g){for(var y,b=h(f,m),C=m;C<=g;){for(var x=0;x<b&&!(C>g);x++){var S=f.getLine(C++);y=y==null?S:y+`
`+S}var w=p.exec(y);if(p.lastIndex=0,w){var k=y.slice(0,w.index).split(`
`),L=w[0].split(`
`),E=m+k.length-1,N=k[k.length-1].length,_=E+L.length-1,R=L.length==1?N+L[0].length:L[L.length-1].length;return{startRow:E,startCol:N,endRow:_,endCol:R}}}return null},d.prototype.$multiLineBackward=function(f,p,m,g,y){for(var b,C=h(f,g),x=f.getLine(g).length-m,S=g;S>=y;){for(var w=0;w<C&&S>=y;w++){var k=f.getLine(S--);b=b==null?k:k+`
`+b}var L=c(b,p,x);if(L){var E=b.slice(0,L.index).split(`
`),N=L[0].split(`
`),_=S+E.length,R=E[E.length-1].length,M=_+N.length-1,T=N.length==1?R+N[0].length:N[N.length-1].length;return{startRow:_,startCol:R,endRow:M,endCol:T}}}return null},d.prototype.$matchIterator=function(f,p){var m=this.$assembleRegExp(p);if(!m)return!1;var g=this.$isMultilineSearch(p),y=this.$multiLineForward,b=this.$multiLineBackward,C=p.backwards==!0,x=p.skipCurrent!=!1,S=m.unicode,w=p.range,k=p.start;k||(k=w?w[C?"end":"start"]:f.selection.getRange()),k.start&&(k=k[x!=C?"end":"start"]);var L=w?w.start.row:0,E=w?w.end.row:f.getLength()-1;if(C)var N=function(M){var T=k.row;if(!R(T,k.column,M)){for(T--;T>=L;T--)if(R(T,Number.MAX_VALUE,M))return;if(p.wrap!=!1){for(T=E,L=k.row;T>=L;T--)if(R(T,Number.MAX_VALUE,M))return}}};else var N=function(T){var A=k.row;if(!R(A,k.column,T)){for(A=A+1;A<=E;A++)if(R(A,0,T))return;if(p.wrap!=!1){for(A=L,E=k.row;A<=E;A++)if(R(A,0,T))return}}};if(p.$isMultiLine)var _=m.length,R=function(M,T,A){var $=C?M-_+1:M;if(!($<0||$+_>f.getLength())){var D=f.getLine($),O=D.search(m[0]);if(!(!C&&O<T||O===-1)){for(var P=1;P<_;P++)if(D=f.getLine($+P),D.search(m[P])==-1)return;var I=D.match(m[_-1])[0].length;if(!(C&&I>T)&&A($,O,$+_-1,I))return!0}}};else if(C)var R=function(T,A,$){if(g){var D=b(f,m,A,T,L);if(!D)return!1;if($(D.startRow,D.startCol,D.endRow,D.endCol))return!0}else{var O=f.getLine(T),P=[],I,B=0;for(m.lastIndex=0;I=m.exec(O);){var Y=I[0].length;if(B=I.index,!Y){if(B>=O.length)break;m.lastIndex=B+=s.skipEmptyMatch(O,B,S)}if(I.index+Y>A)break;P.push(I.index,Y)}for(var H=P.length-1;H>=0;H-=2){var U=P[H-1],Y=P[H];if($(T,U,T,U+Y))return!0}}};else var R=function(T,A,$){if(m.lastIndex=A,g){var D=y(f,m,T,E);if(D){var O=D.endRow<=E?D.endRow-1:E;O>T&&(T=O)}if(!D)return!1;if($(D.startRow,D.startCol,D.endRow,D.endCol))return!0}else for(var P=f.getLine(T),I,B;B=m.exec(P);){var Y=B[0].length;if(I=B.index,$(T,I,T,I+Y))return!0;if(!Y&&(m.lastIndex=I+=s.skipEmptyMatch(P,I,S),I>=P.length))return!1}};return{forEach:N}},d}();function u(d,f){var p=s.supportsLookbehind();function m(C,x){x===void 0&&(x=!0);var S=p&&f.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return S.test(C)||f.regExp?p&&f.$supportsUnicodeFlag?x?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var g=Array.from(d),y=g[0],b=g[g.length-1];return m(y)+d+m(b,!1)}function c(d,f,p){for(var m=null,g=0;g<=d.length;){f.lastIndex=g;var y=f.exec(d);if(!y)break;var b=y.index+y[0].length;if(b>d.length-p)break;(!m||b>m.index+m[0].length)&&(m=y),g=y.index+1}return m}function h(d,f){var p=5e3,m={row:f,column:0},g=d.doc.positionToIndex(m),y=g+p,b=d.doc.indexToPosition(y),C=b.row;return C+1}r.Search=l}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var s=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),o=n("../lib/keys"),a=n("../lib/useragent"),l=o.KEY_MODS,u=function(){function d(f,p){this.$init(f,p,!1)}return d.prototype.$init=function(f,p,m){this.platform=p||(a.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(f),this.$singleCommand=m},d.prototype.addCommand=function(f){this.commands[f.name]&&this.removeCommand(f),this.commands[f.name]=f,f.bindKey&&this._buildKeyHash(f)},d.prototype.removeCommand=function(f,p){var m=f&&(typeof f=="string"?f:f.name);f=this.commands[m],p||delete this.commands[m];var g=this.commandKeyBinding;for(var y in g){var b=g[y];if(b==f)delete g[y];else if(Array.isArray(b)){var C=b.indexOf(f);C!=-1&&(b.splice(C,1),b.length==1&&(g[y]=b[0]))}}},d.prototype.bindKey=function(f,p,m){if(typeof f=="object"&&f&&(m==null&&(m=f.position),f=f[this.platform]),!!f){if(typeof p=="function")return this.addCommand({exec:p,bindKey:f,name:p.name||f});f.split("|").forEach(function(g){var y="";if(g.indexOf(" ")!=-1){var b=g.split(/\s+/);g=b.pop(),b.forEach(function(S){var w=this.parseKeys(S),k=l[w.hashId]+w.key;y+=(y?" ":"")+k,this._addCommandToBinding(y,"chainKeys")},this),y+=" "}var C=this.parseKeys(g),x=l[C.hashId]+C.key;this._addCommandToBinding(y+x,p,m)},this)}},d.prototype._addCommandToBinding=function(f,p,m){var g=this.commandKeyBinding,y;if(!p)delete g[f];else if(!g[f]||this.$singleCommand)g[f]=p;else{Array.isArray(g[f])?(y=g[f].indexOf(p))!=-1&&g[f].splice(y,1):g[f]=[g[f]],typeof m!="number"&&(m=c(p));var b=g[f];for(y=0;y<b.length;y++){var C=b[y],x=c(C);if(x>m)break}b.splice(y,0,p)}},d.prototype.addCommands=function(f){f&&Object.keys(f).forEach(function(p){var m=f[p];if(m){if(typeof m=="string")return this.bindKey(m,p);typeof m=="function"&&(m={exec:m}),typeof m=="object"&&(m.name||(m.name=p),this.addCommand(m))}},this)},d.prototype.removeCommands=function(f){Object.keys(f).forEach(function(p){this.removeCommand(f[p])},this)},d.prototype.bindKeys=function(f){Object.keys(f).forEach(function(p){this.bindKey(p,f[p])},this)},d.prototype._buildKeyHash=function(f){this.bindKey(f.bindKey,f)},d.prototype.parseKeys=function(f){var p=f.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x}),m=p.pop(),g=o[m];if(o.FUNCTION_KEYS[g])m=o.FUNCTION_KEYS[g].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:m.toUpperCase(),hashId:-1}}else return{key:m,hashId:-1};for(var y=0,b=p.length;b--;){var C=o.KEY_MODS[p[b]];if(C==null)return typeof console<"u"&&console.error("invalid modifier "+p[b]+" in "+f),!1;y|=C}return{key:m,hashId:y}},d.prototype.findKeyCommand=function(f,p){var m=l[f]+p;return this.commandKeyBinding[m]},d.prototype.handleKeyboard=function(f,p,m,g){if(!(g<0)){var y=l[p]+m,b=this.commandKeyBinding[y];return f.$keyChain&&(f.$keyChain+=" "+y,b=this.commandKeyBinding[f.$keyChain]||b),b&&(b=="chainKeys"||b[b.length-1]=="chainKeys")?(f.$keyChain=f.$keyChain||y,{command:"null"}):(f.$keyChain&&((!p||p==4)&&m.length==1?f.$keyChain=f.$keyChain.slice(0,-y.length-1):(p==-1||g>0)&&(f.$keyChain="")),{command:b})}},d.prototype.getStatusText=function(f,p){return p.$keyChain||""},d}();function c(d){return typeof d=="object"&&d.bindKey&&d.bindKey.position||(d.isDefault?-100:0)}var h=function(d){s(f,d);function f(p,m){var g=d.call(this,p,m)||this;return g.$singleCommand=!0,g}return f}(u);h.call=function(d,f,p){u.prototype.$init.call(d,f,p,!0)},u.call=function(d,f,p){u.prototype.$init.call(d,f,p,!1)},r.HashHandler=h,r.MultiHashHandler=u}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,r,i){var s=this&&this.__extends||function(){var c=function(h,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},c(h,d)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),o=n("../lib/oop"),a=n("../keyboard/hash_handler").MultiHashHandler,l=n("../lib/event_emitter").EventEmitter,u=function(c){s(h,c);function h(d,f){var p=c.call(this,f,d)||this;return p.byName=p.commands,p.setDefaultHandler("exec",function(m){return m.args?m.command.exec(m.editor,m.args,m.event,!1):m.command.exec(m.editor,{},m.event,!0)}),p}return h.prototype.exec=function(d,f,p){if(Array.isArray(d)){for(var m=d.length;m--;)if(this.exec(d[m],f,p))return!0;return!1}typeof d=="string"&&(d=this.commands[d]);var g={editor:f,command:d,args:p};return this.canExecute(d,f)?(g.returnValue=this._emit("exec",g),this._signal("afterExec",g),g.returnValue!==!1):(this._signal("commandUnavailable",g),!1)},h.prototype.canExecute=function(d,f){return typeof d=="string"&&(d=this.commands[d]),!(!d||f&&f.$readOnly&&!d.readOnly||this.$checkCommandState!=!1&&d.isAvailable&&!d.isAvailable(f))},h.prototype.toggleRecording=function(d){if(!this.$inReplay)return d&&d._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(f){this.macro.push([f.command,f.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},h.prototype.replay=function(d){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(d);try{this.$inReplay=!0,this.macro.forEach(function(f){typeof f=="string"?this.exec(f,d):this.exec(f[0],d,f[1])},this)}finally{this.$inReplay=!1}}},h.prototype.trimMacro=function(d){return d.map(function(f){return typeof f[0]!="string"&&(f[0]=f[0].name),f[1]||(f=f[0]),f})},h}(a);o.implement(u.prototype,l),r.CommandManager=u}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,r,i){var s=n("../lib/lang"),o=n("../config"),a=n("../range").Range;function l(c,h){return{win:c,mac:h}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:l("Ctrl-,","Command-,"),exec:function(c){o.loadModule("ace/ext/settings_menu",function(h){h.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:l("Alt-E","F4"),exec:function(c){o.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:l("Alt-Shift-E","Shift-F4"),exec:function(c){o.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:l("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:l(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:l("Ctrl-L","Command-L"),exec:function(c,h){typeof h=="number"&&!isNaN(h)&&c.gotoLine(h),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:l("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:l("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:l("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:l("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:l(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:l(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:l("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:l("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:l("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:l("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:l("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:l("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:l("Ctrl-F","Command-F"),exec:function(c){o.loadModule("ace/ext/searchbox",function(h){h.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:l("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:l("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:l("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:l("Up","Up|Ctrl-P"),exec:function(c,h){c.navigateUp(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:l("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:l("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:l("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:l("Down","Down|Ctrl-N"),exec:function(c,h){c.navigateDown(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:l("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:l("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:l("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:l("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:l("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:l("Left","Left|Ctrl-B"),exec:function(c,h){c.navigateLeft(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:l("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:l("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:l("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:l("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:l("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:l("Right","Right|Ctrl-F"),exec:function(c,h){c.navigateRight(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:l(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:l("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:l(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:l("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:l("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:l("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:l("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:l("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:l("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:l("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:l(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var h=c.$copyWithEmptySelection&&c.selection.isEmpty(),d=h?c.selection.getLineRange():c.selection.getRange();c._emit("cut",d),d.isEmpty()||c.session.remove(d),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,h){c.$handlePaste(h)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:l("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:l("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:l("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:l("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:l("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:l("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:l("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:l("Ctrl-H","Command-Option-F"),exec:function(c){o.loadModule("ace/ext/searchbox",function(h){h.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:l("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:l("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:l("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:l("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:l("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:l("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:l("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:l("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:l("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:l("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:l("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:l("Ctrl-Shift-Backspace",null),exec:function(c){var h=c.selection.getRange();h.start.column=0,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:l("Ctrl-Shift-Delete",null),exec:function(c){var h=c.selection.getRange();h.end.column=Number.MAX_VALUE,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:l("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:l("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:l("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:l("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:l("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:l("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,h){c.insert(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,h){c.insert(s.stringRepeat(h.text||"",h.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:l(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:l("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:l("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:l("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:l(null,null),exec:function(c){c.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:l("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var h=c.selection.getRange();h.start.column=h.end.column=0,h.end.row++,c.selection.setRange(h,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:l("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:l(null,null),exec:function(c){for(var h=c.selection.isBackwards(),d=h?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),f=h?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),p=c.session.doc.getLine(d.row).length,m=c.session.doc.getTextRange(c.selection.getRange()),g=m.replace(/\n\s*/," ").length,y=c.session.doc.getLine(d.row),b=d.row+1;b<=f.row+1;b++){var C=s.stringTrimLeft(s.stringTrimRight(c.session.doc.getLine(b)));C.length!==0&&(C=" "+C),y+=C}f.row+1<c.session.doc.getLength()-1&&(y+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new a(d.row,0,f.row+2,0),y),g>0?(c.selection.moveCursorTo(d.row,d.column),c.selection.selectTo(d.row,d.column+g)):(p=c.session.doc.getLine(d.row).length>p?p+1:p,c.selection.moveCursorTo(d.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:l(null,null),exec:function(c){var h=c.session.doc.getLength()-1,d=c.session.doc.getLine(h).length,f=c.selection.rangeList.ranges,p=[];f.length<1&&(f=[c.selection.getRange()]);for(var m=0;m<f.length;m++)m==f.length-1&&(f[m].end.row===h&&f[m].end.column===d||p.push(new a(f[m].end.row,f[m].end.column,h,d))),m===0?f[m].start.row===0&&f[m].start.column===0||p.push(new a(0,0,f[m].start.row,f[m].start.column)):p.push(new a(f[m-1].end.row,f[m-1].end.column,f[m].start.row,f[m].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var m=0;m<p.length;m++)c.selection.addRange(p[m],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var h=c.getCursorPosition();c.selection.moveTo(h.row-1,Number.MAX_VALUE),c.insert(`
`),h.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(c){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),c.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:l("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:l(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var u=1;u<9;u++)r.commands.push({name:"foldToLevel"+u,description:"Fold To Level "+u,level:u,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,r,i){var s=n("../lib/keys"),o=n("../mouse/default_gutter_handler").GutterTooltip,a=function(){function u(c){this.editor=c,this.gutterLayer=c.renderer.$gutterLayer,this.element=c.renderer.$gutter,this.lines=c.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new o(this.editor)}return u.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},u.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},u.prototype.$onGutterKeyDown=function(c){if(this.annotationTooltip.isOpen){c.preventDefault(),c.keyCode===s.escape&&this.annotationTooltip.hideTooltip();return}if(c.target===this.element){if(c.keyCode!=s.enter)return;c.preventDefault();var h=this.editor.getCursorPosition().row;this.editor.isRowVisible(h)||this.editor.scrollToLine(h,!0,!0),setTimeout((function(){var d=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),f=this.$findNearestFoldLaneWidget(d),p=this.$findNearestAnnotation(d);if(!(f===null&&p===null)){var m=this.$findClosestNumber(f,p,d);if(m===f)if(this.activeLane="fold",this.activeRowIndex=f,this.$isCustomWidgetVisible(f)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(c),setTimeout((function(){this.editor._signal("gutterkeydown",new l(c,this))}).bind(this),10)},u.prototype.$handleGutterKeyboardInteraction=function(c){if(c.keyCode===s.tab){c.preventDefault();return}if(c.keyCode===s.escape){c.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(c.keyCode===s.up){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(c.keyCode===s.down){switch(c.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(c.keyCode===s.left){c.preventDefault(),this.$switchLane("annotation");return}if(c.keyCode===s.right){c.preventDefault(),this.$switchLane("fold");return}if(c.keyCode===s.enter||c.keyCode===s.space){switch(c.preventDefault(),this.activeLane){case"fold":var h=this.$rowIndexToRow(this.activeRowIndex),d=this.editor.session.$gutterCustomWidgets[h];if(d)d.callbacks&&d.callbacks.onClick&&d.callbacks.onClick(c,h);else if(this.gutterLayer.session.foldWidgets[h]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),c),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==h&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(h),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var f=this.lines.cells[this.activeRowIndex].element.childNodes[2],p=f.getBoundingClientRect(),m=this.annotationTooltip.getElement().style;m.left=p.right+"px",m.top=p.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},u.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},u.prototype.$isFoldWidgetVisible=function(c){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),d=this.$getFoldWidget(c).style.display!=="none";return h&&d},u.prototype.$isCustomWidgetVisible=function(c){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),d=!!this.$getCustomWidget(c);return h&&d},u.prototype.$isAnnotationVisible=function(c){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(c)),d=this.$getAnnotation(c).style.display!=="none";return h&&d},u.prototype.$getFoldWidget=function(c){var h=this.lines.get(c),d=h.element;return d.childNodes[1]},u.prototype.$getCustomWidget=function(c){var h=this.lines.get(c),d=h.element;return d.childNodes[3]},u.prototype.$getAnnotation=function(c){var h=this.lines.get(c),d=h.element;return d.childNodes[2]},u.prototype.$findNearestFoldLaneWidget=function(c){if(this.$isCustomWidgetVisible(c)||this.$isFoldWidgetVisible(c))return c;for(var h=0;c-h>0||c+h<this.lines.getLength()-1;){if(h++,c-h>=0&&this.$isCustomWidgetVisible(c-h))return c-h;if(c+h<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(c+h))return c+h;if(c-h>=0&&this.$isFoldWidgetVisible(c-h))return c-h;if(c+h<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(c+h))return c+h}return null},u.prototype.$findNearestAnnotation=function(c){if(this.$isAnnotationVisible(c))return c;for(var h=0;c-h>0||c+h<this.lines.getLength()-1;){if(h++,c-h>=0&&this.$isAnnotationVisible(c-h))return c-h;if(c+h<=this.lines.getLength()-1&&this.$isAnnotationVisible(c+h))return c+h}return null},u.prototype.$focusFoldWidget=function(c){if(c!=null){var h=this.$getFoldWidget(c);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},u.prototype.$focusCustomWidget=function(c){if(c!=null){var h=this.$getCustomWidget(c);h&&(h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus())}},u.prototype.$focusAnnotation=function(c){if(c!=null){var h=this.$getAnnotation(c);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},u.prototype.$blurFoldWidget=function(c){var h=this.$getFoldWidget(c);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},u.prototype.$blurCustomWidget=function(c){var h=this.$getCustomWidget(c);h&&(h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur())},u.prototype.$blurAnnotation=function(c){var h=this.$getAnnotation(c);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},u.prototype.$moveFoldWidgetUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isFoldWidgetVisible(c)||this.$isCustomWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=c,this.$isFoldWidgetVisible(c)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},u.prototype.$moveFoldWidgetDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isFoldWidgetVisible(c)||this.$isCustomWidgetVisible(c)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=c,this.$isFoldWidgetVisible(c)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},u.prototype.$moveAnnotationUp=function(){for(var c=this.activeRowIndex;c>0;)if(c--,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$moveAnnotationDown=function(){for(var c=this.activeRowIndex;c<this.lines.getLength()-1;)if(c++,this.$isAnnotationVisible(c)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=c,this.$focusAnnotation(this.activeRowIndex);return}},u.prototype.$findClosestNumber=function(c,h,d){return c===null?h:h===null||Math.abs(d-c)<=Math.abs(d-h)?c:h},u.prototype.$switchLane=function(c){switch(c){case"annotation":if(this.activeLane==="annotation")break;var h=this.$findNearestAnnotation(this.activeRowIndex);if(h==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var d=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(d===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,this.$isCustomWidgetVisible(d)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},u.prototype.$rowIndexToRow=function(c){var h=this.lines.get(c);return h?h.row:null},u.prototype.$rowToRowIndex=function(c){for(var h=0;h<this.lines.getLength();h++){var d=this.lines.get(h);if(d.row==c)return h}return null},u}();r.GutterKeyboardHandler=a;var l=function(){function u(c,h){this.gutterKeyboardHandler=h,this.domEvent=c}return u.prototype.getKey=function(){return s.keyCodeToString(this.domEvent.keyCode)},u.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},u.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},u.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},u}();r.GutterKeyboardEvent=l}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(n,r,i){var s=this&&this.__values||function(T){var A=typeof Symbol=="function"&&Symbol.iterator,$=A&&T[A],D=0;if($)return $.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&D>=T.length&&(T=void 0),{value:T&&T[D++],done:!T}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},o=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/lang"),u=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,h=n("./mouse/mouse_handler").MouseHandler,d=n("./mouse/fold_handler").FoldHandler,f=n("./keyboard/keybinding").KeyBinding,p=n("./edit_session").EditSession,m=n("./search").Search,g=n("./range").Range,y=n("./lib/event_emitter").EventEmitter,b=n("./commands/command_manager").CommandManager,C=n("./commands/default_commands").commands,x=n("./config"),S=n("./token_iterator").TokenIterator,w=n("./keyboard/gutter_handler").GutterKeyboardHandler,k=n("./config").nls,L=n("./clipboard"),E=n("./lib/keys"),N=n("./lib/event"),_=n("./tooltip").HoverTooltip,R=function(){function T(A,$,D){this.id="editor"+ ++T.$uid,this.session,this.$toDestroy=[];var O=A.getContainerElement();this.container=O,this.renderer=A,this.commands=new b(u.isMac?"mac":"win",C),typeof document=="object"&&(this.textInput=new c(A.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new d(this)),this.keyBinding=new f(this),this.$search=new m().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=l.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(P,I){I._$emitInputEvent.schedule(31)}),this.setSession($||D&&D.session||new p("")),x.resetOptions(this),D&&this.setOptions(D),x._signal("editor",this)}return T.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},T.prototype.startOperation=function(A){this.session.startOperation(A)},T.prototype.endOperation=function(A){this.session.endOperation(A)},T.prototype.onStartOperation=function(A){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,A||(this.previousCommand=null)},T.prototype.onEndOperation=function(A){if(this.curOp&&this.session){if(A&&A.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var $=this.curOp.command,D=$&&$.scrollIntoView;if(D){switch(D){case"center-animate":D="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var O=this.selection.getRange(),P=this.renderer.layerConfig;(O.start.row>=P.lastRow||O.end.row<=P.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}D=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},T.prototype.$historyTracker=function(A){if(this.$mergeUndoDeltas){var $=this.prevOp,D=this.$mergeableCommands,O=$.command&&A.command.name==$.command.name;if(A.command.name=="insertstring"){var P=A.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),O=O&&this.mergeNextCommand&&(!/\s/.test(P)||/\s/.test($.args)),this.mergeNextCommand=!0}else O=O&&D.indexOf(A.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(O=!1),O?this.session.mergeUndoDeltas=!0:D.indexOf(A.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},T.prototype.setKeyboardHandler=function(A,$){if(A&&typeof A=="string"&&A!="ace"){this.$keybindingId=A;var D=this;x.loadModule(["keybinding",A],function(O){D.$keybindingId==A&&D.keyBinding.setKeyboardHandler(O&&O.handler),$&&$()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(A),$&&$()},T.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},T.prototype.setSession=function(A){if(this.session!=A){this.curOp&&this.endOperation(),this.curOp={};var $=this.session;if($){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var D=this.session.getSelection();D.off("changeCursor",this.$onCursorChange),D.off("changeSelection",this.$onSelectionChange)}this.session=A,A?(this.$onDocumentChange=this.onDocumentChange.bind(this),A.on("change",this.$onDocumentChange),this.renderer.setSession(A),this.$onChangeMode=this.onChangeMode.bind(this),A.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),A.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),A.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),A.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),A.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),A.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=A.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(A)),this._signal("changeSession",{session:A,oldSession:$}),this.curOp=null,$&&$._signal("changeEditor",{oldEditor:this}),$&&($.$editor=null),A&&A._signal("changeEditor",{editor:this}),A&&(A.$editor=this),A&&!A.destroyed&&A.bgTokenizer.scheduleStart()}},T.prototype.getSession=function(){return this.session},T.prototype.setValue=function(A,$){return this.session.doc.setValue(A),$?$==1?this.navigateFileEnd():$==-1&&this.navigateFileStart():this.selectAll(),A},T.prototype.getValue=function(){return this.session.getValue()},T.prototype.getSelection=function(){return this.selection},T.prototype.resize=function(A){this.renderer.onResize(A)},T.prototype.setTheme=function(A,$){this.renderer.setTheme(A,$)},T.prototype.getTheme=function(){return this.renderer.getTheme()},T.prototype.setStyle=function(A,$){this.renderer.setStyle(A,$)},T.prototype.unsetStyle=function(A){this.renderer.unsetStyle(A)},T.prototype.getFontSize=function(){return this.getOption("fontSize")||a.computedStyle(this.container).fontSize},T.prototype.setFontSize=function(A){this.setOption("fontSize",A)},T.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var A=this;this.$highlightPending=!0,setTimeout(function(){A.$highlightPending=!1;var $=A.session;if(!(!$||$.destroyed)){$.$bracketHighlight&&($.$bracketHighlight.markerIds.forEach(function(q){$.removeMarker(q)}),$.$bracketHighlight=null);var D=A.getCursorPosition(),O=A.getKeyboardHandler(),P=O&&O.$getDirectionForHighlight&&O.$getDirectionForHighlight(A),I=$.getMatchingBracketRanges(D,P);if(!I){var B=new S($,D.row,D.column),Y=B.getCurrentToken();if(Y&&/\b(?:tag-open|tag-name)/.test(Y.type)){var H=$.getMatchingTags(D);H&&(I=[H.openTagName.isEmpty()?H.openTag:H.openTagName,H.closeTagName.isEmpty()?H.closeTag:H.closeTagName])}}if(!I&&$.$mode.getMatching&&(I=$.$mode.getMatching(A.session)),!I){A.getHighlightIndentGuides()&&A.renderer.$textLayer.$highlightIndentGuide();return}var U="ace_bracket";Array.isArray(I)?I.length==1&&(U="ace_error_bracket"):I=[I],I.length==2&&(g.comparePoints(I[0].end,I[1].start)==0?I=[g.fromPoints(I[0].start,I[1].end)]:g.comparePoints(I[0].start,I[1].end)==0&&(I=[g.fromPoints(I[1].start,I[0].end)])),$.$bracketHighlight={ranges:I,markerIds:I.map(function(q){return $.addMarker(q,U,"text")})},A.getHighlightIndentGuides()&&A.renderer.$textLayer.$highlightIndentGuide()}},50)}},T.prototype.focus=function(){this.textInput.focus()},T.prototype.isFocused=function(){return this.textInput.isFocused()},T.prototype.blur=function(){this.textInput.blur()},T.prototype.onFocus=function(A){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",A))},T.prototype.onBlur=function(A){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",A))},T.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},T.prototype.onDocumentChange=function(A){var $=this.session.$useWrapMode,D=A.start.row==A.end.row?A.end.row:1/0;this.renderer.updateLines(A.start.row,D,$),this._signal("change",A),this.$cursorChange()},T.prototype.onTokenizerUpdate=function(A){var $=A.data;this.renderer.updateLines($.first,$.last)},T.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},T.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},T.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},T.prototype.$updateHighlightActiveLine=function(){var A=this.getSession(),$;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&($=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&($=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&($=!1)),A.$highlightLineMarker&&!$)A.removeMarker(A.$highlightLineMarker.id),A.$highlightLineMarker=null;else if(!A.$highlightLineMarker&&$){var D=new g($.row,$.column,$.row,1/0);D.id=A.addMarker(D,"ace_active-line","screenLine"),A.$highlightLineMarker=D}else $&&(A.$highlightLineMarker.start.row=$.row,A.$highlightLineMarker.end.row=$.row,A.$highlightLineMarker.start.column=$.column,A._signal("changeBackMarker"))},T.prototype.onSelectionChange=function(A){var $=this.session;if($.$selectionMarker&&$.removeMarker($.$selectionMarker),$.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var D=this.selection.getRange(),O=this.getSelectionStyle();$.$selectionMarker=$.addMarker(D,"ace_selection",O)}var P=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(P),this._signal("changeSelection")},T.prototype.$getSelectionHighLightRegexp=function(){var A=this.session,$=this.getSelectionRange();if(!($.isEmpty()||$.isMultiLine())){var D=$.start.column,O=$.end.column,P=A.getLine($.start.row),I=P.substring(D,O);if(!(I.length>5e3||!/[\w\d]/.test(I))){var B=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:I}),Y=P.substring(D-1,O+1);if(B.test(Y))return B}}},T.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},T.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},T.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},T.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},T.prototype.onChangeMode=function(A){this.renderer.updateText(),this._emit("changeMode",A)},T.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},T.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},T.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},T.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},T.prototype.getCopyText=function(){var A=this.getSelectedText(),$=this.session.doc.getNewLineCharacter(),D=!1;if(!A&&this.$copyWithEmptySelection){D=!0;for(var O=this.selection.getAllRanges(),P=0;P<O.length;P++){var I=O[P];P&&O[P-1].start.row==I.start.row||(A+=this.session.getLine(I.start.row)+$)}}var B={text:A};return this._signal("copy",B),L.lineMode=D?B.text:!1,B.text},T.prototype.onCopy=function(){this.commands.exec("copy",this)},T.prototype.onCut=function(){this.commands.exec("cut",this)},T.prototype.onPaste=function(A,$){var D={text:A,event:$};this.commands.exec("paste",this,D)},T.prototype.$handlePaste=function(A){typeof A=="string"&&(A={text:A}),this._signal("paste",A);var $=A.text,D=$===L.lineMode,O=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)D?O.insert({row:this.selection.lead.row,column:0},$):this.insert($);else if(D)this.selection.rangeList.ranges.forEach(function(U){O.insert({row:U.start.row,column:0},$)});else{var P=$.split(/\r\n|\r|\n/),I=this.selection.rangeList.ranges,B=P.length==2&&(!P[0]||!P[1]);if(P.length!=I.length||B)return this.commands.exec("insertstring",this,$);for(var Y=I.length;Y--;){var H=I[Y];H.isEmpty()||O.remove(H),O.insert(H.start,P[Y])}}},T.prototype.execCommand=function(A,$){return this.commands.exec(A,this,$)},T.prototype.insert=function(A,$){var D=this.session,O=D.getMode(),P=this.getCursorPosition();if(this.getBehavioursEnabled()&&!$){var I=O.transformAction(D.getState(P.row),"insertion",this,D,A);I&&(A!==I.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),A=I.text)}if(A=="	"&&(A=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&A.indexOf(`
`)==-1){var B=g.fromPoints(P,P);B.end.column+=A.length,this.session.remove(B)}}else{var B=this.getSelectionRange();P=this.session.remove(B),this.clearSelection()}if(A==`
`||A==`\r
`){var q=D.getLine(P.row);if(P.column>q.search(/\S|$/)){var Y=q.substr(P.column).search(/\S|$/);D.doc.removeInLine(P.row,P.column,P.column+Y)}}this.clearSelection();var H=P.column,U=D.getState(P.row),q=D.getLine(P.row),K=O.checkOutdent(U,q,A);if(D.insert(P,A),I&&I.selection&&(I.selection.length==2?this.selection.setSelectionRange(new g(P.row,H+I.selection[0],P.row,H+I.selection[1])):this.selection.setSelectionRange(new g(P.row+I.selection[0],I.selection[1],P.row+I.selection[2],I.selection[3]))),this.$enableAutoIndent){if(D.getDocument().isNewLine(A)){var Q=O.getNextLineIndent(U,q.slice(0,P.column),D.getTabString());D.insert({row:P.row+1,column:0},Q)}K&&O.autoOutdent(U,D,P.row)}},T.prototype.autoIndent=function(){for(var A=this.session,$=A.getMode(),D=this.selection.isEmpty()?[new g(0,0,A.doc.getLength()-1,0)]:this.selection.getAllRanges(),O="",P="",I="",B=A.getTabString(),Y=0;Y<D.length;Y++)for(var H=D[Y].start.row,U=D[Y].end.row,q=H;q<=U;q++){q>0&&(O=A.getState(q-1),P=A.getLine(q-1),I=$.getNextLineIndent(O,P,B));var K=A.getLine(q),Q=$.$getIndent(K);if(I!==Q){if(Q.length>0){var ee=new g(q,0,q,Q.length);A.remove(ee)}I.length>0&&A.insert({row:q,column:0},I)}$.autoOutdent(O,A,q)}},T.prototype.onTextInput=function(A,$){if(!$)return this.keyBinding.onTextInput(A);this.startOperation({command:{name:"insertstring"}});var D=this.applyComposition.bind(this,A,$);this.selection.rangeCount?this.forEachSelection(D):D(),this.endOperation()},T.prototype.applyComposition=function(A,$){if($.extendLeft||$.extendRight){var D=this.selection.getRange();D.start.column-=$.extendLeft,D.end.column+=$.extendRight,D.start.column<0&&(D.start.row--,D.start.column+=this.session.getLine(D.start.row).length+1),this.selection.setRange(D),!A&&!D.isEmpty()&&this.remove()}if((A||!this.selection.isEmpty())&&this.insert(A,!0),$.restoreStart||$.restoreEnd){var D=this.selection.getRange();D.start.column-=$.restoreStart,D.end.column-=$.restoreEnd,this.selection.setRange(D)}},T.prototype.onCommandKey=function(A,$,D){return this.keyBinding.onCommandKey(A,$,D)},T.prototype.setOverwrite=function(A){this.session.setOverwrite(A)},T.prototype.getOverwrite=function(){return this.session.getOverwrite()},T.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},T.prototype.setScrollSpeed=function(A){this.setOption("scrollSpeed",A)},T.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},T.prototype.setDragDelay=function(A){this.setOption("dragDelay",A)},T.prototype.getDragDelay=function(){return this.getOption("dragDelay")},T.prototype.setSelectionStyle=function(A){this.setOption("selectionStyle",A)},T.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},T.prototype.setHighlightActiveLine=function(A){this.setOption("highlightActiveLine",A)},T.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},T.prototype.setHighlightGutterLine=function(A){this.setOption("highlightGutterLine",A)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.setHighlightSelectedWord=function(A){this.setOption("highlightSelectedWord",A)},T.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},T.prototype.setAnimatedScroll=function(A){this.renderer.setAnimatedScroll(A)},T.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},T.prototype.setShowInvisibles=function(A){this.renderer.setShowInvisibles(A)},T.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},T.prototype.setDisplayIndentGuides=function(A){this.renderer.setDisplayIndentGuides(A)},T.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},T.prototype.setHighlightIndentGuides=function(A){this.renderer.setHighlightIndentGuides(A)},T.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},T.prototype.setShowPrintMargin=function(A){this.renderer.setShowPrintMargin(A)},T.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},T.prototype.setPrintMarginColumn=function(A){this.renderer.setPrintMarginColumn(A)},T.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},T.prototype.setReadOnly=function(A){this.setOption("readOnly",A)},T.prototype.getReadOnly=function(){return this.getOption("readOnly")},T.prototype.setBehavioursEnabled=function(A){this.setOption("behavioursEnabled",A)},T.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},T.prototype.setWrapBehavioursEnabled=function(A){this.setOption("wrapBehavioursEnabled",A)},T.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},T.prototype.setShowFoldWidgets=function(A){this.setOption("showFoldWidgets",A)},T.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},T.prototype.setFadeFoldWidgets=function(A){this.setOption("fadeFoldWidgets",A)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.remove=function(A){this.selection.isEmpty()&&(A=="left"?this.selection.selectLeft():this.selection.selectRight());var $=this.getSelectionRange();if(this.getBehavioursEnabled()){var D=this.session,O=D.getState($.start.row),P=D.getMode().transformAction(O,"deletion",this,D,$);if($.end.column===0){var I=D.getTextRange($);if(I[I.length-1]==`
`){var B=D.getLine($.end.row);/^\s+$/.test(B)&&($.end.column=B.length)}}P&&($=P)}this.session.remove($),this.clearSelection()},T.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var A=this.getSelectionRange();A.start.column==A.end.column&&A.start.row==A.end.row&&(A.end.column=0,A.end.row++),this.session.remove(A),this.clearSelection()},T.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var A=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(A)},T.prototype.setGhostText=function(A,$){this.renderer.setGhostText(A,$)},T.prototype.removeGhostText=function(){this.renderer.removeGhostText()},T.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var A=this.getCursorPosition(),$=A.column;if($!==0){var D=this.session.getLine(A.row),O,P;$<D.length?(O=D.charAt($)+D.charAt($-1),P=new g(A.row,$-1,A.row,$+1)):(O=D.charAt($-1)+D.charAt($-2),P=new g(A.row,$-2,A.row,$)),this.session.replace(P,O),this.session.selection.moveToPosition(P.end)}}},T.prototype.toLowerCase=function(){var A=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var $=this.getSelectionRange(),D=this.session.getTextRange($);this.session.replace($,D.toLowerCase()),this.selection.setSelectionRange(A)},T.prototype.toUpperCase=function(){var A=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var $=this.getSelectionRange(),D=this.session.getTextRange($);this.session.replace($,D.toUpperCase()),this.selection.setSelectionRange(A)},T.prototype.indent=function(){var A=this.session,$=this.getSelectionRange();if($.start.row<$.end.row){var D=this.$getSelectedRows();A.indentRows(D.first,D.last,"	");return}else if($.start.column<$.end.column){var O=A.getTextRange($);if(!/^\s+$/.test(O)){var D=this.$getSelectedRows();A.indentRows(D.first,D.last,"	");return}}var P=A.getLine($.start.row),I=$.start,B=A.getTabSize(),Y=A.documentToScreenColumn(I.row,I.column);if(this.session.getUseSoftTabs())var H=B-Y%B,U=l.stringRepeat(" ",H);else{for(var H=Y%B;P[$.start.column-1]==" "&&H;)$.start.column--,H--;this.selection.setSelectionRange($),U="	"}return this.insert(U)},T.prototype.blockIndent=function(){var A=this.$getSelectedRows();this.session.indentRows(A.first,A.last,"	")},T.prototype.blockOutdent=function(){var A=this.session.getSelection();this.session.outdentRows(A.getRange())},T.prototype.sortLines=function(){for(var A=this.$getSelectedRows(),$=this.session,D=[],O=A.first;O<=A.last;O++)D.push($.getLine(O));D.sort(function(B,Y){return B.toLowerCase()<Y.toLowerCase()?-1:B.toLowerCase()>Y.toLowerCase()?1:0});for(var P=new g(0,0,0,0),O=A.first;O<=A.last;O++){var I=$.getLine(O);P.start.row=O,P.end.row=O,P.end.column=I.length,$.replace(P,D[O-A.first])}},T.prototype.toggleCommentLines=function(){var A=this.session.getState(this.getCursorPosition().row),$=this.$getSelectedRows();this.session.getMode().toggleCommentLines(A,this.session,$.first,$.last)},T.prototype.toggleBlockComment=function(){var A=this.getCursorPosition(),$=this.session.getState(A.row),D=this.getSelectionRange();this.session.getMode().toggleBlockComment($,this.session,D,A)},T.prototype.getNumberAt=function(A,$){var D=/[\-]?[0-9]+(?:\.[0-9]+)?/g;D.lastIndex=0;for(var O=this.session.getLine(A);D.lastIndex<$;){var P=D.exec(O);if(P.index<=$&&P.index+P[0].length>=$){var I={value:P[0],start:P.index,end:P.index+P[0].length};return I}}return null},T.prototype.modifyNumber=function(A){var $=this.selection.getCursor().row,D=this.selection.getCursor().column,O=new g($,D-1,$,D),P=this.session.getTextRange(O);if(!isNaN(parseFloat(P))&&isFinite(P)){var I=this.getNumberAt($,D);if(I){var B=I.value.indexOf(".")>=0?I.start+I.value.indexOf(".")+1:I.end,Y=I.start+I.value.length-B,H=parseFloat(I.value);H*=Math.pow(10,Y),B!==I.end&&D<B?A*=Math.pow(10,I.end-D-1):A*=Math.pow(10,I.end-D),H+=A,H/=Math.pow(10,Y);var U=H.toFixed(Y),q=new g($,I.start,$,I.end);this.session.replace(q,U),this.moveCursorTo($,Math.max(I.start+1,D+U.length-I.value.length))}}else this.toggleWord()},T.prototype.toggleWord=function(){var A=this.selection.getCursor().row,$=this.selection.getCursor().column;this.selection.selectWord();var D=this.getSelectedText(),O=this.selection.getWordRange().start.column,P=D.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),I=$-O-1;I<0&&(I=0);var B=0,Y=0,H=this;D.match(/[A-Za-z0-9_]+/)&&P.forEach(function(Ae,Le){Y=B+Ae.length,I>=B&&I<=Y&&(D=Ae,H.selection.clearSelection(),H.moveCursorTo(A,B+O),H.selection.selectTo(A,Y+O)),B=Y});for(var U=this.$toggleWordPairs,q,K=0;K<U.length;K++)for(var Q=U[K],ee=0;ee<=1;ee++){var re=+!ee,ae=D.match(new RegExp("^\\s?_?("+l.escapeRegExp(Q[ee])+")\\s?$","i"));if(ae){var be=D.match(new RegExp("([_]|^|\\s)("+l.escapeRegExp(ae[1])+")($|\\s)","g"));be&&(q=D.replace(new RegExp(l.escapeRegExp(Q[ee]),"i"),function(Ae){var Le=Q[re];return Ae.toUpperCase()==Ae?Le=Le.toUpperCase():Ae.charAt(0).toUpperCase()==Ae.charAt(0)&&(Le=Le.substr(0,0)+Q[re].charAt(0).toUpperCase()+Le.substr(1)),Le}),this.insert(q),q="")}}},T.prototype.findLinkAt=function(A,$){var D,O,P=this.session.getLine(A),I=P.split(/((?:https?|ftp):\/\/[\S]+)/),B=$;B<0&&(B=0);var Y=0,H=0,U;try{for(var q=s(I),K=q.next();!K.done;K=q.next()){var Q=K.value;if(H=Y+Q.length,B>=Y&&B<=H&&Q.match(/((?:https?|ftp):\/\/[\S]+)/)){U=Q.replace(/[\s:.,'";}\]]+$/,"");break}Y=H}}catch(ee){D={error:ee}}finally{try{K&&!K.done&&(O=q.return)&&O.call(q)}finally{if(D)throw D.error}}return U},T.prototype.openLink=function(){var A=this.selection.getCursor(),$=this.findLinkAt(A.row,A.column);return $&&window.open($,"_blank"),$!=null},T.prototype.removeLines=function(){var A=this.$getSelectedRows();this.session.removeFullLines(A.first,A.last),this.clearSelection()},T.prototype.duplicateSelection=function(){var A=this.selection,$=this.session,D=A.getRange(),O=A.isBackwards();if(D.isEmpty()){var P=D.start.row;$.duplicateLines(P,P)}else{var I=O?D.start:D.end,B=$.insert(I,$.getTextRange(D));D.start=I,D.end=B,A.setSelectionRange(D,O)}},T.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},T.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},T.prototype.moveText=function(A,$,D){return this.session.moveText(A,$,D)},T.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},T.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},T.prototype.$moveLines=function(A,$){var D,O,P=this.selection;if(!P.inMultiSelectMode||this.inVirtualSelectionMode){var I=P.toOrientedRange();D=this.$getSelectedRows(I),O=this.session.$moveLines(D.first,D.last,$?0:A),$&&A==-1&&(O=0),I.moveBy(O,0),P.fromOrientedRange(I)}else{var B=P.rangeList.ranges;P.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Y=0,H=0,U=B.length,q=0;q<U;q++){var K=q;B[q].moveBy(Y,0),D=this.$getSelectedRows(B[q]);for(var Q=D.first,ee=D.last;++q<U;){H&&B[q].moveBy(H,0);var re=this.$getSelectedRows(B[q]);if($&&re.first!=ee)break;if(!$&&re.first>ee+1)break;ee=re.last}for(q--,Y=this.session.$moveLines(Q,ee,$?0:A),$&&A==-1&&(K=q+1);K<=q;)B[K].moveBy(Y,0),K++;$||(Y=0),H+=Y}P.fromOrientedRange(P.ranges[0]),P.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},T.prototype.$getSelectedRows=function(A){return A=(A||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(A.start.row),last:this.session.getRowFoldEnd(A.end.row)}},T.prototype.onCompositionStart=function(A){this.renderer.showComposition(A)},T.prototype.onCompositionUpdate=function(A){this.renderer.setCompositionText(A)},T.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},T.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},T.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},T.prototype.isRowVisible=function(A){return A>=this.getFirstVisibleRow()&&A<=this.getLastVisibleRow()},T.prototype.isRowFullyVisible=function(A){return A>=this.renderer.getFirstFullyVisibleRow()&&A<=this.renderer.getLastFullyVisibleRow()},T.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},T.prototype.$moveByPage=function(A,$){var D=this.renderer,O=this.renderer.layerConfig,P=A*Math.floor(O.height/O.lineHeight);$===!0?this.selection.$moveSelection(function(){this.moveCursorBy(P,0)}):$===!1&&(this.selection.moveCursorBy(P,0),this.selection.clearSelection());var I=D.scrollTop;D.scrollBy(0,P*O.lineHeight),$!=null&&D.scrollCursorIntoView(null,.5),D.animateScrolling(I)},T.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},T.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},T.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},T.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},T.prototype.scrollPageDown=function(){this.$moveByPage(1)},T.prototype.scrollPageUp=function(){this.$moveByPage(-1)},T.prototype.scrollToRow=function(A){this.renderer.scrollToRow(A)},T.prototype.scrollToLine=function(A,$,D,O){this.renderer.scrollToLine(A,$,D,O)},T.prototype.centerSelection=function(){var A=this.getSelectionRange(),$={row:Math.floor(A.start.row+(A.end.row-A.start.row)/2),column:Math.floor(A.start.column+(A.end.column-A.start.column)/2)};this.renderer.alignCursor($,.5)},T.prototype.getCursorPosition=function(){return this.selection.getCursor()},T.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},T.prototype.getSelectionRange=function(){return this.selection.getRange()},T.prototype.selectAll=function(){this.selection.selectAll()},T.prototype.clearSelection=function(){this.selection.clearSelection()},T.prototype.moveCursorTo=function(A,$){this.selection.moveCursorTo(A,$)},T.prototype.moveCursorToPosition=function(A){this.selection.moveCursorToPosition(A)},T.prototype.jumpToMatching=function(A,$){var D=this.getCursorPosition(),O=new S(this.session,D.row,D.column),P=O.getCurrentToken(),I=0;P&&P.type.indexOf("tag-name")!==-1&&(P=O.stepBackward());var B=P||O.stepForward();if(B){var Y,H=!1,U={},q=D.column-B.start,K,Q={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(B.value.match(/[{}()\[\]]/g)){for(;q<B.value.length&&!H;q++)if(Q[B.value[q]])switch(K=Q[B.value[q]]+"."+B.type.replace("rparen","lparen"),isNaN(U[K])&&(U[K]=0),B.value[q]){case"(":case"[":case"{":U[K]++;break;case")":case"]":case"}":U[K]--,U[K]===-1&&(Y="bracket",H=!0);break}}else B.type.indexOf("tag-name")!==-1&&(isNaN(U[B.value])&&(U[B.value]=0),P.value==="<"&&I>1?U[B.value]++:P.value==="</"&&U[B.value]--,U[B.value]===-1&&(Y="tag",H=!0));H||(P=B,I++,B=O.stepForward(),q=0)}while(B&&!H);if(Y){var ee,re;if(Y==="bracket")ee=this.session.getBracketRange(D),ee||(ee=new g(O.getCurrentTokenRow(),O.getCurrentTokenColumn()+q-1,O.getCurrentTokenRow(),O.getCurrentTokenColumn()+q-1),re=ee.start,($||re.row===D.row&&Math.abs(re.column-D.column)<2)&&(ee=this.session.getBracketRange(re)));else if(Y==="tag"){if(!B||B.type.indexOf("tag-name")===-1)return;if(ee=new g(O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2,O.getCurrentTokenRow(),O.getCurrentTokenColumn()-2),ee.compare(D.row,D.column)===0){var ae=this.session.getMatchingTags(D);ae&&(ae.openTag.contains(D.row,D.column)?(ee=ae.closeTag,re=ee.start):(ee=ae.openTag,ae.closeTag.start.row===D.row&&ae.closeTag.start.column===D.column?re=ee.end:re=ee.start))}re=re||ee.start}re=ee&&ee.cursor||re,re&&(A?ee&&$?this.selection.setRange(ee):ee&&ee.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(re.row,re.column):this.selection.moveTo(re.row,re.column))}}},T.prototype.gotoLine=function(A,$,D){this.selection.clearSelection(),this.session.unfold({row:A-1,column:$||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(A-1,$||0),this.isRowFullyVisible(A-1)||this.scrollToLine(A-1,!0,D)},T.prototype.navigateTo=function(A,$){this.selection.moveTo(A,$)},T.prototype.navigateUp=function(A){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var $=this.selection.anchor.getPosition();return this.moveCursorToPosition($)}this.selection.clearSelection(),this.selection.moveCursorBy(-A||-1,0)},T.prototype.navigateDown=function(A){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var $=this.selection.anchor.getPosition();return this.moveCursorToPosition($)}this.selection.clearSelection(),this.selection.moveCursorBy(A||1,0)},T.prototype.navigateLeft=function(A){if(this.selection.isEmpty())for(A=A||1;A--;)this.selection.moveCursorLeft();else{var $=this.getSelectionRange().start;this.moveCursorToPosition($)}this.clearSelection()},T.prototype.navigateRight=function(A){if(this.selection.isEmpty())for(A=A||1;A--;)this.selection.moveCursorRight();else{var $=this.getSelectionRange().end;this.moveCursorToPosition($)}this.clearSelection()},T.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},T.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},T.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},T.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},T.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},T.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},T.prototype.replace=function(A,$){$&&this.$search.set($);var D=this.$search.find(this.session),O=0;return D&&(this.$tryReplace(D,A)&&(O=1),this.selection.setSelectionRange(D),this.renderer.scrollSelectionIntoView(D.start,D.end)),O},T.prototype.replaceAll=function(A,$){$&&this.$search.set($);var D=this.$search.findAll(this.session),O=0;if(!D.length)return O;var P=this.getSelectionRange();this.selection.moveTo(0,0);for(var I=D.length-1;I>=0;--I)this.$tryReplace(D[I],A)&&O++;return this.selection.setSelectionRange(P),O},T.prototype.$tryReplace=function(A,$){var D=this.session.getTextRange(A);return $=this.$search.replace(D,$),$!==null?(A.end=this.session.replace(A,$),A):null},T.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},T.prototype.find=function(A,$,D){$||($={}),typeof A=="string"||A instanceof RegExp?$.needle=A:typeof A=="object"&&o.mixin($,A);var O=this.selection.getRange();$.needle==null&&(A=this.session.getTextRange(O)||this.$search.$options.needle,A||(O=this.session.getWordRange(O.start.row,O.start.column),A=this.session.getTextRange(O)),this.$search.set({needle:A})),this.$search.set($),$.start||this.$search.set({start:O});var P=this.$search.find(this.session);if($.preventScroll)return P;if(P)return this.revealRange(P,D),P;$.backwards?O.start=O.end:O.end=O.start,this.selection.setRange(O)},T.prototype.findNext=function(A,$){this.find({skipCurrent:!0,backwards:!1},A,$)},T.prototype.findPrevious=function(A,$){this.find(A,{skipCurrent:!0,backwards:!0},$)},T.prototype.revealRange=function(A,$){this.session.unfold(A),this.selection.setSelectionRange(A);var D=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(A.start,A.end,.5),$!==!1&&this.renderer.animateScrolling(D)},T.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},T.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},T.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(A){A.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},T.prototype.setAutoScrollEditorIntoView=function(A){if(A){var $,D=this,O=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var P=this.$scrollAnchor;P.style.cssText="position:absolute",this.container.insertBefore(P,this.container.firstChild);var I=this.on("changeSelection",function(){O=!0}),B=this.renderer.on("beforeRender",function(){O&&($=D.renderer.container.getBoundingClientRect())}),Y=this.renderer.on("afterRender",function(){if(O&&$&&(D.isFocused()||D.searchBox&&D.searchBox.isFocused())){var H=D.renderer,U=H.$cursorLayer.$pixelPos,q=H.layerConfig,K=U.top-q.offset;U.top>=0&&K+$.top<0?O=!0:U.top<q.height&&U.top+$.top+q.lineHeight>window.innerHeight?O=!1:O=null,O!=null&&(P.style.top=K+"px",P.style.left=U.left+"px",P.style.height=q.lineHeight+"px",P.scrollIntoView(O)),O=$=null}});this.setAutoScrollEditorIntoView=function(H){H||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",I),this.renderer.off("afterRender",Y),this.renderer.off("beforeRender",B))}}},T.prototype.$resetCursorStyle=function(){var A=this.$cursorStyle||"ace",$=this.renderer.$cursorLayer;$&&($.setSmoothBlinking(/smooth/.test(A)),$.isBlinking=!this.$readOnly&&A!="wide",a.setCssClass($.element,"ace_slim-cursors",/slim/.test(A)))},T.prototype.prompt=function(A,$,D){var O=this;x.loadModule("ace/ext/prompt",function(P){P.prompt(O,A,$,D)})},T}();R.$uid=0,R.prototype.curOp=null,R.prototype.prevOp={},R.prototype.$mergeableCommands=["backspace","del","insertstring"],R.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],o.implement(R.prototype,y),x.defineOptions(R.prototype,"editor",{selectionStyle:{set:function(T){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:T})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(T){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(T){var A=this;this.textInput.setReadOnly(T),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(D){var O=!1;if(D&&D.type=="keydown"){if(O=D&&D.key&&D.key.length==1&&!D.ctrlKey&&!D.metaKey,!O)return}else D&&D.type!=="exec"&&(O=!0);if(O){A.hoverTooltip||(A.hoverTooltip=new _);var P=a.createElement("div");P.textContent=k("editor.tooltip.disable-editing","Editing is disabled"),A.hoverTooltip.isOpen||A.hoverTooltip.showForRange(A,A.getSelectionRange(),P)}else A.hoverTooltip&&A.hoverTooltip.isOpen&&A.hoverTooltip.hide()});var $=this.textInput.getElement();T?(N.addListener($,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(N.removeListener($,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(T){this.textInput.setCopyWithEmptySelection(T)},initialValue:!1},cursorStyle:{set:function(T){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(T){this.setAutoScrollEditorIntoView(T)}},keyboardHandler:{set:function(T){this.setKeyboardHandler(T)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(T){this.session.setValue(T)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(T){this.setSession(T)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(T){this.renderer.$gutterLayer.setShowLineNumbers(T),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),T&&this.$relativeLineNumbers?M.attach(this):M.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(T){this.$showLineNumbers&&T?M.attach(this):M.detach(this)}},placeholder:{set:function(T){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var A=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(A&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),a.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!A&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),a.addCssClass(this.container,"ace_hasPlaceholder");var $=a.createElement("div");$.className="ace_placeholder",$.textContent=this.$placeholder||"",this.renderer.placeholderNode=$,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!A&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(T){var A={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(O){O.blur(),O.renderer.scroller.focus()},readOnly:!0},$=function(O){if(O.target==this.renderer.scroller&&O.keyCode===E.enter){O.preventDefault();var P=this.getCursorPosition().row;this.isRowVisible(P)||this.scrollToLine(P,!0,!0),this.focus()}},D;T?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(u.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",k("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",k("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",$.bind(this)),this.commands.addCommand(A),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",k("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",k("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),D||(D=new w(this)),D.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",$.bind(this)),this.commands.removeCommand(A),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),D&&D.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(T){this.$textInputAriaLabel=T},initialValue:""},enableMobileMenu:{set:function(T){this.$enableMobileMenu=T},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var M={getText:function(T,A){return(Math.abs(T.selection.lead.row-A)||A+1+(A<9?"·":""))+""},getWidth:function(T,A,$){return Math.max(A.toString().length,($.lastRow+1).toString().length,2)*$.characterWidth},update:function(T,A){A.renderer.$loop.schedule(A.renderer.CHANGE_GUTTER)},attach:function(T){T.renderer.$gutterLayer.$renderer=this,T.on("changeSelection",this.update),this.update(null,T)},detach:function(T){T.renderer.$gutterLayer.$renderer==this&&(T.renderer.$gutterLayer.$renderer=null),T.off("changeSelection",this.update),this.update(null,T)}};r.Editor=R}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("../lib/dom"),o=function(){function a(l,u){this.element=l,this.canvasHeight=u||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return a.prototype.moveContainer=function(l){s.translate(this.element,0,-(l.firstRowScreen*l.lineHeight%this.canvasHeight)-l.offset*this.$offsetCoefficient)},a.prototype.pageChanged=function(l,u){return Math.floor(l.firstRowScreen*l.lineHeight/this.canvasHeight)!==Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)},a.prototype.computeLineTop=function(l,u,c){var h=u.firstRowScreen*u.lineHeight,d=Math.floor(h/this.canvasHeight),f=c.documentToScreenRow(l,0)*u.lineHeight;return f-d*this.canvasHeight},a.prototype.computeLineHeight=function(l,u,c){return u.lineHeight*c.getRowLineCount(l)},a.prototype.getLength=function(){return this.cells.length},a.prototype.get=function(l){return this.cells[l]},a.prototype.shift=function(){this.$cacheCell(this.cells.shift())},a.prototype.pop=function(){this.$cacheCell(this.cells.pop())},a.prototype.push=function(l){if(Array.isArray(l)){this.cells.push.apply(this.cells,l);for(var u=s.createFragment(this.element),c=0;c<l.length;c++)u.appendChild(l[c].element);this.element.appendChild(u)}else this.cells.push(l),this.element.appendChild(l.element)},a.prototype.unshift=function(l){if(Array.isArray(l)){this.cells.unshift.apply(this.cells,l);for(var u=s.createFragment(this.element),c=0;c<l.length;c++)u.appendChild(l[c].element);this.element.firstChild?this.element.insertBefore(u,this.element.firstChild):this.element.appendChild(u)}else this.cells.unshift(l),this.element.insertAdjacentElement("afterbegin",l.element)},a.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},a.prototype.$cacheCell=function(l){l&&(l.element.remove(),this.cellCache.push(l))},a.prototype.createCell=function(l,u,c,h){var d=this.cellCache.pop();if(!d){var f=s.createElement("div");h&&h(f),this.element.appendChild(f),d={element:f,text:"",row:l}}return d.row=l,d},a}();r.Lines=o}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,r,i){var s=n("../lib/dom"),o=n("../lib/oop"),a=n("../lib/lang"),l=n("../lib/event_emitter").EventEmitter,u=n("./lines").Lines,c=n("../config").nls,h=function(){function f(p){this.element=s.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new u(this.element),this.$lines.$offsetCoefficient=1}return f.prototype.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},f.prototype.addGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,m)},f.prototype.removeGutterDecoration=function(p,m){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,m)},f.prototype.setAnnotations=function(p){this.$annotations=[];for(var m=0;m<p.length;m++){var g=p[m],y=g.row,b=this.$annotations[y];b||(b=this.$annotations[y]={text:[],type:[],displayText:[]});var C=g.text,x=g.text,S=g.type;C=C?a.escapeHTML(C):g.html||"",x=x||g.html||"",b.text.indexOf(C)===-1&&(b.text.push(C),b.type.push(S),b.displayText.push(x));var w=g.className;w?b.className=w:S==="error"?b.className=" ace_error":S==="security"&&!/\bace_error\b/.test(b.className)?b.className=" ace_security":S==="warning"&&!/\bace_(error|security)\b/.test(b.className)?b.className=" ace_warning":S==="info"&&!b.className?b.className=" ace_info":S==="hint"&&!b.className&&(b.className=" ace_hint")}},f.prototype.$updateAnnotations=function(p){if(this.$annotations.length){var m=p.start.row,g=p.end.row-m;if(g!==0)if(p.action=="remove")this.$annotations.splice(m,g+1,null);else{var y=new Array(g+1);y.unshift(m,1),this.$annotations.splice.apply(this.$annotations,y)}}},f.prototype.update=function(p){this.config=p;var m=this.session,g=p.firstRow,y=Math.min(p.lastRow+p.gutterOffset,m.getLength()-1);this.oldLastRow=y,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var b=m.getNextFoldLine(g),C=b?b.start.row:1/0,x=null,S=-1,w=g;;){if(w>C&&(w=b.end.row+1,b=m.getNextFoldLine(w,b),C=b?b.start.row:1/0),w>y){for(;this.$lines.getLength()>S+1;)this.$lines.pop();break}x=this.$lines.get(++S),x?x.row=w:(x=this.$lines.createCell(w,p,this.session,d),this.$lines.push(x)),this.$renderCell(x,p,b,w),w++}this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$updateGutterWidth=function(p){var m=this.session,g=m.gutterRenderer||this.$renderer,y=m.$firstLineNumber,b=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||m.$useWrapMode)&&(b=m.getLength()+y-1);var C=g?g.getWidth(m,b,p):b.toString().length*p.characterWidth,x=this.$padding||this.$computePadding();C+=x.left+x.right,C!==this.gutterWidth&&!isNaN(C)&&(this.gutterWidth=C,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",C))},f.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},f.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var m=this.$lines.cells;this.$cursorCell=null;for(var g=0;g<m.length;g++){var y=m[g];if(y.row>=this.$cursorRow){if(y.row>this.$cursorRow){var b=this.session.getFoldLine(this.$cursorRow);if(g>0&&b&&b.start.row==m[g-1].row)y=m[g-1];else break}y.element.className="ace_gutter-active-line "+y.element.className,this.$cursorCell=y;break}}}}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),y=this.oldLastRow;if(this.oldLastRow=g,!m||y<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var b=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);b>0;b--)this.$lines.shift();if(y>g)for(var b=this.session.getFoldedRowCount(g+1,y);b>0;b--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,m.firstRow-1)),g>y&&this.$lines.push(this.$renderLines(p,y+1,g)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$renderLines=function(p,m,g){for(var y=[],b=m,C=this.session.getNextFoldLine(b),x=C?C.start.row:1/0;b>x&&(b=C.end.row+1,C=this.session.getNextFoldLine(b,C),x=C?C.start.row:1/0),!(b>g);){var S=this.$lines.createCell(b,p,this.session,d);this.$renderCell(S,p,C,b),y.push(S),b++}return y},f.prototype.$renderCell=function(p,m,g,y){var b=p.element,C=this.session,x=b.childNodes[0],S=b.childNodes[1],w=b.childNodes[2],k=b.childNodes[3],L=w.firstChild,E=C.$firstLineNumber,N=C.$breakpoints,_=C.$decorations,R=C.gutterRenderer||this.$renderer,M=this.$showFoldWidgets&&C.foldWidgets,T=g?g.start.row:Number.MAX_VALUE,A=m.lineHeight+"px",$=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",D=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",O=(R?R.getText(C,y):y+E).toString();if(this.$highlightGutterLine&&(y==this.$cursorRow||g&&y<this.$cursorRow&&y>=T&&this.$cursorRow<=g.end.row)&&($+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),N[y]&&($+=N[y]),_[y]&&($+=_[y]),this.$annotations[y]&&y!==T&&($+=this.$annotations[y].className),M){var P=M[y];P==null&&(P=M[y]=C.getFoldWidget(y))}if(P){var I="ace_fold-widget ace_"+P,B=P=="start"&&y==T&&y<g.end.row;if(B){I+=" ace_closed";for(var Y="",H=!1,U=y+1;U<=g.end.row;U++)if(this.$annotations[U]){if(this.$annotations[U].className===" ace_error"){H=!0,Y=" ace_error_fold";break}this.$annotations[U].className===" ace_security"?(H=!0,Y=" ace_security_fold"):this.$annotations[U].className===" ace_warning"&&Y!==" ace_security_fold"&&(H=!0,Y=" ace_warning_fold")}$+=Y}else I+=" ace_open";S.className!=I&&(S.className=I),s.setStyle(S.style,"height",A),s.setStyle(S.style,"display","inline-block"),S.setAttribute("role","button"),S.setAttribute("tabindex","-1");var q=C.getFoldWidgetRange(y);q?S.setAttribute("aria-label",c("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[q.start.row+1,q.end.row+1])):g?S.setAttribute("aria-label",c("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[g.start.row+1,g.end.row+1])):S.setAttribute("aria-label",c("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[y+1])),B?(S.setAttribute("aria-expanded","false"),S.setAttribute("title",c("gutter.code-folding.closed.title","Unfold code"))):(S.setAttribute("aria-expanded","true"),S.setAttribute("title",c("gutter.code-folding.open.title","Fold code")))}else S&&(s.setStyle(S.style,"display","none"),S.setAttribute("tabindex","0"),S.removeAttribute("role"),S.removeAttribute("aria-label"));var K=this.session.$gutterCustomWidgets[y];if(K?this.$addCustomWidget(y,K,p):k&&this.$removeCustomWidget(y,p),H&&this.$showFoldedAnnotations){w.className="ace_gutter_annotation",L.className=D,L.className+=Y,s.setStyle(L.style,"height",A),s.setStyle(w.style,"display","block"),s.setStyle(w.style,"height",A);var Q;switch(Y){case" ace_error_fold":Q=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[O]);break;case" ace_security_fold":Q=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[O]);break;case" ace_warning_fold":Q=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[O]);break}w.setAttribute("aria-label",Q),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else if(this.$annotations[y]){w.className="ace_gutter_annotation",L.className=D,this.$useSvgGutterIcons?L.className+=this.$annotations[y].className:b.classList.add(this.$annotations[y].className.replace(" ","")),s.setStyle(L.style,"height",A),s.setStyle(w.style,"display","block"),s.setStyle(w.style,"height",A);var Q;switch(this.$annotations[y].className){case" ace_error":Q=c("gutter.annotation.aria-label.error","Error, read annotations row $0",[O]);break;case" ace_security":Q=c("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[O]);break;case" ace_warning":Q=c("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[O]);break;case" ace_info":Q=c("gutter.annotation.aria-label.info","Info, read annotations row $0",[O]);break;case" ace_hint":Q=c("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[O]);break}w.setAttribute("aria-label",Q),w.setAttribute("tabindex","-1"),w.setAttribute("role","button")}else s.setStyle(w.style,"display","none"),w.removeAttribute("aria-label"),w.removeAttribute("role"),w.setAttribute("tabindex","0");return O!==x.data&&(x.data=O),b.className!=$&&(b.className=$),s.setStyle(p.element.style,"height",this.$lines.computeLineHeight(y,m,C)+"px"),s.setStyle(p.element.style,"top",this.$lines.computeLineTop(y,m,C)+"px"),p.text=O,w.style.display==="none"&&S.style.display==="none"&&!K?p.element.setAttribute("aria-hidden",!0):p.element.setAttribute("aria-hidden",!1),p},f.prototype.setHighlightGutterLine=function(p){this.$highlightGutterLine=p},f.prototype.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},f.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},f.prototype.setShowFoldWidgets=function(p){p?s.addCssClass(this.element,"ace_folding-enabled"):s.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},f.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},f.prototype.$hideFoldWidget=function(p,m){var g=m||this.$getGutterCell(p);if(g&&g.element){var y=g.element.childNodes[1];y&&s.setStyle(y.style,"display","none")}},f.prototype.$showFoldWidget=function(p,m){var g=m||this.$getGutterCell(p);if(g&&g.element){var y=g.element.childNodes[1];y&&this.session.foldWidgets&&this.session.foldWidgets[g.row]&&s.setStyle(y.style,"display","inline-block")}},f.prototype.$getGutterCell=function(p){var m=this.$lines.cells,g=this.session.documentToScreenRow(p,0);return m[p-this.config.firstRowScreen-(p-g)]},f.prototype.$addCustomWidget=function(p,m,g){var y=m.className,b=m.label,C=m.title,x=m.callbacks;this.session.$gutterCustomWidgets[p]={className:y,label:b,title:C,callbacks:x},this.$hideFoldWidget(p,g);var S=g||this.$getGutterCell(p);if(S&&S.element){var w=S.element.querySelector(".ace_custom-widget");w&&w.remove(),w=s.createElement("span"),w.className="ace_custom-widget ".concat(y),w.setAttribute("tabindex","-1"),w.setAttribute("role","button"),w.setAttribute("aria-label",b),w.setAttribute("title",C),s.setStyle(w.style,"display","inline-block"),s.setStyle(w.style,"height","inherit"),x&&x.onClick&&w.addEventListener("click",function(k){x.onClick(k,p),k.stopPropagation()}),S.element.appendChild(w)}},f.prototype.$removeCustomWidget=function(p,m){delete this.session.$gutterCustomWidgets[p],this.$showFoldWidget(p,m);var g=m||this.$getGutterCell(p);if(g&&g.element){var y=g.element.querySelector(".ace_custom-widget");y&&g.element.removeChild(y)}},f.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=s.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},f.prototype.getRegion=function(p){var m=this.$padding||this.$computePadding(),g=this.element.getBoundingClientRect();if(p.x<m.left+g.left)return"markers";if(this.$showFoldWidgets&&p.x>g.right-m.right)return"foldWidgets"},f}();h.prototype.$fixedWidth=!1,h.prototype.$highlightGutterLine=!0,h.prototype.$renderer="",h.prototype.$showLineNumbers=!0,h.prototype.$showFoldWidgets=!0,o.implement(h.prototype,l);function d(f){var p=document.createTextNode("");f.appendChild(p);var m=s.createElement("span");f.appendChild(m);var g=s.createElement("span");f.appendChild(g);var y=s.createElement("span");return g.appendChild(y),f}r.Gutter=h}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,r,i){var s=n("../range").Range,o=n("../lib/dom"),a=function(){function u(c){this.element=o.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)}return u.prototype.setPadding=function(c){this.$padding=c},u.prototype.setSession=function(c){this.session=c},u.prototype.setMarkers=function(c){this.markers=c},u.prototype.elt=function(c,h){var d=this.i!=-1&&this.element.childNodes[this.i];d?this.i++:(d=document.createElement("div"),this.element.appendChild(d),this.i=-1),d.style.cssText=h,d.className=c},u.prototype.update=function(c){if(c){this.config=c,this.i=0;var h;for(var d in this.markers){var f=this.markers[d];if(!f.range){f.update(h,this,this.session,c);continue}var p=f.range.clipRows(c.firstRow,c.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),f.renderer){var m=this.$getTop(p.start.row,c),g=this.$padding+p.start.column*c.characterWidth;f.renderer(h,p,g,m,c)}else f.type=="fullLine"?this.drawFullLineMarker(h,p,f.clazz,c):f.type=="screenLine"?this.drawScreenLineMarker(h,p,f.clazz,c):p.isMultiLine()?f.type=="text"?this.drawTextMarker(h,p,f.clazz,c):this.drawMultiLineMarker(h,p,f.clazz,c):this.drawSingleLineMarker(h,p,f.clazz+" ace_start ace_br15",c)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},u.prototype.$getTop=function(c,h){return(c-h.firstRowScreen)*h.lineHeight},u.prototype.drawTextMarker=function(c,h,d,f,p){for(var m=this.session,g=h.start.row,y=h.end.row,b=g,C=0,x=0,S=m.getScreenLastRowColumn(b),w=new s(b,h.start.column,b,x);b<=y;b++)w.start.row=w.end.row=b,w.start.column=b==g?h.start.column:m.getRowWrapIndent(b),w.end.column=S,C=x,x=S,S=b+1<y?m.getScreenLastRowColumn(b+1):b==y?0:h.end.column,this.drawSingleLineMarker(c,w,d+(b==g?" ace_start":"")+" ace_br"+l(b==g||b==g+1&&h.start.column,C<x,x>S,b==y),f,b==y?0:1,p)},u.prototype.drawMultiLineMarker=function(c,h,d,f,p){var m=this.$padding,g=f.lineHeight,y=this.$getTop(h.start.row,f),b=m+h.start.column*f.characterWidth;if(p=p||"",this.session.$bidiHandler.isBidiRow(h.start.row)){var C=h.clone();C.end.row=C.start.row,C.end.column=this.session.getLine(C.start.row).length,this.drawBidiSingleLineMarker(c,C,d+" ace_br1 ace_start",f,null,p)}else this.elt(d+" ace_br1 ace_start","height:"+g+"px;right:"+m+"px;top:"+y+"px;left:"+b+"px;"+(p||""));if(this.session.$bidiHandler.isBidiRow(h.end.row)){var C=h.clone();C.start.row=C.end.row,C.start.column=0,this.drawBidiSingleLineMarker(c,C,d+" ace_br12",f,null,p)}else{y=this.$getTop(h.end.row,f);var x=h.end.column*f.characterWidth;this.elt(d+" ace_br12","height:"+g+"px;width:"+x+"px;top:"+y+"px;left:"+m+"px;"+(p||""))}if(g=(h.end.row-h.start.row-1)*f.lineHeight,!(g<=0)){y=this.$getTop(h.start.row+1,f);var S=(h.start.column?1:0)|(h.end.column?0:8);this.elt(d+(S?" ace_br"+S:""),"height:"+g+"px;right:"+m+"px;top:"+y+"px;left:"+m+"px;"+(p||""))}},u.prototype.drawSingleLineMarker=function(c,h,d,f,p,m){if(this.session.$bidiHandler.isBidiRow(h.start.row))return this.drawBidiSingleLineMarker(c,h,d,f,p,m);var g=f.lineHeight,y=(h.end.column+(p||0)-h.start.column)*f.characterWidth,b=this.$getTop(h.start.row,f),C=this.$padding+h.start.column*f.characterWidth;this.elt(d,"height:"+g+"px;width:"+y+"px;top:"+b+"px;left:"+C+"px;"+(m||""))},u.prototype.drawBidiSingleLineMarker=function(c,h,d,f,p,m){var g=f.lineHeight,y=this.$getTop(h.start.row,f),b=this.$padding,C=this.session.$bidiHandler.getSelections(h.start.column,h.end.column);C.forEach(function(x){this.elt(d,"height:"+g+"px;width:"+(x.width+(p||0))+"px;top:"+y+"px;left:"+(b+x.left)+"px;"+(m||""))},this)},u.prototype.drawFullLineMarker=function(c,h,d,f,p){var m=this.$getTop(h.start.row,f),g=f.lineHeight;h.start.row!=h.end.row&&(g+=this.$getTop(h.end.row,f)-m),this.elt(d,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u.prototype.drawScreenLineMarker=function(c,h,d,f,p){var m=this.$getTop(h.start.row,f),g=f.lineHeight;this.elt(d,"height:"+g+"px;top:"+m+"px;left:0;right:0;"+(p||""))},u}();a.prototype.$padding=0;function l(u,c,h,d){return(u?1:0)|(c?2:0)|(h?4:0)|(d?8:0)}r.Marker=a}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,r,i){var s=new Set(["text","rparen","lparen"]);r.isTextToken=function(o){return s.has(o)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,r,i){var s=n("../lib/oop"),o=n("../lib/dom"),a=n("../lib/lang"),l=n("./lines").Lines,u=n("../lib/event_emitter").EventEmitter,c=n("../config").nls,h=n("./text_util").isTextToken,d=function(){function f(p){this.dom=o,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",p.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new l(this.element)}return f.prototype.$updateEolChar=function(){var p=this.session.doc,m=p.getNewLineCharacter()==`
`&&p.getNewLineMode()!="windows",g=m?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=g)return this.EOL_CHAR=g,!0},f.prototype.setPadding=function(p){this.$padding=p,this.element.style.margin="0 "+p+"px"},f.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},f.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},f.prototype.$setFontMetrics=function(p){this.$fontMetrics=p,this.$fontMetrics.on("changeCharacterSize",(function(m){this._signal("changeCharacterSize",m)}).bind(this)),this.$pollSizeChanges()},f.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},f.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},f.prototype.setSession=function(p){this.session=p,p&&this.$computeTabString()},f.prototype.setShowInvisibles=function(p){return this.showInvisibles==p?!1:(this.showInvisibles=p,typeof p=="string"?(this.showSpaces=/tab/i.test(p),this.showTabs=/space/i.test(p),this.showEOL=/eol/i.test(p)):this.showSpaces=this.showTabs=this.showEOL=p,this.$computeTabString(),!0)},f.prototype.setDisplayIndentGuides=function(p){return this.displayIndentGuides==p?!1:(this.displayIndentGuides=p,this.$computeTabString(),!0)},f.prototype.setHighlightIndentGuides=function(p){return this.$highlightIndentGuides===p?!1:(this.$highlightIndentGuides=p,p)},f.prototype.$computeTabString=function(){var p=this.session.getTabSize();this.tabSize=p;for(var m=this.$tabStrings=[0],g=1;g<p+1;g++)if(this.showTabs){var y=this.dom.createElement("span");y.className="ace_invisible ace_invisible_tab",y.textContent=a.stringRepeat(this.TAB_CHAR,g),m.push(y)}else m.push(this.dom.createTextNode(a.stringRepeat(" ",g),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var b="ace_indent-guide",C=this.showSpaces?" ace_invisible ace_invisible_space":"",x=this.showSpaces?a.stringRepeat(this.SPACE_CHAR,this.tabSize):a.stringRepeat(" ",this.tabSize),S=this.showTabs?" ace_invisible ace_invisible_tab":"",w=this.showTabs?a.stringRepeat(this.TAB_CHAR,this.tabSize):x,y=this.dom.createElement("span");y.className=b+C,y.textContent=x,this.$tabStrings[" "]=y;var y=this.dom.createElement("span");y.className=b+S,y.textContent=w,this.$tabStrings["	"]=y}},f.prototype.updateLines=function(p,m,g){if(this.config.lastRow!=p.lastRow||this.config.firstRow!=p.firstRow)return this.update(p);this.config=p;for(var y=Math.max(m,p.firstRow),b=Math.min(g,p.lastRow),C=this.element.childNodes,x=0,w=p.firstRow;w<y;w++){var k=this.session.getFoldLine(w);if(k)if(k.containsRow(y)){y=k.start.row;break}else w=k.end.row;x++}for(var S=!1,w=y,k=this.session.getNextFoldLine(w),L=k?k.start.row:1/0;w>L&&(w=k.end.row+1,k=this.session.getNextFoldLine(w,k),L=k?k.start.row:1/0),!(w>b);){var E=C[x++];if(E){this.dom.removeChildren(E),this.$renderLine(E,w,w==L?k:!1),S&&(E.style.top=this.$lines.computeLineTop(w,p,this.session)+"px");var N=p.lineHeight*this.session.getRowLength(w)+"px";E.style.height!=N&&(S=!0,E.style.height=N)}w++}if(S)for(;x<this.$lines.cells.length;){var _=this.$lines.cells[x++];_.element.style.top=this.$lines.computeLineTop(_.row,p,this.session)+"px"}},f.prototype.scrollLines=function(p){var m=this.config;if(this.config=p,this.$lines.pageChanged(m,p))return this.update(p);this.$lines.moveContainer(p);var g=p.lastRow,y=m?m.lastRow:-1;if(!m||y<p.firstRow)return this.update(p);if(g<m.firstRow)return this.update(p);if(!m||m.lastRow<p.firstRow)return this.update(p);if(p.lastRow<m.firstRow)return this.update(p);if(m.firstRow<p.firstRow)for(var b=this.session.getFoldedRowCount(m.firstRow,p.firstRow-1);b>0;b--)this.$lines.shift();if(m.lastRow>p.lastRow)for(var b=this.session.getFoldedRowCount(p.lastRow+1,m.lastRow);b>0;b--)this.$lines.pop();p.firstRow<m.firstRow&&this.$lines.unshift(this.$renderLinesFragment(p,p.firstRow,m.firstRow-1)),p.lastRow>m.lastRow&&this.$lines.push(this.$renderLinesFragment(p,m.lastRow+1,p.lastRow)),this.$highlightIndentGuide()},f.prototype.$renderLinesFragment=function(p,m,g){for(var y=[],b=m,C=this.session.getNextFoldLine(b),x=C?C.start.row:1/0;b>x&&(b=C.end.row+1,C=this.session.getNextFoldLine(b,C),x=C?C.start.row:1/0),!(b>g);){var S=this.$lines.createCell(b,p,this.session),w=S.element;this.dom.removeChildren(w),o.setStyle(w.style,"height",this.$lines.computeLineHeight(b,p,this.session)+"px"),o.setStyle(w.style,"top",this.$lines.computeLineTop(b,p,this.session)+"px"),this.$renderLine(w,b,b==x?C:!1),this.$useLineGroups()?w.className="ace_line_group":w.className="ace_line",y.push(S),b++}return y},f.prototype.update=function(p){this.$lines.moveContainer(p),this.config=p;for(var m=p.firstRow,g=p.lastRow,y=this.$lines;y.getLength();)y.pop();y.push(this.$renderLinesFragment(p,m,g))},f.prototype.$renderToken=function(p,m,g,y){for(var b=this,C=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,x=this.dom.createFragment(this.element),S,w=0;S=C.exec(y);){var k=S[1],L=S[2],E=S[3],N=S[4],_=S[5];if(!(!b.showSpaces&&L)){var R=w!=S.index?y.slice(w,S.index):"";if(w=S.index+S[0].length,R&&x.appendChild(this.dom.createTextNode(R,this.element)),k){var M=b.session.getScreenTabSize(m+S.index);x.appendChild(b.$tabStrings[M].cloneNode(!0)),m+=M-1}else if(L)if(b.showSpaces){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space",T.textContent=a.stringRepeat(b.SPACE_CHAR,L.length),x.appendChild(T)}else x.appendChild(this.dom.createTextNode(L,this.element));else if(E){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space ace_invalid",T.textContent=a.stringRepeat(b.SPACE_CHAR,E.length),x.appendChild(T)}else if(N){m+=1;var T=this.dom.createElement("span");T.style.width=b.config.characterWidth*2+"px",T.className=b.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",T.textContent=b.showSpaces?b.SPACE_CHAR:N,x.appendChild(T)}else if(_){m+=1;var T=this.dom.createElement("span");T.style.width=b.config.characterWidth*2+"px",T.className="ace_cjk",T.textContent=_,x.appendChild(T)}}}if(x.appendChild(this.dom.createTextNode(w?y.slice(w):y,this.element)),h(g.type))p.appendChild(x);else{var A="ace_"+g.type.replace(/\./g," ace_"),T=this.dom.createElement("span");g.type=="fold"&&(T.style.width=g.value.length*this.config.characterWidth+"px",T.setAttribute("title",c("inline-fold.closed.title","Unfold code"))),T.className=A,T.appendChild(x),p.appendChild(T)}return m+y.length},f.prototype.renderIndentGuide=function(p,m,g){var y=m.search(this.$indentGuideRe);if(y<=0||y>=g)return m;if(m[0]==" "){y-=y%this.tabSize;for(var b=y/this.tabSize,C=0;C<b;C++)p.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(y)}else if(m[0]=="	"){for(var C=0;C<y;C++)p.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),m.substr(y)}return this.$highlightIndentGuide(),m},f.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var p=this.session.doc.$lines;if(p){var m=this.session.selection.getCursor(),g=/^\s*/.exec(this.session.doc.getLine(m.row))[0].length,y=Math.floor(g/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:y,start:m.row};var b=this.session.$bracketHighlight;if(b){for(var C=this.session.$bracketHighlight.ranges,x=0;x<C.length;x++)if(m.row!==C[x].start.row){this.$highlightIndentGuideMarker.end=C[x].start.row+1,m.row>C[x].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&p[m.row]!==""&&m.column===p[m.row].length){this.$highlightIndentGuideMarker.dir=1;for(var x=m.row+1;x<p.length;x++){var S=p[x],w=/^\s*/.exec(S)[0].length;if(S!==""&&(this.$highlightIndentGuideMarker.end=x,w<=g))break}}this.$renderHighlightIndentGuide()}}},f.prototype.$clearActiveIndentGuide=function(){for(var p=this.element.querySelectorAll(".ace_indent-guide-active"),m=0;m<p.length;m++)p[m].classList.remove("ace_indent-guide-active")},f.prototype.$setIndentGuideActive=function(p,m){var g=this.session.doc.getLine(p.row);if(g!==""){var y=p.element;if(p.element.classList&&p.element.classList.contains("ace_line_group"))if(p.element.childNodes.length>0)y=p.element.childNodes[0];else return;var b=y.childNodes;if(b){var C=b[m-1];C&&C.classList&&C.classList.contains("ace_indent-guide")&&C.classList.add("ace_indent-guide-active")}}},f.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var p=this.$lines.cells;this.$clearActiveIndentGuide();var m=this.$highlightIndentGuideMarker.indentLevel;if(m!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var g=0;g<p.length;g++){var y=p[g];if(this.$highlightIndentGuideMarker.end&&y.row>=this.$highlightIndentGuideMarker.start+1){if(y.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,m)}}else for(var g=p.length-1;g>=0;g--){var y=p[g];if(this.$highlightIndentGuideMarker.end&&y.row<this.$highlightIndentGuideMarker.start){if(y.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(y,m)}}}},f.prototype.$createLineElement=function(p){var m=this.dom.createElement("div");return m.className="ace_line",m.style.height=this.config.lineHeight+"px",m},f.prototype.$renderWrappedLine=function(p,m,g){var y=0,b=0,C=g[0],x=0,S=this.$createLineElement();p.appendChild(S);for(var w=0;w<m.length;w++){var k=m[w],L=k.value;if(w==0&&this.displayIndentGuides){if(y=L.length,L=this.renderIndentGuide(S,L,C),!L)continue;y-=L.length}if(y+L.length<C)x=this.$renderToken(S,x,k,L),y+=L.length;else{for(;y+L.length>=C;)x=this.$renderToken(S,x,k,L.substring(0,C-y)),L=L.substring(C-y),y=C,S=this.$createLineElement(),p.appendChild(S),S.appendChild(this.dom.createTextNode(a.stringRepeat(" ",g.indent),this.element)),b++,x=0,C=g[b]||Number.MAX_VALUE;L.length!=0&&(y+=L.length,x=this.$renderToken(S,x,k,L))}}g[g.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(S,x,null,"",!0)},f.prototype.$renderSimpleLine=function(p,m){for(var g=0,y=0;y<m.length;y++){var b=m[y],C=b.value;if(!(y==0&&this.displayIndentGuides&&(C=this.renderIndentGuide(p,C),!C))){if(g+C.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(p,g,b,C);g=this.$renderToken(p,g,b,C)}}},f.prototype.$renderOverflowMessage=function(p,m,g,y,b){g&&this.$renderToken(p,m,g,y.slice(0,this.MAX_LINE_LENGTH-m));var C=this.dom.createElement("span");C.className="ace_inline_button ace_keyword ace_toggle_wrap",C.textContent=b?"<hide>":"<click to see more...>",p.appendChild(C)},f.prototype.$renderLine=function(p,m,g){if(!g&&g!=!1&&(g=this.session.getFoldLine(m)),g)var y=this.$getFoldLineTokens(m,g);else var y=this.session.getTokens(m);var b=p;if(y.length){var C=this.session.getRowSplitData(m);if(C&&C.length){this.$renderWrappedLine(p,y,C);var b=p.lastChild}else{var b=p;this.$useLineGroups()&&(b=this.$createLineElement(),p.appendChild(b)),this.$renderSimpleLine(b,y)}}else this.$useLineGroups()&&(b=this.$createLineElement(),p.appendChild(b));if(this.showEOL&&b){g&&(m=g.end.row);var x=this.dom.createElement("span");x.className="ace_invisible ace_invisible_eol",x.textContent=m==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,b.appendChild(x)}},f.prototype.$getFoldLineTokens=function(p,m){var g=this.session,y=[];function b(x,S,w){for(var k=0,L=0;L+x[k].value.length<S;)if(L+=x[k].value.length,k++,k==x.length)return;if(L!=S){var E=x[k].value.substring(S-L);E.length>w-S&&(E=E.substring(0,w-S)),y.push({type:x[k].type,value:E}),L=S+E.length,k+=1}for(;L<w&&k<x.length;){var E=x[k].value;E.length+L>w?y.push({type:x[k].type,value:E.substring(0,w-L)}):y.push(x[k]),L+=E.length,k+=1}}var C=g.getTokens(p);return m.walk(function(x,S,w,k,L){x!=null?y.push({type:"fold",value:x}):(L&&(C=g.getTokens(S)),C.length&&b(C,k,w))},m.end.row,this.session.getLine(m.end.row).length),y},f.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},f}();d.prototype.EOF_CHAR="¶",d.prototype.EOL_CHAR_LF="¬",d.prototype.EOL_CHAR_CRLF="¤",d.prototype.EOL_CHAR=d.prototype.EOL_CHAR_LF,d.prototype.TAB_CHAR="—",d.prototype.SPACE_CHAR="·",d.prototype.$padding=0,d.prototype.MAX_LINE_LENGTH=1e4,d.prototype.showInvisibles=!1,d.prototype.showSpaces=!1,d.prototype.showTabs=!1,d.prototype.showEOL=!1,d.prototype.displayIndentGuides=!0,d.prototype.$highlightIndentGuides=!0,d.prototype.$tabStrings=[],d.prototype.destroy={},d.prototype.onChangeTabSize=d.prototype.$computeTabString,s.implement(d.prototype,u),r.Text=d}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,r,i){var s=n("../lib/dom"),o=function(){function a(l){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",l.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return a.prototype.$updateOpacity=function(l){for(var u=this.cursors,c=u.length;c--;)s.setStyle(u[c].style,"opacity",l?"":"0")},a.prototype.$startCssAnimation=function(){for(var l=this.cursors,u=l.length;u--;)l[u].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&s.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},a.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,s.removeCssClass(this.element,"ace_animate-blinking")},a.prototype.setPadding=function(l){this.$padding=l},a.prototype.setSession=function(l){this.session=l},a.prototype.setBlinking=function(l){l!=this.isBlinking&&(this.isBlinking=l,this.restartTimer())},a.prototype.setBlinkInterval=function(l){l!=this.blinkInterval&&(this.blinkInterval=l,this.restartTimer())},a.prototype.setSmoothBlinking=function(l){l!=this.smoothBlinking&&(this.smoothBlinking=l,s.setCssClass(this.element,"ace_smooth-blinking",l),this.$updateCursors(!0),this.restartTimer())},a.prototype.addCursor=function(){var l=s.createElement("div");return l.className="ace_cursor",this.element.appendChild(l),this.cursors.push(l),l},a.prototype.removeCursor=function(){if(this.cursors.length>1){var l=this.cursors.pop();return l.parentNode.removeChild(l),l}},a.prototype.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},a.prototype.restartTimer=function(){var l=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,s.removeCssClass(this.element,"ace_smooth-blinking")),l(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&s.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),s.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var u=(function(){this.timeoutId=setTimeout(function(){l(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){l(!0),u()},this.blinkInterval),u()}},a.prototype.getPixelPosition=function(l,u){if(!this.config||!this.session)return{left:0,top:0};l||(l=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(l),h=this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,l.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),d=(c.row-(u?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:h,top:d}},a.prototype.isCursorInView=function(l,u){return l.top>=0&&l.top<u.maxHeight},a.prototype.update=function(l){this.config=l;var u=this.session.$selectionMarkers,c=0,h=0;(u===void 0||u.length===0)&&(u=[{cursor:null}]);for(var c=0,d=u.length;c<d;c++){var f=this.getPixelPosition(u[c].cursor,!0);if(!((f.top>l.height+l.offset||f.top<0)&&c>1)){var p=this.cursors[h++]||this.addCursor(),m=p.style;this.drawCursor?this.drawCursor(p,f,l,u[c],this.session):this.isCursorInView(f,l)?(s.setStyle(m,"display","block"),s.translate(p,f.left,f.top),s.setStyle(m,"width",Math.round(l.characterWidth)+"px"),s.setStyle(m,"height",l.lineHeight+"px")):s.setStyle(m,"display","none")}}for(;this.cursors.length>h;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=f,this.restartTimer()},a.prototype.$setOverwrite=function(l){l!=this.overwrite&&(this.overwrite=l,l?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},a.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},a}();o.prototype.$padding=0,o.prototype.drawCursor=null,r.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var s=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(y[C]=b[C])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(m,g);function y(){this.constructor=m}m.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}(),o=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter,c=32768,h=function(){function p(m,g){this.element=a.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+g,this.inner=a.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),m.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addListener(this.element,"scroll",this.onScroll.bind(this)),l.addListener(this.element,"mousedown",l.preventDefault)}return p.prototype.setVisible=function(m){this.element.style.display=m?"":"none",this.isVisible=m,this.coeff=1},p}();o.implement(h.prototype,u);var d=function(p){s(m,p);function m(g,y){var b=p.call(this,g,"-v")||this;return b.scrollTop=0,b.scrollHeight=0,y.$scrollbarWidth=b.width=a.scrollbarWidth(g.ownerDocument),b.inner.style.width=b.element.style.width=(b.width||15)+5+"px",b.$minWidth=0,b}return m.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var g=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-g)/(this.coeff-g)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},m.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},m.prototype.setHeight=function(g){this.element.style.height=g+"px"},m.prototype.setScrollHeight=function(g){this.scrollHeight=g,g>c?(this.coeff=c/g,g=c):this.coeff!=1&&(this.coeff=1),this.inner.style.height=g+"px"},m.prototype.setScrollTop=function(g){this.scrollTop!=g&&(this.skipEvent=!0,this.scrollTop=g,this.element.scrollTop=g*this.coeff)},m}(h);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var f=function(p){s(m,p);function m(g,y){var b=p.call(this,g,"-h")||this;return b.scrollLeft=0,b.height=y.$scrollbarWidth,b.inner.style.height=b.element.style.height=(b.height||15)+5+"px",b}return m.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},m.prototype.getHeight=function(){return this.isVisible?this.height:0},m.prototype.setWidth=function(g){this.element.style.width=g+"px"},m.prototype.setInnerWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollWidth=function(g){this.inner.style.width=g+"px"},m.prototype.setScrollLeft=function(g){this.scrollLeft!=g&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=g)},m}(h);r.ScrollBar=d,r.ScrollBarV=d,r.ScrollBarH=f,r.VScrollBar=d,r.HScrollBar=f}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var s=this&&this.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),o=n("./lib/oop"),a=n("./lib/dom"),l=n("./lib/event"),u=n("./lib/event_emitter").EventEmitter;a.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var c=function(){function f(p,m){this.element=a.createElement("div"),this.element.className="ace_sb"+m,this.inner=a.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,l.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return f.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},f}();o.implement(c.prototype,u);var h=function(f){s(p,f);function p(m,g){var y=f.call(this,m,"-v")||this;return y.scrollTop=0,y.scrollHeight=0,y.parent=m,y.width=y.VScrollWidth,y.renderer=g,y.inner.style.width=y.element.style.width=(y.width||15)+"px",y.$minWidth=0,y}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(l.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,b=g.clientY,C=function(N){b=N.clientY},x=function(){clearInterval(L)},S=g.clientY,w=this.thumbTop,k=function(){if(b!==void 0){var N=y.scrollTopFromThumbTop(w+b-S);N!==y.scrollTop&&y._emit("scroll",{data:N})}};l.capture(this.inner,C,x);var L=setInterval(k,20);return l.preventDefault(g)}var E=g.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(E)}),l.preventDefault(g)}},p.prototype.getHeight=function(){return this.height},p.prototype.scrollTopFromThumbTop=function(m){var g=m*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return g=g>>0,g<0?g=0:g>this.pageHeight-this.viewHeight&&(g=this.pageHeight-this.viewHeight),g},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(m){this.height=Math.max(0,m),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},p.prototype.setScrollHeight=function(m,g){this.pageHeight===m&&!g||(this.pageHeight=m,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},p.prototype.setScrollTop=function(m){this.scrollTop=m,m<0&&(m=0),this.thumbTop=m*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},p}(c);h.prototype.setInnerHeight=h.prototype.setScrollHeight;var d=function(f){s(p,f);function p(m,g){var y=f.call(this,m,"-h")||this;return y.scrollLeft=0,y.scrollWidth=0,y.height=y.HScrollHeight,y.inner.style.height=y.element.style.height=(y.height||12)+"px",y.renderer=g,y}return p.prototype.onMouseDown=function(m,g){if(m==="mousedown"&&!(l.getButton(g)!==0||g.detail===2)){if(g.target===this.inner){var y=this,b=g.clientX,C=function(N){b=N.clientX},x=function(){clearInterval(L)},S=g.clientX,w=this.thumbLeft,k=function(){if(b!==void 0){var N=y.scrollLeftFromThumbLeft(w+b-S);N!==y.scrollLeft&&y._emit("scroll",{data:N})}};l.capture(this.inner,C,x);var L=setInterval(k,20);return l.preventDefault(g)}var E=g.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(E)}),l.preventDefault(g)}},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.scrollLeftFromThumbLeft=function(m){var g=m*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return g=g>>0,g<0?g=0:g>this.pageWidth-this.viewWidth&&(g=this.pageWidth-this.viewWidth),g},p.prototype.setWidth=function(m){this.width=Math.max(0,m),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},p.prototype.setScrollWidth=function(m,g){this.pageWidth===m&&!g||(this.pageWidth=m,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},p.prototype.setScrollLeft=function(m){this.scrollLeft=m,m<0&&(m=0),this.thumbLeft=m*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},p}(c);d.prototype.setInnerWidth=d.prototype.setScrollWidth,r.ScrollBar=h,r.ScrollBarV=h,r.ScrollBarH=d,r.VScrollBar=h,r.HScrollBar=d}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,r,i){var s=n("./lib/event"),o=function(){function a(l,u){this.onRender=l,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=u||window;var c=this;this._flush=function(h){c.pending=!1;var d=c.changes;if(d&&(s.blockIdle(100),c.changes=0,c.onRender(d)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}}return a.prototype.schedule=function(l){this.changes=this.changes|l,this.changes&&!this.pending&&(s.nextFrame(this._flush),this.pending=!0)},a.prototype.clear=function(l){var u=this.changes;return this.changes=0,u},a}();r.RenderLoop=o}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,r,i){var s=n("../lib/oop"),o=n("../lib/dom"),a=n("../lib/lang"),l=n("../lib/event"),u=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,h=512,d=typeof ResizeObserver=="function",f=200,p=function(){function m(g){this.el=o.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=o.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=o.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),g.appendChild(this.el),this.$measureNode.textContent=a.stringRepeat("X",h),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()}return m.prototype.$setMeasureNodeStyles=function(g,y){g.width=g.height="auto",g.left=g.top="0px",g.visibility="hidden",g.position="absolute",g.whiteSpace="pre",u.isIE<8?g["font-family"]="inherit":g.font="inherit",g.overflow=y?"hidden":"visible"},m.prototype.checkForSizeChanges=function(g){if(g===void 0&&(g=this.$measureSizes()),g&&(this.$characterSize.width!==g.width||this.$characterSize.height!==g.height)){this.$measureNode.style.fontWeight="bold";var y=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=g,this.charSizes=Object.create(null),this.allowBoldFonts=y&&y.width===g.width&&y.height===g.height,this._emit("changeCharacterSize",{data:g})}},m.prototype.$addObserver=function(){var g=this;this.$observer=new window.ResizeObserver(function(y){g.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},m.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var g=this;return this.$pollSizeChangesTimer=l.onIdle(function y(){g.checkForSizeChanges(),l.onIdle(y,500)},500)},m.prototype.setPolling=function(g){g?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},m.prototype.$measureSizes=function(g){var y={height:(g||this.$measureNode).clientHeight,width:(g||this.$measureNode).clientWidth/h};return y.width===0||y.height===0?null:y},m.prototype.$measureCharWidth=function(g){this.$main.textContent=a.stringRepeat(g,h);var y=this.$main.getBoundingClientRect();return y.width/h},m.prototype.getCharacterWidth=function(g){var y=this.charSizes[g];return y===void 0&&(y=this.charSizes[g]=this.$measureCharWidth(g)/this.$characterSize.width),y},m.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},m.prototype.$getZoom=function(g){return!g||!g.parentElement?1:(Number(window.getComputedStyle(g).zoom)||1)*this.$getZoom(g.parentElement)},m.prototype.$initTransformMeasureNodes=function(){var g=function(y,b){return["div",{style:"position: absolute;top:"+y+"px;left:"+b+"px;"}]};this.els=o.buildDom([g(0,0),g(f,0),g(0,f),g(f,f)],this.el)},m.prototype.transformCoordinates=function(g,y){if(g){var b=this.$getZoom(this.el);g=w(1/b,g)}function C(I,B,Y){var H=I[1]*B[0]-I[0]*B[1];return[(-B[1]*Y[0]+B[0]*Y[1])/H,(+I[1]*Y[0]-I[0]*Y[1])/H]}function x(I,B){return[I[0]-B[0],I[1]-B[1]]}function S(I,B){return[I[0]+B[0],I[1]+B[1]]}function w(I,B){return[I*B[0],I*B[1]]}this.els||this.$initTransformMeasureNodes();function k(I){var B=I.getBoundingClientRect();return[B.left,B.top]}var L=k(this.els[0]),E=k(this.els[1]),N=k(this.els[2]),_=k(this.els[3]),R=C(x(_,E),x(_,N),x(S(E,N),S(_,L))),M=w(1+R[0],x(E,L)),T=w(1+R[1],x(N,L));if(y){var A=y,$=R[0]*A[0]/f+R[1]*A[1]/f+1,D=S(w(A[0],M),w(A[1],T));return S(w(1/$/f,D),L)}var O=x(g,L),P=C(x(M,w(R[0],O)),x(T,w(R[1],O)),O);return w(f,P)},m}();p.prototype.$characterSize={width:0,height:0},s.implement(p.prototype,c),r.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,r,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var s=n("../lib/dom"),o=n("../lib/oop"),a=n("../lib/event_emitter").EventEmitter,l=function(){function u(c,h){this.renderer=h,this.pixelRatio=1,this.maxHeight=h.layerConfig.maxHeight,this.lineHeight=h.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(c)}return u.prototype.$createCanvas=function(){this.canvas=s.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},u.prototype.setScrollBarV=function(c){this.$createCanvas(),this.scrollbarV=c,c.element.appendChild(this.canvas),this.setDimensions()},u.prototype.$updateDecorators=function(c){if(typeof this.canvas.getContext!="function")return;var h=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(c);var d=this.canvas.getContext("2d");function f(M,T){return M.priority<T.priority?-1:M.priority>T.priority?1:0}var p=this.renderer.session.$annotations;if(d.clearRect(0,0,this.canvas.width,this.canvas.height),p){var m={info:1,warning:2,error:3};p.forEach(function(M){M.priority=m[M.type]||null}),p=p.sort(f);for(var g=0;g<p.length;g++){var y=p[g].row,b=this.getVerticalOffsetForRow(y),C=b+this.lineHeight,x=Math.round(this.heightRatio*b),S=Math.round(this.heightRatio*C),w=Math.round((x+S)/2),k=S-w;k<this.halfMinDecorationHeight&&(k=this.halfMinDecorationHeight),w-k<0&&(w=k),w+k>this.canvasHeight&&(w=this.canvasHeight-k);var L=w-k,E=w+k,N=E-L;d.fillStyle=h[p[g].type]||null,d.fillRect(0,L,Math.round(this.oneZoneWidth-1),N)}}var _=this.renderer.session.selection.getCursor();if(_){var R=Math.round(this.getVerticalOffsetForRow(_.row)*this.heightRatio);d.fillStyle="rgba(0, 0, 0, 0.5)",d.fillRect(0,R,this.canvasWidth,2)}},u.prototype.getVerticalOffsetForRow=function(c){c=c|0;var h=this.renderer.session.documentToScreenRow(c,0)*this.lineHeight;return h},u.prototype.setDimensions=function(c){c=c||this.renderer.layerConfig,this.maxHeight=c.maxHeight,this.lineHeight=c.lineHeight,this.canvasHeight=c.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},u.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},u.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},u}();o.implement(l.prototype,a),r.Decorator=l}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,r,i){var s=n("./lib/oop"),o=n("./lib/dom"),a=n("./lib/lang"),l=n("./config"),u=n("./layer/gutter").Gutter,c=n("./layer/marker").Marker,h=n("./layer/text").Text,d=n("./layer/cursor").Cursor,f=n("./scrollbar").HScrollBar,p=n("./scrollbar").VScrollBar,m=n("./scrollbar_custom").HScrollBar,g=n("./scrollbar_custom").VScrollBar,y=n("./renderloop").RenderLoop,b=n("./layer/font_metrics").FontMetrics,C=n("./lib/event_emitter").EventEmitter,x=n("./css/editor-css"),S=n("./layer/decorators").Decorator,w=n("./lib/useragent"),k=n("./layer/text_util").isTextToken;o.importCssString(x,"ace_editor.css",!1);var L=function(){function E(N,_){var R=this;this.container=N||o.createElement("div"),o.addCssClass(this.container,"ace_editor"),o.HI_DPI&&o.addCssClass(this.container,"ace_hidpi"),this.setTheme(_),l.get("useStrictCSP")==null&&l.set("useStrictCSP",!1),this.$gutter=o.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=o.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=o.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new u(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var M=this.$textLayer=new h(this.content);this.canvas=M.element,this.$markerFront=new c(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",function(T){R.$scrollAnimation||R.session.setScrollTop(T.data-R.scrollMargin.top)}),this.scrollBarH.on("scroll",function(T){R.$scrollAnimation||R.session.setScrollLeft(T.data-R.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new b(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(T){R.updateCharacterSize(),R.onResize(!0,R.gutterWidth,R.$size.width,R.$size.height),R._signal("changeCharacterSize",T)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!w.isIOS,this.$loop=new y(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),l.resetOptions(this),l._signal("renderer",this)}return E.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),o.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},E.prototype.setSession=function(N){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=N,N&&this.scrollMargin.top&&N.getScrollTop()<=0&&N.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(N),this.$markerBack.setSession(N),this.$markerFront.setSession(N),this.$gutterLayer.setSession(N),this.$textLayer.setSession(N),N&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},E.prototype.updateLines=function(N,_,R){if(_===void 0&&(_=1/0),this.$changedLines?(this.$changedLines.firstRow>N&&(this.$changedLines.firstRow=N),this.$changedLines.lastRow<_&&(this.$changedLines.lastRow=_)):this.$changedLines={firstRow:N,lastRow:_},this.$changedLines.lastRow<this.layerConfig.firstRow)if(R)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},E.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},E.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},E.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},E.prototype.updateFull=function(N){N?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},E.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},E.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},E.prototype.onResize=function(N,_,R,M){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=N?1:0;var T=this.container;M||(M=T.clientHeight||T.scrollHeight),!M&&this.$maxLines&&this.lineHeight>1&&(!T.style.height||T.style.height=="0px")&&(T.style.height="1px",M=T.clientHeight||T.scrollHeight),R||(R=T.clientWidth||T.scrollWidth);var A=this.$updateCachedSize(N,_,R,M);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!R&&!M)return this.resizing=0;N&&(this.$gutterLayer.$padding=null),N?this.$renderChanges(A|this.$changes,!0):this.$loop.schedule(A|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},E.prototype.$updateCachedSize=function(N,_,R,M){M-=this.$extraHeight||0;var T=0,A=this.$size,$={width:A.width,height:A.height,scrollerHeight:A.scrollerHeight,scrollerWidth:A.scrollerWidth};if(M&&(N||A.height!=M)&&(A.height=M,T|=this.CHANGE_SIZE,A.scrollerHeight=A.height,this.$horizScroll&&(A.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(A.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",T=T|this.CHANGE_SCROLL),R&&(N||A.width!=R)){T|=this.CHANGE_SIZE,A.width=R,_==null&&(_=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=_,o.setStyle(this.scrollBarH.element.style,"left",_+"px"),o.setStyle(this.scroller.style,"left",_+this.margin.left+"px"),A.scrollerWidth=Math.max(0,R-_-this.scrollBarV.getWidth()-this.margin.h),o.setStyle(this.$gutter.style,"left",this.margin.left+"px");var D=this.scrollBarV.getWidth()+"px";o.setStyle(this.scrollBarH.element.style,"right",D),o.setStyle(this.scroller.style,"right",D),o.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(A.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||N)&&(T|=this.CHANGE_FULL)}return A.$dirty=!R||!M,T&&this._signal("resize",$),T},E.prototype.onGutterResize=function(N){var _=this.$showGutter?N:0;_!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,_,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},E.prototype.adjustWrapLimit=function(){var N=this.$size.scrollerWidth-this.$padding*2,_=Math.floor(N/this.characterWidth);return this.session.adjustWrapLimit(_,this.$showPrintMargin&&this.$printMarginColumn)},E.prototype.setAnimatedScroll=function(N){this.setOption("animatedScroll",N)},E.prototype.getAnimatedScroll=function(){return this.$animatedScroll},E.prototype.setShowInvisibles=function(N){this.setOption("showInvisibles",N),this.session.$bidiHandler.setShowInvisibles(N)},E.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},E.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},E.prototype.setDisplayIndentGuides=function(N){this.setOption("displayIndentGuides",N)},E.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},E.prototype.setHighlightIndentGuides=function(N){this.setOption("highlightIndentGuides",N)},E.prototype.setShowPrintMargin=function(N){this.setOption("showPrintMargin",N)},E.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},E.prototype.setPrintMarginColumn=function(N){this.setOption("printMarginColumn",N)},E.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},E.prototype.getShowGutter=function(){return this.getOption("showGutter")},E.prototype.setShowGutter=function(N){return this.setOption("showGutter",N)},E.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},E.prototype.setFadeFoldWidgets=function(N){this.setOption("fadeFoldWidgets",N)},E.prototype.setHighlightGutterLine=function(N){this.setOption("highlightGutterLine",N)},E.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},E.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var N=o.createElement("div");N.className="ace_layer ace_print-margin-layer",this.$printMarginEl=o.createElement("div"),this.$printMarginEl.className="ace_print-margin",N.appendChild(this.$printMarginEl),this.content.insertBefore(N,this.content.firstChild)}var _=this.$printMarginEl.style;_.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",_.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},E.prototype.getContainerElement=function(){return this.container},E.prototype.getMouseEventTarget=function(){return this.scroller},E.prototype.getTextAreaContainer=function(){return this.container},E.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var N=this.textarea.style,_=this.$composition;if(!this.$keepTextAreaAtCursor&&!_){o.translate(this.textarea,-100,0);return}var R=this.$cursorLayer.$pixelPos;if(R){_&&_.markerRange&&(R=this.$cursorLayer.getPixelPosition(_.markerRange.start,!0));var M=this.layerConfig,T=R.top,A=R.left;T-=M.offset;var $=_&&_.useTextareaForIME||w.isMobile?this.lineHeight:1;if(T<0||T>M.height-$){o.translate(this.textarea,0,0);return}var D=1,O=this.$size.height-$;if(!_)T+=this.lineHeight;else if(_.useTextareaForIME){var P=this.textarea.value;D=this.characterWidth*this.session.$getStringScreenWidth(P)[0]}else T+=this.lineHeight+2;A-=this.scrollLeft,A>this.$size.scrollerWidth-D&&(A=this.$size.scrollerWidth-D),A+=this.gutterWidth+this.margin.left,o.setStyle(N,"height",$+"px"),o.setStyle(N,"width",D+"px"),o.translate(this.textarea,Math.min(A,this.$size.scrollerWidth-D),Math.min(T,O))}}},E.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},E.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},E.prototype.getLastFullyVisibleRow=function(){var N=this.layerConfig,_=N.lastRow,R=this.session.documentToScreenRow(_,0)*N.lineHeight;return R-this.session.getScrollTop()>N.height-N.lineHeight?_-1:_},E.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},E.prototype.setPadding=function(N){this.$padding=N,this.$textLayer.setPadding(N),this.$cursorLayer.setPadding(N),this.$markerFront.setPadding(N),this.$markerBack.setPadding(N),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},E.prototype.setScrollMargin=function(N,_,R,M){var T=this.scrollMargin;T.top=N|0,T.bottom=_|0,T.right=M|0,T.left=R|0,T.v=T.top+T.bottom,T.h=T.left+T.right,T.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-T.top),this.updateFull()},E.prototype.setMargin=function(N,_,R,M){var T=this.margin;T.top=N|0,T.bottom=_|0,T.right=M|0,T.left=R|0,T.v=T.top+T.bottom,T.h=T.left+T.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},E.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},E.prototype.setHScrollBarAlwaysVisible=function(N){this.setOption("hScrollBarAlwaysVisible",N)},E.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},E.prototype.setVScrollBarAlwaysVisible=function(N){this.setOption("vScrollBarAlwaysVisible",N)},E.prototype.$updateScrollBarV=function(){var N=this.layerConfig.maxHeight,_=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(N-=(_-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>N-_&&(N=this.scrollTop+_,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(N+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},E.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},E.prototype.freeze=function(){this.$frozen=!0},E.prototype.unfreeze=function(){this.$frozen=!1},E.prototype.$renderChanges=function(N,_){if(this.$changes&&(N|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!N&&!_){this.$changes|=N;return}if(this.$size.$dirty)return this.$changes|=N,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",N),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var R=this.layerConfig;if(N&this.CHANGE_FULL||N&this.CHANGE_SIZE||N&this.CHANGE_TEXT||N&this.CHANGE_LINES||N&this.CHANGE_SCROLL||N&this.CHANGE_H_SCROLL){if(N|=this.$computeLayerConfig()|this.$loop.clear(),R.firstRow!=this.layerConfig.firstRow&&R.firstRowScreen==this.layerConfig.firstRowScreen){var M=this.scrollTop+(R.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;M>0&&(this.scrollTop=M,N=N|this.CHANGE_SCROLL,N|=this.$computeLayerConfig()|this.$loop.clear())}R=this.layerConfig,this.$updateScrollBarV(),N&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),o.translate(this.content,-this.scrollLeft,-R.offset);var T=R.width+2*this.$padding+"px",A=R.minHeight+"px";o.setStyle(this.content.style,"width",T),o.setStyle(this.content.style,"height",A)}if(N&this.CHANGE_H_SCROLL&&(o.translate(this.content,-this.scrollLeft,-R.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),N&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(R),this.$showGutter&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R),this.$markerBack.update(R),this.$markerFront.update(R),this.$cursorLayer.update(R),this.$moveTextAreaToCursor(),this._signal("afterRender",N);return}if(N&this.CHANGE_SCROLL){this.$changedLines=null,N&this.CHANGE_TEXT||N&this.CHANGE_LINES?this.$textLayer.update(R):this.$textLayer.scrollLines(R),this.$showGutter&&(N&this.CHANGE_GUTTER||N&this.CHANGE_LINES?this.$gutterLayer.update(R):this.$gutterLayer.scrollLines(R)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R),this.$markerBack.update(R),this.$markerFront.update(R),this.$cursorLayer.update(R),this.$moveTextAreaToCursor(),this._signal("afterRender",N);return}N&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(R),this.$showGutter&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)):N&this.CHANGE_LINES?((this.$updateLines()||N&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)):N&this.CHANGE_TEXT||N&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)):N&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)),N&this.CHANGE_CURSOR&&(this.$cursorLayer.update(R),this.$moveTextAreaToCursor()),N&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(R),N&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(R),this._signal("afterRender",N)},E.prototype.$autosize=function(){var N=this.session.getScreenLength()*this.lineHeight,_=this.$maxLines*this.lineHeight,R=Math.min(_,Math.max((this.$minLines||1)*this.lineHeight,N))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(R+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&R>this.$maxPixelHeight&&(R=this.$maxPixelHeight);var M=R<=2*this.lineHeight,T=!M&&N>_;if(R!=this.desiredHeight||this.$size.height!=this.desiredHeight||T!=this.$vScroll){T!=this.$vScroll&&(this.$vScroll=T,this.scrollBarV.setVisible(T));var A=this.container.clientWidth;this.container.style.height=R+"px",this.$updateCachedSize(!0,this.$gutterWidth,A,R),this.desiredHeight=R,this._signal("autosize")}},E.prototype.$computeLayerConfig=function(){var N=this.session,_=this.$size,R=_.height<=2*this.lineHeight,M=this.session.getScreenLength(),T=M*this.lineHeight,A=this.$getLongestLine(),$=!R&&(this.$hScrollBarAlwaysVisible||_.scrollerWidth-A-2*this.$padding<0),D=this.$horizScroll!==$;D&&(this.$horizScroll=$,this.scrollBarH.setVisible($));var O=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),R=_.height<=2*this.lineHeight);var P=_.scrollerHeight+this.lineHeight,I=!this.$maxLines&&this.$scrollPastEnd?(_.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;T+=I;var B=this.scrollMargin;this.session.setScrollTop(Math.max(-B.top,Math.min(this.scrollTop,T-_.scrollerHeight+B.bottom))),this.session.setScrollLeft(Math.max(-B.left,Math.min(this.scrollLeft,A+2*this.$padding-_.scrollerWidth+B.right)));var Y=!R&&(this.$vScrollBarAlwaysVisible||_.scrollerHeight-T+I<0||this.scrollTop>B.top),H=O!==Y;H&&(this.$vScroll=Y,this.scrollBarV.setVisible(Y));var U=this.scrollTop%this.lineHeight,q=Math.ceil(P/this.lineHeight)-1,K=Math.max(0,Math.round((this.scrollTop-U)/this.lineHeight)),Q=K+q,ee,re,ae=this.lineHeight;K=N.screenToDocumentRow(K,0);var be=N.getFoldLine(K);be&&(K=be.start.row),ee=N.documentToScreenRow(K,0),re=N.getRowLength(K)*ae,Q=Math.min(N.screenToDocumentRow(Q,0),N.getLength()-1),P=_.scrollerHeight+N.getRowLength(Q)*ae+re,U=this.scrollTop-ee*ae,U<0&&ee>0&&(ee=Math.max(0,ee+Math.floor(U/ae)),U=this.scrollTop-ee*ae);var Ae=0;return(this.layerConfig.width!=A||D)&&(Ae=this.CHANGE_H_SCROLL),(D||H)&&(Ae|=this.$updateCachedSize(!0,this.gutterWidth,_.width,_.height),this._signal("scrollbarVisibilityChanged"),H&&(A=this.$getLongestLine())),this.layerConfig={width:A,padding:this.$padding,firstRow:K,firstRowScreen:ee,lastRow:Q,lineHeight:ae,characterWidth:this.characterWidth,minHeight:P,maxHeight:T,offset:U,gutterOffset:ae?Math.max(0,Math.ceil((U+_.height-_.scrollerHeight)/ae)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(A-this.$padding),Ae},E.prototype.$updateLines=function(){if(this.$changedLines){var N=this.$changedLines.firstRow,_=this.$changedLines.lastRow;this.$changedLines=null;var R=this.layerConfig;if(!(N>R.lastRow+1)&&!(_<R.firstRow)){if(_===1/0){this.$showGutter&&this.$gutterLayer.update(R),this.$textLayer.update(R);return}return this.$textLayer.updateLines(R,N,_),!0}}},E.prototype.$getLongestLine=function(){var N=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(N+=1),this.$textLayer&&N>this.$textLayer.MAX_LINE_LENGTH&&(N=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(N*this.characterWidth))},E.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},E.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},E.prototype.addGutterDecoration=function(N,_){this.$gutterLayer.addGutterDecoration(N,_)},E.prototype.removeGutterDecoration=function(N,_){this.$gutterLayer.removeGutterDecoration(N,_)},E.prototype.updateBreakpoints=function(N){this._rows=N,this.$loop.schedule(this.CHANGE_GUTTER)},E.prototype.setAnnotations=function(N){this.$gutterLayer.setAnnotations(N),this.$loop.schedule(this.CHANGE_GUTTER)},E.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},E.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},E.prototype.showCursor=function(){this.$cursorLayer.showCursor()},E.prototype.scrollSelectionIntoView=function(N,_,R){this.scrollCursorIntoView(N,R),this.scrollCursorIntoView(_,R)},E.prototype.scrollCursorIntoView=function(N,_,R){if(this.$size.scrollerHeight!==0){var M=this.$cursorLayer.getPixelPosition(N),T=M.left,A=M.top,$=R&&R.top||0,D=R&&R.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var O=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;O+$>A?(_&&O+$>A+this.lineHeight&&(A-=_*this.$size.scrollerHeight),A===0&&(A=-this.scrollMargin.top),this.session.setScrollTop(A)):O+this.$size.scrollerHeight-D<A+this.lineHeight&&(_&&O+this.$size.scrollerHeight-D<A-this.lineHeight&&(A+=_*this.$size.scrollerHeight),this.session.setScrollTop(A+this.lineHeight+D-this.$size.scrollerHeight));var P=this.scrollLeft,I=2*this.layerConfig.characterWidth;T-I<P?(T-=I,T<this.$padding+I&&(T=-this.scrollMargin.left),this.session.setScrollLeft(T)):(T+=I,P+this.$size.scrollerWidth<T+this.characterWidth?this.session.setScrollLeft(Math.round(T+this.characterWidth-this.$size.scrollerWidth)):P<=this.$padding&&T-P<this.characterWidth&&this.session.setScrollLeft(0))}},E.prototype.getScrollTop=function(){return this.session.getScrollTop()},E.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},E.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},E.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},E.prototype.scrollToRow=function(N){this.session.setScrollTop(N*this.lineHeight)},E.prototype.alignCursor=function(N,_){typeof N=="number"&&(N={row:N,column:0});var R=this.$cursorLayer.getPixelPosition(N),M=this.$size.scrollerHeight-this.lineHeight,T=R.top-M*(_||0);return this.session.setScrollTop(T),T},E.prototype.$calcSteps=function(N,_){var R=0,M=this.STEPS,T=[],A=function($,D,O){return O*(Math.pow($-1,3)+1)+D};for(R=0;R<M;++R)T.push(A(R/this.STEPS,N,_-N));return T},E.prototype.scrollToLine=function(N,_,R,M){var T=this.$cursorLayer.getPixelPosition({row:N,column:0}),A=T.top;_&&(A-=this.$size.scrollerHeight/2);var $=this.scrollTop;this.session.setScrollTop(A),R!==!1&&this.animateScrolling($,M)},E.prototype.animateScrolling=function(N,_){var R=this.scrollTop;if(!this.$animatedScroll)return;var M=this;if(N==R)return;if(this.$scrollAnimation){var T=this.$scrollAnimation.steps;if(T.length&&(N=T[0],N==R))return}var A=M.$calcSteps(N,R);this.$scrollAnimation={from:N,to:R,steps:A},clearInterval(this.$timer),M.session.setScrollTop(A.shift()),M.session.$scrollTop=R;function $(){M.$timer=clearInterval(M.$timer),M.$scrollAnimation=null,M.$stopAnimation=!1,_&&_()}this.$timer=setInterval(function(){if(M.$stopAnimation){$();return}if(!M.session)return clearInterval(M.$timer);A.length?(M.session.setScrollTop(A.shift()),M.session.$scrollTop=R):R!=null?(M.session.$scrollTop=-1,M.session.setScrollTop(R),R=null):$()},10)},E.prototype.scrollToY=function(N){this.scrollTop!==N&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=N)},E.prototype.scrollToX=function(N){this.scrollLeft!==N&&(this.scrollLeft=N),this.$loop.schedule(this.CHANGE_H_SCROLL)},E.prototype.scrollTo=function(N,_){this.session.setScrollTop(_),this.session.setScrollLeft(N)},E.prototype.scrollBy=function(N,_){_&&this.session.setScrollTop(this.session.getScrollTop()+_),N&&this.session.setScrollLeft(this.session.getScrollLeft()+N)},E.prototype.isScrollableBy=function(N,_){if(_<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||_>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||N<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||N>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},E.prototype.pixelToScreenCoordinates=function(N,_){var R;if(this.$hasCssTransforms){R={top:0,left:0};var M=this.$fontMetrics.transformCoordinates([N,_]);N=M[1]-this.gutterWidth-this.margin.left,_=M[0]}else R=this.scroller.getBoundingClientRect();var T=N+this.scrollLeft-R.left-this.$padding,A=T/this.characterWidth,$=Math.floor((_+this.scrollTop-R.top)/this.lineHeight),D=this.$blockCursor?Math.floor(A):Math.round(A);return{row:$,column:D,side:A-D>0?1:-1,offsetX:T}},E.prototype.screenToTextCoordinates=function(N,_){var R;if(this.$hasCssTransforms){R={top:0,left:0};var M=this.$fontMetrics.transformCoordinates([N,_]);N=M[1]-this.gutterWidth-this.margin.left,_=M[0]}else R=this.scroller.getBoundingClientRect();var T=N+this.scrollLeft-R.left-this.$padding,A=T/this.characterWidth,$=this.$blockCursor?Math.floor(A):Math.round(A),D=Math.floor((_+this.scrollTop-R.top)/this.lineHeight);return this.session.screenToDocumentPosition(D,Math.max($,0),T)},E.prototype.textToScreenCoordinates=function(N,_){var R=this.scroller.getBoundingClientRect(),M=this.session.documentToScreenPosition(N,_),T=this.$padding+(this.session.$bidiHandler.isBidiRow(M.row,N)?this.session.$bidiHandler.getPosLeft(M.column):Math.round(M.column*this.characterWidth)),A=M.row*this.lineHeight;return{pageX:R.left+T-this.scrollLeft,pageY:R.top+A-this.scrollTop}},E.prototype.visualizeFocus=function(){o.addCssClass(this.container,"ace_focus")},E.prototype.visualizeBlur=function(){o.removeCssClass(this.container,"ace_focus")},E.prototype.showComposition=function(N){this.$composition=N,N.cssText||(N.cssText=this.textarea.style.cssText),N.useTextareaForIME==null&&(N.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(o.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):N.markerId=this.session.addMarker(N.markerRange,"ace_composition_marker","text")},E.prototype.setCompositionText=function(N){var _=this.session.selection.cursor;this.addToken(N,"composition_placeholder",_.row,_.column),this.$moveTextAreaToCursor()},E.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),o.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var N=this.session.selection.cursor;this.removeExtraToken(N.row,N.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},E.prototype.setGhostText=function(N,_){var R=this.session.selection.cursor,M=_||{row:R.row,column:R.column};this.removeGhostText();var T=this.$calculateWrappedTextChunks(N,M);this.addToken(T[0].text,"ghost_text",M.row,M.column),this.$ghostText={text:N,position:{row:M.row,column:M.column}};var A=o.createElement("div");if(T.length>1){var $=this.hideTokensAfterPosition(M.row,M.column),D;T.slice(1).forEach(function(H){var U=o.createElement("div"),q=o.createElement("span");q.className="ace_ghost_text",H.wrapped&&(U.className="ghost_text_line_wrapped"),H.text.length===0&&(H.text=" "),q.appendChild(o.createTextNode(H.text)),U.appendChild(q),A.appendChild(U),D=U}),$.forEach(function(H){var U=o.createElement("span");k(H.type)||(U.className="ace_"+H.type.replace(/\./g," ace_")),U.appendChild(o.createTextNode(H.value)),D.appendChild(U)}),this.$ghostTextWidget={el:A,row:M.row,column:M.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var O=this.$cursorLayer.getPixelPosition(M,!0),P=this.container,I=P.getBoundingClientRect().height,B=T.length*this.lineHeight,Y=B<I-O.top;if(Y)return;B<I?this.scrollBy(0,(T.length-1)*this.lineHeight):this.scrollToRow(M.row)}},E.prototype.$calculateWrappedTextChunks=function(N,_){var R=this.$size.scrollerWidth-this.$padding*2,M=Math.floor(R/this.characterWidth)-2;M=M<=0?60:M;for(var T=N.split(/\r?\n/),A=[],$=0;$<T.length;$++){var D=this.session.$getDisplayTokens(T[$],_.column),O=this.session.$computeWrapSplits(D,M,this.session.$tabSize);if(O.length>0){var P=0;O.push(T[$].length);for(var I=0;I<O.length;I++){var B=T[$].slice(P,O[I]);A.push({text:B,wrapped:!0}),P=O[I]}}else A.push({text:T[$],wrapped:!1})}return A},E.prototype.removeGhostText=function(){if(this.$ghostText){var N=this.$ghostText.position;this.removeExtraToken(N.row,N.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},E.prototype.addToken=function(N,_,R,M){var T=this.session;T.bgTokenizer.lines[R]=null;var A={type:_,value:N},$=T.getTokens(R);if(M==null||!$.length)$.push(A);else for(var D=0,O=0;O<$.length;O++){var P=$[O];if(D+=P.value.length,M<=D){var I=P.value.length-(D-M),B=P.value.slice(0,I),Y=P.value.slice(I);$.splice(O,1,{type:P.type,value:B},A,{type:P.type,value:Y});break}}this.updateLines(R,R)},E.prototype.hideTokensAfterPosition=function(N,_){for(var R=this.session.getTokens(N),M=0,T=!1,A=[],$=0;$<R.length;$++){var D=R[$];if(M+=D.value.length,D.type!=="ghost_text"){if(T){A.push({type:D.type,value:D.value}),D.type="hidden_token";continue}M===_&&(T=!0)}}return this.updateLines(N,N),A},E.prototype.removeExtraToken=function(N,_){this.session.bgTokenizer.lines[N]=null,this.updateLines(N,N)},E.prototype.setTheme=function(N,_){var R=this;if(this.$themeId=N,R._dispatchEvent("themeChange",{theme:N}),!N||typeof N=="string"){var M=N||this.$options.theme.initialValue;l.loadModule(["theme",M],T)}else T(N);function T(A){if(R.$themeId!=N)return _&&_();if(!A||!A.cssClass)throw new Error("couldn't load module "+N+" or it didn't call define");A.$id&&(R.$themeId=A.$id),o.importCssString(A.cssText,A.cssClass,R.container),R.theme&&o.removeCssClass(R.container,R.theme.cssClass);var $="padding"in A?A.padding:"padding"in(R.theme||{})?4:R.$padding;R.$padding&&$!=R.$padding&&R.setPadding($),R.$theme=A.cssClass,R.theme=A,o.addCssClass(R.container,A.cssClass),o.setCssClass(R.container,"ace_dark",A.isDark),R.$size&&(R.$size.width=0,R.$updateSizeAsync()),R._dispatchEvent("themeLoaded",{theme:A}),_&&_(),w.isSafari&&R.scroller&&(R.scroller.style.background="red",R.scroller.style.background="")}},E.prototype.getTheme=function(){return this.$themeId},E.prototype.setStyle=function(N,_){o.setCssClass(this.container,N,_!==!1)},E.prototype.unsetStyle=function(N){o.removeCssClass(this.container,N)},E.prototype.setCursorStyle=function(N){o.setStyle(this.scroller.style,"cursor",N)},E.prototype.setMouseCursor=function(N){o.setStyle(this.scroller.style,"cursor",N)},E.prototype.attachToShadowRoot=function(){o.importCssString(x,"ace_editor.css",this.container)},E.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},E.prototype.$updateCustomScrollbar=function(N){var _=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),N===!0?(this.scrollBarV=new g(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(R){_.$scrollAnimation||_.session.setScrollTop(R.data-_.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(R){_.$scrollAnimation||_.session.setScrollLeft(R.data-_.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new S(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function(R){_.$scrollAnimation||_.session.setScrollTop(R.data-_.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(R){_.$scrollAnimation||_.session.setScrollLeft(R.data-_.scrollMargin.left)}))},E.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var N=this;this.$resizeTimer=a.delayedCall(function(){N.destroyed||N.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(_){var R=_[0].contentRect.width,M=_[0].contentRect.height;Math.abs(N.$size.width-R)>1||Math.abs(N.$size.height-M)>1?N.$resizeTimer.delay():N.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},E}();L.prototype.CHANGE_CURSOR=1,L.prototype.CHANGE_MARKER=2,L.prototype.CHANGE_GUTTER=4,L.prototype.CHANGE_SCROLL=8,L.prototype.CHANGE_LINES=16,L.prototype.CHANGE_TEXT=32,L.prototype.CHANGE_SIZE=64,L.prototype.CHANGE_MARKER_BACK=128,L.prototype.CHANGE_MARKER_FRONT=256,L.prototype.CHANGE_FULL=512,L.prototype.CHANGE_H_SCROLL=1024,L.prototype.$changes=0,L.prototype.$padding=null,L.prototype.$frozen=!1,L.prototype.STEPS=8,s.implement(L.prototype,C),l.defineOptions(L.prototype,"renderer",{useResizeObserver:{set:function(E){!E&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):E&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(E){this.$textLayer.setShowInvisibles(E)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(E){typeof E=="number"&&(this.$printMarginColumn=E),this.$showPrintMargin=!!E,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(E){this.$gutter.style.display=E?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(E){this.$gutterLayer.$useSvgGutterIcons=E},initialValue:!1},showFoldedAnnotations:{set:function(E){this.$gutterLayer.$showFoldedAnnotations=E},initialValue:!1},fadeFoldWidgets:{set:function(E){o.setCssClass(this.$gutter,"ace_fade-fold-widgets",E)},initialValue:!1},showFoldWidgets:{set:function(E){this.$gutterLayer.setShowFoldWidgets(E),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(E){this.$textLayer.setDisplayIndentGuides(E)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(E){this.$textLayer.setHighlightIndentGuides(E)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(E){this.$gutterLayer.setHighlightGutterLine(E),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(E){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(E){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(E){typeof E=="number"&&(E=E+"px"),this.container.style.fontSize=E,this.updateFontSize()},initialValue:12},fontFamily:{set:function(E){this.container.style.fontFamily=E,this.updateFontSize()}},maxLines:{set:function(E){this.updateFull()}},minLines:{set:function(E){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(E){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(E){E=+E||0,this.$scrollPastEnd!=E&&(this.$scrollPastEnd=E,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(E){this.$gutterLayer.$fixedWidth=!!E,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(E){this.$updateCustomScrollbar(E)},initialValue:!1},theme:{set:function(E){this.setTheme(E)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!w.isMobile&&!w.isIE}}),r.VirtualRenderer=L}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,r,i){var s=n("../lib/oop"),o=n("../lib/net"),a=n("../lib/event_emitter").EventEmitter,l=n("../config");function u(f){var p="importScripts('"+o.qualifyURL(f)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,g=new m;return g.append(p),g.getBlob("application/javascript")}}function c(f){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(l.get("loadWorkerFromBlob")){var p=u(f),m=window.URL||window.webkitURL,g=m.createObjectURL(p);return new Worker(g)}return new Worker(f)}var h=function(f){f.postMessage||(f=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=f,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){s.implement(this,a),this.$createWorkerFromOldConfig=function(f,p,m,g,y){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),l.get("packaged")||!n.toUrl)g=g||l.moduleUrl(p,"worker");else{var b=this.$normalizePath;g=g||b(n.toUrl("ace/worker/worker.js",null,"_"));var C={};f.forEach(function(x){C[x]=b(n.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(g),y&&this.send("importScripts",y),this.$worker.postMessage({init:!0,tlns:C,module:p,classname:m}),this.$worker},this.onMessage=function(f){var p=f.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var m=this.callbacks[p.id];m&&(m(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(f){window.console&&console.error&&console.error(f)},this.$normalizePath=function(f){return o.qualifyURL(f)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(f){f.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(f,p){this.$worker.postMessage({command:f,args:p})},this.call=function(f,p,m){if(m){var g=this.callbackId++;this.callbacks[g]=m,p.push(g)}this.send(f,p)},this.emit=function(f,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:f,data:{data:p.data}})}catch(m){console.error(m.stack)}},this.attachToDocument=function(f){this.$doc&&this.terminate(),this.$doc=f,this.call("setValue",[f.getValue()]),f.on("change",this.changeListener,!0)},this.changeListener=function(f){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),f.action=="insert"?this.deltaQueue.push(f.start,f.lines):this.deltaQueue.push(f.start,f.end)},this.$sendDeltaQueue=function(){var f=this.deltaQueue;f&&(this.deltaQueue=null,f.length>50&&f.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:f}))}}).call(h.prototype);var d=function(f,p,m){var g=null,y=!1,b=Object.create(a),C=[],x=new h({messageBuffer:C,terminate:function(){},postMessage:function(w){C.push(w),g&&(y?setTimeout(S):S())}});x.setEmitSync=function(w){y=w};var S=function(){var w=C.shift();w.command?g[w.command].apply(g,w.args):w.event&&b._signal(w.event,w.data)};return b.postMessage=function(w){x.onMessage({data:w})},b.callback=function(w,k){this.postMessage({type:"call",id:k,data:w})},b.emit=function(w,k){this.postMessage({type:"event",name:w,data:k})},l.loadModule(["worker",p],function(w){for(g=new w[m](b);C.length;)S()}),x};r.UIWorkerClient=d,r.WorkerClient=h,r.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,r,i){var s=n("./range").Range,o=n("./lib/event_emitter").EventEmitter,a=n("./lib/oop"),l=function(){function u(c,h,d,f,p,m){var g=this;this.length=h,this.session=c,this.doc=c.getDocument(),this.mainClass=p,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=f,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=d;var y=c.getUndoManager().$undoStack||c.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=y.length,this.setup(),c.selection.on("changeCursor",this.$onCursorChange)}return u.prototype.setup=function(){var c=this,h=this.doc,d=this.session;this.selectionBefore=d.selection.toJSON(),d.selection.inMultiSelectMode&&d.selection.toSingleRange(),this.pos=h.createAnchor(this.$pos.row,this.$pos.column);var f=this.pos;f.$insertRight=!0,f.detach(),f.markerId=d.addMarker(new s(f.row,f.column,f.row,f.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(p){var m=h.createAnchor(p.row,p.column);m.$insertRight=!0,m.detach(),c.others.push(m)}),d.setUndoSelect(!1)},u.prototype.showOtherMarkers=function(){if(!this.othersActive){var c=this.session,h=this;this.othersActive=!0,this.others.forEach(function(d){d.markerId=c.addMarker(new s(d.row,d.column,d.row,d.column+h.length),h.othersClass,null,!1)})}},u.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var c=0;c<this.others.length;c++)this.session.removeMarker(this.others[c].markerId)}},u.prototype.onUpdate=function(c){if(this.$updating)return this.updateAnchors(c);var h=c;if(h.start.row===h.end.row&&h.start.row===this.pos.row){this.$updating=!0;var d=c.action==="insert"?h.end.column-h.start.column:h.start.column-h.end.column,f=h.start.column>=this.pos.column&&h.start.column<=this.pos.column+this.length+1,p=h.start.column-this.pos.column;if(this.updateAnchors(c),f&&(this.length+=d),f&&!this.session.$fromUndo){if(c.action==="insert")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],y={row:g.row,column:g.column+p};this.doc.insertMergedLines(y,c.lines)}else if(c.action==="remove")for(var m=this.others.length-1;m>=0;m--){var g=this.others[m],y={row:g.row,column:g.column+p};this.doc.remove(new s(y.row,y.column,y.row,y.column-d))}}this.$updating=!1,this.updateMarkers()}},u.prototype.updateAnchors=function(c){this.pos.onChange(c);for(var h=this.others.length;h--;)this.others[h].onChange(c);this.updateMarkers()},u.prototype.updateMarkers=function(){if(!this.$updating){var c=this,h=this.session,d=function(p,m){h.removeMarker(p.markerId),p.markerId=h.addMarker(new s(p.row,p.column,p.row,p.column+c.length),m,null,!1)};d(this.pos,this.mainClass);for(var f=this.others.length;f--;)d(this.others[f],this.othersClass)}},u.prototype.onCursorChange=function(c){if(!(this.$updating||!this.session)){var h=this.session.selection.getCursor();h.row===this.pos.row&&h.column>=this.pos.column&&h.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",c)):(this.hideOtherMarkers(),this._emit("cursorLeave",c))}},u.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},u.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var c=this.session.getUndoManager(),h=(c.$undoStack||c.$undostack).length-this.$undoStackDepth,d=0;d<h;d++)c.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},u}();a.implement(l.prototype,o),r.PlaceHolder=l}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var s=n("../lib/event"),o=n("../lib/useragent");function a(u,c){return u.row==c.row&&u.column==c.column}function l(u){var c=u.domEvent,h=c.altKey,d=c.shiftKey,f=c.ctrlKey,p=u.getAccelKey(),m=u.getButton();if(f&&o.isMac&&(m=c.button),u.editor.inMultiSelectMode&&m==2){u.editor.textInput.onContextMenu(u.domEvent);return}if(!f&&!h&&!p){m===0&&u.editor.inMultiSelectMode&&u.editor.exitMultiSelectMode();return}if(m===0){var g=u.editor,y=g.selection,b=g.inMultiSelectMode,C=u.getDocumentPosition(),x=y.getCursor(),S=u.inSelection()||y.isEmpty()&&a(C,x),w=u.x,k=u.y,L=function(B){w=B.clientX,k=B.clientY},E=g.session,N=g.renderer.pixelToScreenCoordinates(w,k),_=N,R;if(g.$mouseHandler.$enableJumpToDef)f&&h||p&&h?R=d?"block":"add":h&&g.$blockSelectEnabled&&(R="block");else if(p&&!h){if(R="add",!b&&d)return}else h&&g.$blockSelectEnabled&&(R="block");if(R&&o.isMac&&c.ctrlKey&&g.$mouseHandler.cancelContextMenu(),R=="add"){if(!b&&S)return;if(!b){var M=y.toOrientedRange();g.addSelectionMarker(M)}var T=y.rangeList.rangeAtPoint(C);g.inVirtualSelectionMode=!0,d&&(T=null,M=y.ranges[0]||M,g.removeSelectionMarker(M)),g.once("mouseup",function(){var B=y.toOrientedRange();T&&B.isEmpty()&&a(T.cursor,B.cursor)?y.substractPoint(B.cursor):(d?y.substractPoint(M.cursor):M&&(g.removeSelectionMarker(M),y.addRange(M)),y.addRange(B)),g.inVirtualSelectionMode=!1})}else if(R=="block"){u.stop(),g.inVirtualSelectionMode=!0;var A,$=[],D=function(){var B=g.renderer.pixelToScreenCoordinates(w,k),Y=E.screenToDocumentPosition(B.row,B.column,B.offsetX);a(_,B)&&a(Y,y.lead)||(_=B,g.selection.moveToPosition(Y),g.renderer.scrollCursorIntoView(),g.removeSelectionMarkers($),$=y.rectangularRangeBlock(_,N),g.$mouseHandler.$clickSelection&&$.length==1&&$[0].isEmpty()&&($[0]=g.$mouseHandler.$clickSelection.clone()),$.forEach(g.addSelectionMarker,g),g.updateSelectionMarkers())};b&&!p?y.toSingleRange():!b&&p&&(A=y.toOrientedRange(),g.addSelectionMarker(A)),d?N=E.documentToScreenPosition(y.lead):y.moveToPosition(C),_={row:-1,column:-1};var O=function(B){D(),clearInterval(I),g.removeSelectionMarkers($),$.length||($=[y.toOrientedRange()]),A&&(g.removeSelectionMarker(A),y.toSingleRange(A));for(var Y=0;Y<$.length;Y++)y.addRange($[Y]);g.inVirtualSelectionMode=!1,g.$mouseHandler.$clickSelection=null},P=D;s.capture(g.container,L,O);var I=setInterval(function(){P()},20);return u.preventDefault()}}}r.onMouseDown=l}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,r,i){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(o){o.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(o){o.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(o){o.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(o){o.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(o){o.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(o){o.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(o){o.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(o){o.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(o){o.multiSelect.rangeCount>1?o.multiSelect.joinSelections():o.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(o){o.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(o){o.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(o){o.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(o){o.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(o){return o&&o.inMultiSelectMode}}];var s=n("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new s(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,r,i){var s=n("./range_list").RangeList,o=n("./range").Range,a=n("./selection").Selection,l=n("./mouse/multi_select_handler").onMouseDown,u=n("./lib/event"),c=n("./lib/lang"),h=n("./commands/multi_select_commands");r.commands=h.defaultCommands.concat(h.multiSelectCommands);var d=n("./search").Search,f=new d;function p(x,S,w){return f.$options.wrap=!0,f.$options.needle=S,f.$options.backwards=w==-1,f.find(x)}var m=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(x,S){if(x){if(!this.inMultiSelectMode&&this.rangeCount===0){var w=this.toOrientedRange();if(this.rangeList.add(w),this.rangeList.add(x),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),S||this.fromOrientedRange(x);this.rangeList.removeAll(),this.rangeList.add(w),this.$onAddRange(w)}x.cursor||(x.cursor=x.end);var k=this.rangeList.add(x);return this.$onAddRange(x),k.length&&this.$onRemoveRange(k),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),S||this.fromOrientedRange(x)}},this.toSingleRange=function(x){x=x||this.ranges[0];var S=this.rangeList.removeAll();S.length&&this.$onRemoveRange(S),x&&this.fromOrientedRange(x)},this.substractPoint=function(x){var S=this.rangeList.substractPoint(x);if(S)return this.$onRemoveRange(S),S[0]},this.mergeOverlappingRanges=function(){var x=this.rangeList.merge();x.length&&this.$onRemoveRange(x)},this.$onAddRange=function(x){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(x),this._signal("addRange",{range:x})},this.$onRemoveRange=function(x){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var S=this.rangeList.ranges.pop();x.push(S),this.rangeCount=0}for(var w=x.length;w--;){var k=this.ranges.indexOf(x[w]);this.ranges.splice(k,1)}this._signal("removeRange",{ranges:x}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),S=S||this.ranges[0],S&&!S.isEqual(this.getRange())&&this.fromOrientedRange(S)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var x=this.ranges.length?this.ranges:[this.getRange()],S=[],w=0;w<x.length;w++){var k=x[w],L=k.start.row,E=k.end.row;if(L===E)S.push(k.clone());else{for(S.push(new o(L,k.start.column,L,this.session.getLine(L).length));++L<E;)S.push(this.getLineRange(L,!0));S.push(new o(E,0,E,k.end.column))}w==0&&!this.isBackwards()&&(S=S.reverse())}this.toSingleRange();for(var w=S.length;w--;)this.addRange(S[w])},this.joinSelections=function(){var x=this.rangeList.ranges,S=x[x.length-1],w=o.fromPoints(x[0].start,S.end);this.toSingleRange(),this.setSelectionRange(w,S.cursor==S.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var x=this.rangeList.ranges,S=x[x.length-1],w=o.fromPoints(x[0].start,S.end);this.toSingleRange(),this.setSelectionRange(w,S.cursor==S.start)}else{var k=this.session.documentToScreenPosition(this.cursor),L=this.session.documentToScreenPosition(this.anchor),E=this.rectangularRangeBlock(k,L);E.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(x,S,w){var k=[],L=x.column<S.column;if(L)var E=x.column,N=S.column,_=x.offsetX,R=S.offsetX;else var E=S.column,N=x.column,_=S.offsetX,R=x.offsetX;var M=x.row<S.row;if(M)var T=x.row,A=S.row;else var T=S.row,A=x.row;E<0&&(E=0),T<0&&(T=0),T==A&&(w=!0);for(var $,D=T;D<=A;D++){var O=o.fromPoints(this.session.screenToDocumentPosition(D,E,_),this.session.screenToDocumentPosition(D,N,R));if(O.isEmpty()){if($&&y(O.end,$))break;$=O.end}O.cursor=L?O.start:O.end,k.push(O)}if(M&&k.reverse(),!w){for(var P=k.length-1;k[P].isEmpty()&&P>0;)P--;if(P>0)for(var I=0;k[I].isEmpty();)I++;for(var B=P;B>=I;B--)k[B].isEmpty()&&k.splice(B,1)}return k}}).call(a.prototype);var g=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(x){x.cursor||(x.cursor=x.end);var S=this.getSelectionStyle();return x.marker=this.session.addMarker(x,"ace_selection",S),this.session.$selectionMarkers.push(x),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,x},this.removeSelectionMarker=function(x){if(x.marker){this.session.removeMarker(x.marker);var S=this.session.$selectionMarkers.indexOf(x);S!=-1&&this.session.$selectionMarkers.splice(S,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(x){for(var S=this.session.$selectionMarkers,w=x.length;w--;){var k=x[w];if(k.marker){this.session.removeMarker(k.marker);var L=S.indexOf(k);L!=-1&&S.splice(L,1)}}this.session.selectionMarkerCount=S.length},this.$onAddRange=function(x){this.addSelectionMarker(x.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(x){this.removeSelectionMarkers(x.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(x){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(x){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(x){var S=x.command,w=x.editor;if(w.multiSelect){if(S.multiSelectAction)S.multiSelectAction=="forEach"?k=w.forEachSelection(S,x.args):S.multiSelectAction=="forEachLine"?k=w.forEachSelection(S,x.args,!0):S.multiSelectAction=="single"?(w.exitMultiSelectMode(),k=S.exec(w,x.args||{})):k=S.multiSelectAction(w,x.args||{});else{var k=S.exec(w,x.args||{});w.multiSelect.addRange(w.multiSelect.toOrientedRange()),w.multiSelect.mergeOverlappingRanges()}return k}},this.forEachSelection=function(x,S,w){if(!this.inVirtualSelectionMode){var k=w&&w.keepOrder,L=w==!0||w&&w.$byLines,E=this.session,N=this.selection,_=N.rangeList,R=(k?N:_).ranges,M;if(!R.length)return x.exec?x.exec(this,S||{}):x(this,S||{});var T=N._eventRegistry;N._eventRegistry={};var A=new a(E);this.inVirtualSelectionMode=!0;for(var $=R.length;$--;){if(L)for(;$>0&&R[$].start.row==R[$-1].end.row;)$--;A.fromOrientedRange(R[$]),A.index=$,this.selection=E.selection=A;var D=x.exec?x.exec(this,S||{}):x(this,S||{});!M&&D!==void 0&&(M=D),A.toOrientedRange(R[$])}A.detach(),this.selection=E.selection=N,this.inVirtualSelectionMode=!1,N._eventRegistry=T,N.mergeOverlappingRanges(),N.ranges[0]&&N.fromOrientedRange(N.ranges[0]);var O=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),O&&O.from==O.to&&this.renderer.animateScrolling(O.from),M}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var x="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var S=this.multiSelect.rangeList.ranges,w=[],k=0;k<S.length;k++)w.push(this.session.getTextRange(S[k]));var L=this.session.getDocument().getNewLineCharacter();x=w.join(L),x.length==(w.length-1)*L.length&&(x="")}else this.selection.isEmpty()||(x=this.session.getTextRange(this.getSelectionRange()));return x},this.$checkMultiselectChange=function(x,S){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var w=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&S==this.multiSelect.anchor)return;var k=S==this.multiSelect.anchor?w.cursor==w.start?w.end:w.start:w.cursor;k.row!=S.row||this.session.$clipPositionToDocument(k.row,k.column).column!=S.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(x,S,w){if(S=S||{},S.needle=x||S.needle,S.needle==null){var k=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();S.needle=this.session.getTextRange(k)}this.$search.set(S);var L=this.$search.findAll(this.session);if(!L.length)return 0;var E=this.multiSelect;w||E.toSingleRange(L[0]);for(var N=L.length;N--;)E.addRange(L[N],!0);return k&&E.rangeList.rangeAtPoint(k.start)&&E.addRange(k,!0),L.length},this.selectMoreLines=function(x,S){var w=this.selection.toOrientedRange(),k=w.cursor==w.end,L=this.session.documentToScreenPosition(w.cursor);this.selection.$desiredColumn&&(L.column=this.selection.$desiredColumn);var E=this.session.screenToDocumentPosition(L.row+x,L.column);if(w.isEmpty())var _=E;else var N=this.session.documentToScreenPosition(k?w.end:w.start),_=this.session.screenToDocumentPosition(N.row+x,N.column);if(k){var R=o.fromPoints(E,_);R.cursor=R.start}else{var R=o.fromPoints(_,E);R.cursor=R.end}if(R.desiredColumn=L.column,!this.selection.inMultiSelectMode)this.selection.addRange(w);else if(S)var M=w.cursor;this.selection.addRange(R),M&&this.selection.substractPoint(M)},this.transposeSelections=function(x){for(var S=this.session,w=S.multiSelect,k=w.ranges,L=k.length;L--;){var E=k[L];if(E.isEmpty()){var N=S.getWordRange(E.start.row,E.start.column);E.start.row=N.start.row,E.start.column=N.start.column,E.end.row=N.end.row,E.end.column=N.end.column}}w.mergeOverlappingRanges();for(var _=[],L=k.length;L--;){var E=k[L];_.unshift(S.getTextRange(E))}x<0?_.unshift(_.pop()):_.push(_.shift());for(var L=k.length;L--;){var E=k[L],R=E.clone();S.replace(E,_[L]),E.start.row=R.start.row,E.start.column=R.start.column}w.fromOrientedRange(w.ranges[0])},this.selectMore=function(x,S,w){var k=this.session,L=k.multiSelect,E=L.toOrientedRange();if(!(E.isEmpty()&&(E=k.getWordRange(E.start.row,E.start.column),E.cursor=x==-1?E.start:E.end,this.multiSelect.addRange(E),w))){var N=k.getTextRange(E),_=p(k,N,x);_&&(_.cursor=x==-1?_.start:_.end,this.session.unfold(_),this.multiSelect.addRange(_),this.renderer.scrollCursorIntoView(null,.5)),S&&this.multiSelect.substractPoint(E.cursor)}},this.alignCursors=function(){var x=this.session,S=x.multiSelect,w=S.ranges,k=-1,L=w.filter(function(P){if(P.cursor.row==k)return!0;k=P.cursor.row});if(!w.length||L.length==w.length-1){var E=this.selection.getRange(),N=E.start.row,_=E.end.row,R=N==_;if(R){var M=this.session.getLength(),T;do T=this.session.getLine(_);while(/[=:]/.test(T)&&++_<M);do T=this.session.getLine(N);while(/[=:]/.test(T)&&--N>0);N<0&&(N=0),_>=M&&(_=M-1)}var A=this.session.removeFullLines(N,_);A=this.$reAlignText(A,R),this.session.insert({row:N,column:0},A.join(`
`)+`
`),R||(E.start.column=0,E.end.column=A[A.length-1].length),this.selection.setRange(E)}else{L.forEach(function(P){S.substractPoint(P.cursor)});var $=0,D=1/0,O=w.map(function(P){var I=P.cursor,B=x.getLine(I.row),Y=B.substr(I.column).search(/\S/g);return Y==-1&&(Y=0),I.column>$&&($=I.column),Y<D&&(D=Y),Y});w.forEach(function(P,I){var B=P.cursor,Y=$-B.column,H=O[I]-D;Y>H?x.insert(B,c.stringRepeat(" ",Y-H)):x.remove(new o(B.row,B.column,B.row,B.column-Y+H)),P.start.column=P.end.column=$,P.start.row=P.end.row=B.row,P.cursor=P.end}),S.fromOrientedRange(w[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(x,S){var w=!0,k=!0,L,E,N;return x.map(function(A){var $=A.match(/(\s*)(.*?)(\s*)([=:].*)/);return $?L==null?(L=$[1].length,E=$[2].length,N=$[3].length,$):(L+E+N!=$[1].length+$[2].length+$[3].length&&(k=!1),L!=$[1].length&&(w=!1),L>$[1].length&&(L=$[1].length),E<$[2].length&&(E=$[2].length),N>$[3].length&&(N=$[3].length),$):[A]}).map(S?R:w?k?M:R:T);function _(A){return c.stringRepeat(" ",A)}function R(A){return A[2]?_(L)+A[2]+_(E-A[2].length+N)+A[4].replace(/^([=:])\s+/,"$1 "):A[0]}function M(A){return A[2]?_(L+E-A[2].length)+A[2]+_(N)+A[4].replace(/^([=:])\s+/,"$1 "):A[0]}function T(A){return A[2]?_(L)+A[2]+_(N)+A[4].replace(/^([=:])\s+/,"$1 "):A[0]}}}).call(g.prototype);function y(x,S){return x.row==S.row&&x.column==S.column}r.onSessionChange=function(x){var S=x.session;S&&!S.multiSelect&&(S.$selectionMarkers=[],S.selection.$initRangeList(),S.multiSelect=S.selection),this.multiSelect=S&&S.multiSelect;var w=x.oldSession;w&&(w.multiSelect.off("addRange",this.$onAddRange),w.multiSelect.off("removeRange",this.$onRemoveRange),w.multiSelect.off("multiSelect",this.$onMultiSelect),w.multiSelect.off("singleSelect",this.$onSingleSelect),w.multiSelect.lead.off("change",this.$checkMultiselectChange),w.multiSelect.anchor.off("change",this.$checkMultiselectChange)),S&&(S.multiSelect.on("addRange",this.$onAddRange),S.multiSelect.on("removeRange",this.$onRemoveRange),S.multiSelect.on("multiSelect",this.$onMultiSelect),S.multiSelect.on("singleSelect",this.$onSingleSelect),S.multiSelect.lead.on("change",this.$checkMultiselectChange),S.multiSelect.anchor.on("change",this.$checkMultiselectChange)),S&&this.inMultiSelectMode!=S.selection.inMultiSelectMode&&(S.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function b(x){x.$multiselectOnSessionChange||(x.$onAddRange=x.$onAddRange.bind(x),x.$onRemoveRange=x.$onRemoveRange.bind(x),x.$onMultiSelect=x.$onMultiSelect.bind(x),x.$onSingleSelect=x.$onSingleSelect.bind(x),x.$multiselectOnSessionChange=r.onSessionChange.bind(x),x.$checkMultiselectChange=x.$checkMultiselectChange.bind(x),x.$multiselectOnSessionChange(x),x.on("changeSession",x.$multiselectOnSessionChange),x.on("mousedown",l),x.commands.addCommands(h.defaultCommands),C(x))}function C(x){if(!x.textInput)return;var S=x.textInput.getElement(),w=!1;u.addListener(S,"keydown",function(L){var E=L.keyCode==18&&!(L.ctrlKey||L.shiftKey||L.metaKey);x.$blockSelectEnabled&&E?w||(x.renderer.setMouseCursor("crosshair"),w=!0):w&&k()},x),u.addListener(S,"keyup",k,x),u.addListener(S,"blur",k,x);function k(L){w&&(x.renderer.setMouseCursor(""),w=!1)}}r.MultiSelect=b,n("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(x){b(this),x?this.on("mousedown",l):this.off("mousedown",l)},value:!0},enableBlockSelect:{set:function(x){this.$blockSelectEnabled=x},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,r,i){var s=n("../../range").Range,o=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(a,l,u){var c=a.getLine(u);return this.foldingStartMarker.test(c)?"start":l=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(a,l,u){return null},this.indentationBlock=function(a,l,u){var c=/\S/,h=a.getLine(l),d=h.search(c);if(d!=-1){for(var f=u||h.length,p=a.getLength(),m=l,g=l;++l<p;){var y=a.getLine(l).search(c);if(y!=-1){if(y<=d){var b=a.getTokenAt(l,0);if(!b||b.type!=="string")break}g=l}}if(g>m){var C=a.getLine(g).length;return new s(m,f,g,C)}}},this.openingBracketBlock=function(a,l,u,c,h){var d={row:u,column:c+1},f=a.$findClosingBracket(l,d,h);if(f){var p=a.foldWidgets[f.row];return p==null&&(p=a.getFoldWidget(f.row)),p=="start"&&f.row>d.row&&(f.row--,f.column=a.getLine(f.row).length),s.fromPoints(d,f)}},this.closingBracketBlock=function(a,l,u,c,h){var d={row:u,column:c},f=a.$findOpeningBracket(l,d);if(f)return f.column++,d.column--,s.fromPoints(f,d)}}).call(o.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(n,r,i){var s=n("../lib/dom"),o=n("../range").Range,a=n("../config").nls;function l(c,h,d){for(var f=0,p=c.length-1;f<=p;){var m=f+p>>1,g=d(h,c[m]);if(g>0)f=m+1;else if(g<0)p=m-1;else return m}return-(f+1)}function u(c,h,d){var f=c.getAnnotations().sort(o.comparePoints);if(f.length){var p=l(f,{row:h,column:-1},o.comparePoints);p<0&&(p=-p-1),p>=f.length?p=d>0?0:f.length-1:p===0&&d<0&&(p=f.length-1);var m=f[p];if(!(!m||!d)){if(m.row===h){do m=f[p+=d];while(m&&m.row===h);if(!m)return f.slice()}var g=[];h=m.row;do g[d<0?"unshift":"push"](m),m=f[p+=d];while(m&&m.row==h);return g.length&&g}}}r.showErrorMarker=function(c,h){var d=c.session,f=c.getCursorPosition(),p=f.row,m=d.widgetManager.getWidgetsAtRow(p).filter(function(L){return L.type=="errorMarker"})[0];m?m.destroy():p-=h;var g=u(d,p,h),y;if(g){var b=g[0];f.column=(b.pos&&typeof b.column!="number"?b.pos.sc:b.column)||0,f.row=b.row,y=c.renderer.$gutterLayer.$annotations[f.row]}else{if(m)return;y={displayText:[a("error-marker.good-state","Looks good!")],className:"ace_ok"}}c.session.unfold(f.row),c.selection.moveToPosition(f);var C={row:f.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},x=C.el.appendChild(s.createElement("div")),S=C.el.appendChild(s.createElement("div"));S.className="error_widget_arrow "+y.className;var w=c.renderer.$cursorLayer.getPixelPosition(f).left;S.style.left=w+c.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",x.className="error_widget "+y.className,y.displayText.forEach(function(L,E){x.appendChild(s.createTextNode(L)),E<y.displayText.length-1&&x.appendChild(s.createElement("br"))}),x.appendChild(s.createElement("div"));var k=function(L,E,N){if(E===0&&(N==="esc"||N==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(k),d.widgetManager.removeLineWidget(C),c.off("changeSelection",C.destroy),c.off("changeSession",C.destroy),c.off("mouseup",C.destroy),c.off("change",C.destroy))},c.keyBinding.addKeyboardHandler(k),c.on("changeSelection",C.destroy),c.on("changeSession",C.destroy),c.on("mouseup",C.destroy),c.on("change",C.destroy),c.session.widgetManager.addLineWidget(C),C.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},s.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,r,i){n("./loader_build")(r);var s=n("./lib/dom"),o=n("./range").Range,a=n("./editor").Editor,l=n("./edit_session").EditSession,u=n("./undomanager").UndoManager,c=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),r.config=n("./config"),r.edit=function(d,f){if(typeof d=="string"){var p=d;if(d=document.getElementById(p),!d)throw new Error("ace.edit can't find div #"+p)}if(d&&d.env&&d.env.editor instanceof a)return d.env.editor;var m="";if(d&&/input|textarea/i.test(d.tagName)){var g=d;m=g.value,d=s.createElement("pre"),g.parentNode.replaceChild(d,g)}else d&&(m=d.textContent,d.innerHTML="");var y=r.createEditSession(m),b=new a(new c(d),y,f),C={document:y,editor:b,onResize:b.resize.bind(b,null)};return g&&(C.textarea=g),b.on("destroy",function(){C.editor.container.env=null}),b.container.env=b.env=C,b},r.createEditSession=function(d,f){var p=new l(d,f);return p.setUndoManager(new u),p},r.Range=o,r.Editor=a,r.EditSession=l,r.UndoManager=u,r.VirtualRenderer=c;var h=r.config.version;r.version=h}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var r=function(){return this}();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=n);for(var i in n)n.hasOwnProperty(i)&&(r.ace[i]=n[i]);r.ace.default=r.ace,t&&(t.exports=r.ace)})}()})(O_);var Tm=O_.exports,__={exports:{}},qK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YK=qK,QK=YK;function j_(){}function D_(){}D_.resetWarningCache=j_;var JK=function(){function t(r,i,s,o,a,l){if(l!==QK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:D_,resetWarningCache:j_};return n.PropTypes=n,n};__.exports=JK();var u1=__.exports,Mm={exports:{}};Mm.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",b="[object Object]",C="[object Promise]",x="[object Proxy]",S="[object RegExp]",w="[object Set]",k="[object String]",L="[object Symbol]",E="[object Undefined]",N="[object WeakMap]",_="[object ArrayBuffer]",R="[object DataView]",M="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",$="[object Int16Array]",D="[object Int32Array]",O="[object Uint8Array]",P="[object Uint8ClampedArray]",I="[object Uint16Array]",B="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,q={};q[M]=q[T]=q[A]=q[$]=q[D]=q[O]=q[P]=q[I]=q[B]=!0,q[a]=q[l]=q[_]=q[c]=q[R]=q[h]=q[d]=q[f]=q[m]=q[g]=q[b]=q[S]=q[w]=q[k]=q[N]=!1;var K=typeof $n=="object"&&$n&&$n.Object===Object&&$n,Q=typeof self=="object"&&self&&self.Object===Object&&self,ee=K||Q||Function("return this")(),re=e&&!e.nodeType&&e,ae=re&&!0&&t&&!t.nodeType&&t,be=ae&&ae.exports===re,Ae=be&&K.process,Le=function(){try{return Ae&&Ae.binding&&Ae.binding("util")}catch{}}(),He=Le&&Le.isTypedArray;function Ue(Z,se){for(var F=-1,z=Z==null?0:Z.length,te=0,oe=[];++F<z;){var fe=Z[F];se(fe,F,Z)&&(oe[te++]=fe)}return oe}function yt(Z,se){for(var F=-1,z=se.length,te=Z.length;++F<z;)Z[te+F]=se[F];return Z}function Gt(Z,se){for(var F=-1,z=Z==null?0:Z.length;++F<z;)if(se(Z[F],F,Z))return!0;return!1}function bt(Z,se){for(var F=-1,z=Array(Z);++F<Z;)z[F]=se(F);return z}function Mn(Z){return function(se){return Z(se)}}function cr(Z,se){return Z.has(se)}function Qt(Z,se){return Z==null?void 0:Z[se]}function bn(Z){var se=-1,F=Array(Z.size);return Z.forEach(function(z,te){F[++se]=[te,z]}),F}function cn(Z,se){return function(F){return Z(se(F))}}function _r(Z){var se=-1,F=Array(Z.size);return Z.forEach(function(z){F[++se]=z}),F}var ye=Array.prototype,he=Function.prototype,le=Object.prototype,we=ee["__core-js_shared__"],Me=he.toString,De=le.hasOwnProperty,ft=function(){var Z=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),pt=le.toString,Pt=RegExp("^"+Me.call(De).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=be?ee.Buffer:void 0,Kt=ee.Symbol,sn=ee.Uint8Array,Mt=le.propertyIsEnumerable,ne=ye.splice,ke=Kt?Kt.toStringTag:void 0,Ee=Object.getOwnPropertySymbols,$e=Jt?Jt.isBuffer:void 0,Ne=cn(Object.keys,Object),Oe=Co(ee,"DataView"),qe=Co(ee,"Map"),et=Co(ee,"Promise"),It=Co(ee,"Set"),Et=Co(ee,"WeakMap"),xt=Co(Object,"create"),mt=bi(Oe),ot=bi(qe),nt=bi(et),at=bi(It),Ft=bi(Et),$t=Kt?Kt.prototype:void 0,Ve=$t?$t.valueOf:void 0;function We(Z){var se=-1,F=Z==null?0:Z.length;for(this.clear();++se<F;){var z=Z[se];this.set(z[0],z[1])}}function Ke(){this.__data__=xt?xt(null):{},this.size=0}function ut(Z){var se=this.has(Z)&&delete this.__data__[Z];return this.size-=se?1:0,se}function G(Z){var se=this.__data__;if(xt){var F=se[Z];return F===r?void 0:F}return De.call(se,Z)?se[Z]:void 0}function J(Z){var se=this.__data__;return xt?se[Z]!==void 0:De.call(se,Z)}function W(Z,se){var F=this.__data__;return this.size+=this.has(Z)?0:1,F[Z]=xt&&se===void 0?r:se,this}We.prototype.clear=Ke,We.prototype.delete=ut,We.prototype.get=G,We.prototype.has=J,We.prototype.set=W;function V(Z){var se=-1,F=Z==null?0:Z.length;for(this.clear();++se<F;){var z=Z[se];this.set(z[0],z[1])}}function X(){this.__data__=[],this.size=0}function ce(Z){var se=this.__data__,F=un(se,Z);if(F<0)return!1;var z=se.length-1;return F==z?se.pop():ne.call(se,F,1),--this.size,!0}function ve(Z){var se=this.__data__,F=un(se,Z);return F<0?void 0:se[F][1]}function de(Z){return un(this.__data__,Z)>-1}function ie(Z,se){var F=this.__data__,z=un(F,Z);return z<0?(++this.size,F.push([Z,se])):F[z][1]=se,this}V.prototype.clear=X,V.prototype.delete=ce,V.prototype.get=ve,V.prototype.has=de,V.prototype.set=ie;function Se(Z){var se=-1,F=Z==null?0:Z.length;for(this.clear();++se<F;){var z=Z[se];this.set(z[0],z[1])}}function Fe(){this.size=0,this.__data__={hash:new We,map:new(qe||V),string:new We}}function gt(Z){var se=Rl(this,Z).delete(Z);return this.size-=se?1:0,se}function Ot(Z){return Rl(this,Z).get(Z)}function Ut(Z){return Rl(this,Z).has(Z)}function vt(Z,se){var F=Rl(this,Z),z=F.size;return F.set(Z,se),this.size+=F.size==z?0:1,this}Se.prototype.clear=Fe,Se.prototype.delete=gt,Se.prototype.get=Ot,Se.prototype.has=Ut,Se.prototype.set=vt;function jt(Z){var se=-1,F=Z==null?0:Z.length;for(this.__data__=new Se;++se<F;)this.add(Z[se])}function on(Z){return this.__data__.set(Z,r),this}function ht(Z){return this.__data__.has(Z)}jt.prototype.add=jt.prototype.push=on,jt.prototype.has=ht;function Xt(Z){var se=this.__data__=new V(Z);this.size=se.size}function Kn(){this.__data__=new V,this.size=0}function Qr(Z){var se=this.__data__,F=se.delete(Z);return this.size=se.size,F}function Vs(Z){return this.__data__.get(Z)}function Jr(Z){return this.__data__.has(Z)}function xo(Z,se){var F=this.__data__;if(F instanceof V){var z=F.__data__;if(!qe||z.length<n-1)return z.push([Z,se]),this.size=++F.size,this;F=this.__data__=new Se(z)}return F.set(Z,se),this.size=F.size,this}Xt.prototype.clear=Kn,Xt.prototype.delete=Qr,Xt.prototype.get=Vs,Xt.prototype.has=Jr,Xt.prototype.set=xo;function ls(Z,se){var F=Ll(Z),z=!F&&Yg(Z),te=!F&&!z&&mu(Z),oe=!F&&!z&&!te&&Rd(Z),fe=F||z||te||oe,me=fe?bt(Z.length,String):[],_e=me.length;for(var xe in Z)De.call(Z,xe)&&!(fe&&(xe=="length"||te&&(xe=="offset"||xe=="parent")||oe&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||Ug(xe,_e)))&&me.push(xe);return me}function un(Z,se){for(var F=Z.length;F--;)if(Ed(Z[F][0],se))return F;return-1}function cs(Z,se,F){var z=se(Z);return Ll(Z)?z:yt(z,F(Z))}function Xr(Z){return Z==null?Z===void 0?E:y:ke&&ke in Object(Z)?Wg(Z):qg(Z)}function Zr(Z){return Ra(Z)&&Xr(Z)==a}function wo(Z,se,F,z,te){return Z===se?!0:Z==null||se==null||!Ra(Z)&&!Ra(se)?Z!==Z&&se!==se:ur(Z,se,F,z,wo,te)}function ur(Z,se,F,z,te,oe){var fe=Ll(Z),me=Ll(se),_e=fe?l:hs(Z),xe=me?l:hs(se);_e=_e==a?b:_e,xe=xe==a?b:xe;var lt=_e==b,ze=xe==b,wt=_e==xe;if(wt&&mu(Z)){if(!mu(se))return!1;fe=!0,lt=!1}if(wt&&!lt)return oe||(oe=new Xt),fe||Rd(Z)?So(Z,se,F,z,te,oe):us(Z,se,_e,F,z,te,oe);if(!(F&i)){var Ct=lt&&De.call(Z,"__wrapped__"),gn=ze&&De.call(se,"__wrapped__");if(Ct||gn){var Zn=Ct?Z.value():Z,qt=gn?se.value():se;return oe||(oe=new Xt),te(Zn,qt,F,z,oe)}}return wt?(oe||(oe=new Xt),Nl(Z,se,F,z,te,oe)):!1}function Ta(Z){if(!Nd(Z)||Kg(Z))return!1;var se=Td(Z)?Pt:H;return se.test(bi(Z))}function Ma(Z){return Ra(Z)&&Md(Z.length)&&!!q[Xr(Z)]}function Na(Z){if(!Gg(Z))return Ne(Z);var se=[];for(var F in Object(Z))De.call(Z,F)&&F!="constructor"&&se.push(F);return se}function So(Z,se,F,z,te,oe){var fe=F&i,me=Z.length,_e=se.length;if(me!=_e&&!(fe&&_e>me))return!1;var xe=oe.get(Z);if(xe&&oe.get(se))return xe==se;var lt=-1,ze=!0,wt=F&s?new jt:void 0;for(oe.set(Z,se),oe.set(se,Z);++lt<me;){var Ct=Z[lt],gn=se[lt];if(z)var Zn=fe?z(gn,Ct,lt,se,Z,oe):z(Ct,gn,lt,Z,se,oe);if(Zn!==void 0){if(Zn)continue;ze=!1;break}if(wt){if(!Gt(se,function(qt,Gn){if(!cr(wt,Gn)&&(Ct===qt||te(Ct,qt,F,z,oe)))return wt.push(Gn)})){ze=!1;break}}else if(!(Ct===gn||te(Ct,gn,F,z,oe))){ze=!1;break}}return oe.delete(Z),oe.delete(se),ze}function us(Z,se,F,z,te,oe,fe){switch(F){case R:if(Z.byteLength!=se.byteLength||Z.byteOffset!=se.byteOffset)return!1;Z=Z.buffer,se=se.buffer;case _:return!(Z.byteLength!=se.byteLength||!oe(new sn(Z),new sn(se)));case c:case h:case g:return Ed(+Z,+se);case d:return Z.name==se.name&&Z.message==se.message;case S:case k:return Z==se+"";case m:var me=bn;case w:var _e=z&i;if(me||(me=_r),Z.size!=se.size&&!_e)return!1;var xe=fe.get(Z);if(xe)return xe==se;z|=s,fe.set(Z,se);var lt=So(me(Z),me(se),z,te,oe,fe);return fe.delete(Z),lt;case L:if(Ve)return Ve.call(Z)==Ve.call(se)}return!1}function Nl(Z,se,F,z,te,oe){var fe=F&i,me=Ad(Z),_e=me.length,xe=Ad(se),lt=xe.length;if(_e!=lt&&!fe)return!1;for(var ze=_e;ze--;){var wt=me[ze];if(!(fe?wt in se:De.call(se,wt)))return!1}var Ct=oe.get(Z);if(Ct&&oe.get(se))return Ct==se;var gn=!0;oe.set(Z,se),oe.set(se,Z);for(var Zn=fe;++ze<_e;){wt=me[ze];var qt=Z[wt],Gn=se[wt];if(z)var $d=fe?z(Gn,qt,wt,se,Z,oe):z(qt,Gn,wt,Z,se,oe);if(!($d===void 0?qt===Gn||te(qt,Gn,F,z,oe):$d)){gn=!1;break}Zn||(Zn=wt=="constructor")}if(gn&&!Zn){var Od=Z.constructor,_d=se.constructor;Od!=_d&&"constructor"in Z&&"constructor"in se&&!(typeof Od=="function"&&Od instanceof Od&&typeof _d=="function"&&_d instanceof _d)&&(gn=!1)}return oe.delete(Z),oe.delete(se),gn}function Ad(Z){return cs(Z,Xg,Cr)}function Rl(Z,se){var F=Z.__data__;return Vg(se)?F[typeof se=="string"?"string":"hash"]:F.map}function Co(Z,se){var F=Qt(Z,se);return Ta(F)?F:void 0}function Wg(Z){var se=De.call(Z,ke),F=Z[ke];try{Z[ke]=void 0;var z=!0}catch{}var te=pt.call(Z);return z&&(se?Z[ke]=F:delete Z[ke]),te}var Cr=Ee?function(Z){return Z==null?[]:(Z=Object(Z),Ue(Ee(Z),function(se){return Mt.call(Z,se)}))}:Ld,hs=Xr;(Oe&&hs(new Oe(new ArrayBuffer(1)))!=R||qe&&hs(new qe)!=m||et&&hs(et.resolve())!=C||It&&hs(new It)!=w||Et&&hs(new Et)!=N)&&(hs=function(Z){var se=Xr(Z),F=se==b?Z.constructor:void 0,z=F?bi(F):"";if(z)switch(z){case mt:return R;case ot:return m;case nt:return C;case at:return w;case Ft:return N}return se});function Ug(Z,se){return se=se??o,!!se&&(typeof Z=="number"||U.test(Z))&&Z>-1&&Z%1==0&&Z<se}function Vg(Z){var se=typeof Z;return se=="string"||se=="number"||se=="symbol"||se=="boolean"?Z!=="__proto__":Z===null}function Kg(Z){return!!ft&&ft in Z}function Gg(Z){var se=Z&&Z.constructor,F=typeof se=="function"&&se.prototype||le;return Z===F}function qg(Z){return pt.call(Z)}function bi(Z){if(Z!=null){try{return Me.call(Z)}catch{}try{return Z+""}catch{}}return""}function Ed(Z,se){return Z===se||Z!==Z&&se!==se}var Yg=Zr(function(){return arguments}())?Zr:function(Z){return Ra(Z)&&De.call(Z,"callee")&&!Mt.call(Z,"callee")},Ll=Array.isArray;function Qg(Z){return Z!=null&&Md(Z.length)&&!Td(Z)}var mu=$e||Zg;function Jg(Z,se){return wo(Z,se)}function Td(Z){if(!Nd(Z))return!1;var se=Xr(Z);return se==f||se==p||se==u||se==x}function Md(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=o}function Nd(Z){var se=typeof Z;return Z!=null&&(se=="object"||se=="function")}function Ra(Z){return Z!=null&&typeof Z=="object"}var Rd=He?Mn(He):Ma;function Xg(Z){return Qg(Z)?ls(Z):Na(Z)}function Ld(){return[]}function Zg(){return!1}t.exports=Jg})(Mm,Mm.exports);var P_=Mm.exports,Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.getAceInstance=Yi.debounce=Yi.editorEvents=Yi.editorOptions=void 0;var XK=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];Yi.editorOptions=XK;var ZK=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];Yi.editorEvents=ZK;var eG=function(){var t;return typeof window>"u"?($n.window={},t=Tm,delete $n.window):window.ace?(t=window.ace,t.acequire=window.ace.require||window.ace.acequire):t=Tm,t};Yi.getAceInstance=eG;var tG=function(t,e){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(r,i)},e)}};Yi.debounce=tG;var nG=$n&&$n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hb=$n&&$n.__assign||function(){return Hb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hb.apply(this,arguments)};Object.defineProperty(c1,"__esModule",{value:!0});var rG=Tm,Ye=u1,BA=j,_f=P_,Hl=Yi,zA=(0,Hl.getAceInstance)(),iG=function(t){nG(e,t);function e(n){var r=t.call(this,n)||this;return Hl.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=Hl.debounce,r}return e.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,s=r.onBeforeLoad,o=r.onValidate,a=r.mode,l=r.focus,u=r.theme,c=r.fontSize,h=r.lineHeight,d=r.value,f=r.defaultValue,p=r.showGutter,m=r.wrapEnabled,g=r.showPrintMargin,y=r.scrollMargin,b=y===void 0?[0,0,0,0]:y,C=r.keyboardHandler,x=r.onLoad,S=r.commands,w=r.annotations,k=r.markers,L=r.placeholder;this.editor=zA.edit(this.refEditor),s&&s(zA);for(var E=Object.keys(this.props.editorProps),N=0;N<E.length;N++)this.editor[E[N]]=this.props.editorProps[E[N]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(b[0],b[1],b[2],b[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof a=="string"?"ace/mode/".concat(a):a),u&&u!==""&&this.editor.setTheme("ace/theme/".concat(u)),this.editor.setFontSize(typeof c=="number"?"".concat(c,"px"):c),h&&(this.editor.container.style.lineHeight=typeof h=="number"?"".concat(h,"px"):"".concat(h),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(f||d||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(p),this.editor.getSession().setUseWrapMode(m),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),L&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),o&&this.editor.getSession().on("changeAnnotation",function(){var R=n.editor.getSession().getAnnotations();n.props.onValidate(R)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(w||[]),k&&k.length>0&&this.handleMarkers(k);var _=this.editor.$options;Hl.editorOptions.forEach(function(R){_.hasOwnProperty(R)?n.editor.setOption(R,n.props[R]):n.props[R]&&console.warn("ReactAce: editor option ".concat(R," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(S)&&S.forEach(function(R){typeof R.exec=="string"?n.editor.commands.bindKey(R.bindKey,R.exec):n.editor.commands.addCommand(R)}),C&&this.editor.setKeyboardHandler("ace/keyboard/"+C),i&&(this.refEditor.className+=" "+i),x&&x(this.editor),this.editor.resize(),l&&this.editor.focus()},e.prototype.componentDidUpdate=function(n){for(var r=n,i=this.props,s=0;s<Hl.editorOptions.length;s++){var o=Hl.editorOptions[s];i[o]!==r[o]&&this.editor.setOption(o,i[o])}if(i.className!==r.className){var a=this.refEditor.className,l=a.trim().split(" "),u=r.className.trim().split(" ");u.forEach(function(d){var f=l.indexOf(d);l.splice(f,1)}),this.refEditor.className=" "+i.className+" "+l.join(" ")}var c=this.editor&&i.value!=null&&this.editor.getValue()!==i.value;if(c){this.silent=!0;var h=this.editor.session.selection.toJSON();this.editor.setValue(i.value,i.cursorStart),this.editor.session.selection.fromJSON(h),this.silent=!1}i.placeholder!==r.placeholder&&this.updatePlaceholder(),i.mode!==r.mode&&this.editor.getSession().setMode(typeof i.mode=="string"?"ace/mode/".concat(i.mode):i.mode),i.theme!==r.theme&&this.editor.setTheme("ace/theme/"+i.theme),i.keyboardHandler!==r.keyboardHandler&&(i.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+i.keyboardHandler):this.editor.setKeyboardHandler(null)),i.fontSize!==r.fontSize&&this.editor.setFontSize(typeof i.fontSize=="number"?"".concat(i.fontSize,"px"):i.fontSize),i.lineHeight!==r.lineHeight&&(this.editor.container.style.lineHeight=typeof i.lineHeight=="number"?"".concat(i.lineHeight,"px"):i.lineHeight,this.editor.renderer.updateFontSize()),i.wrapEnabled!==r.wrapEnabled&&this.editor.getSession().setUseWrapMode(i.wrapEnabled),i.showPrintMargin!==r.showPrintMargin&&this.editor.setShowPrintMargin(i.showPrintMargin),i.showGutter!==r.showGutter&&this.editor.renderer.setShowGutter(i.showGutter),_f(i.setOptions,r.setOptions)||this.handleOptions(i),(c||!_f(i.annotations,r.annotations))&&this.editor.getSession().setAnnotations(i.annotations||[]),!_f(i.markers,r.markers)&&Array.isArray(i.markers)&&this.handleMarkers(i.markers),_f(i.scrollMargin,r.scrollMargin)||this.handleScrollMargins(i.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},e.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},e.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},e.prototype.onChange=function(n){if(this.editor&&this.props.onChange&&!this.silent){var r=this.editor.getValue();this.props.onChange(r,n)}},e.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=this.editor.getSelection();this.props.onSelectionChange(r,n)}},e.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=this.editor.getSelection();this.props.onCursorChange(r,n)}},e.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},e.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},e.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},e.prototype.onCopy=function(n){var r=n.text;this.props.onCopy&&this.props.onCopy(r)},e.prototype.onPaste=function(n){var r=n.text;this.props.onPaste&&this.props.onPaste(r)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(n){for(var r=Object.keys(n.setOptions),i=0;i<r.length;i++)this.editor.setOption(r[i],n.setOptions[r[i]])},e.prototype.handleMarkers=function(n){var r=this,i=this.editor.getSession().getMarkers(!0);for(var s in i)i.hasOwnProperty(s)&&this.editor.getSession().removeMarker(i[s].id);i=this.editor.getSession().getMarkers(!1);for(var s in i)i.hasOwnProperty(s)&&i[s].clazz!=="ace_active-line"&&i[s].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(i[s].id);n.forEach(function(o){var a=o.startRow,l=o.startCol,u=o.endRow,c=o.endCol,h=o.className,d=o.type,f=o.inFront,p=f===void 0?!1:f,m=new rG.Range(a,l,u,c);r.editor.getSession().addMarker(m,h,d,p)})},e.prototype.updatePlaceholder=function(){var n=this.editor,r=this.props.placeholder,i=!n.session.getValue().length,s=n.renderer.placeholderNode;!i&&s?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):i&&!s?(s=n.renderer.placeholderNode=document.createElement("div"),s.textContent=r||"",s.className="ace_comment ace_placeholder",s.style.padding="0 9px",s.style.position="absolute",s.style.zIndex="3",n.renderer.scroller.appendChild(s)):i&&s&&(s.textContent=r)},e.prototype.updateRef=function(n){this.refEditor=n},e.prototype.render=function(){var n=this.props,r=n.name,i=n.width,s=n.height,o=n.style,a=Hb({width:i,height:s},o);return BA.createElement("div",{ref:this.updateRef,id:r,style:a})},e.propTypes={mode:Ye.oneOfType([Ye.string,Ye.object]),focus:Ye.bool,theme:Ye.string,name:Ye.string,className:Ye.string,height:Ye.string,width:Ye.string,fontSize:Ye.oneOfType([Ye.number,Ye.string]),lineHeight:Ye.oneOfType([Ye.number,Ye.string]),showGutter:Ye.bool,onChange:Ye.func,onCopy:Ye.func,onPaste:Ye.func,onFocus:Ye.func,onInput:Ye.func,onBlur:Ye.func,onScroll:Ye.func,value:Ye.string,defaultValue:Ye.string,onLoad:Ye.func,onSelectionChange:Ye.func,onCursorChange:Ye.func,onBeforeLoad:Ye.func,onValidate:Ye.func,minLines:Ye.number,maxLines:Ye.number,readOnly:Ye.bool,highlightActiveLine:Ye.bool,tabSize:Ye.number,showPrintMargin:Ye.bool,cursorStart:Ye.number,debounceChangePeriod:Ye.number,editorProps:Ye.object,setOptions:Ye.object,style:Ye.object,scrollMargin:Ye.array,annotations:Ye.array,markers:Ye.array,keyboardHandler:Ye.string,wrapEnabled:Ye.bool,enableSnippets:Ye.bool,enableBasicAutocompletion:Ye.oneOfType([Ye.bool,Ye.array]),enableLiveAutocompletion:Ye.oneOfType([Ye.bool,Ye.array]),navigateToFileEnd:Ye.bool,commands:Ye.array,placeholder:Ye.string},e.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},e}(BA.Component);c1.default=iG;var h1={},Pg={},I_={exports:{}};(function(t,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,r,i){var s=n("./lib/oop");n("./lib/lang");var o=n("./lib/event_emitter").EventEmitter,a=n("./editor").Editor,l=n("./virtual_renderer").VirtualRenderer,u=n("./edit_session").EditSession,c;c=function(h,d,f){this.BELOW=1,this.BESIDE=0,this.$container=h,this.$theme=d,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(f||1),this.$cEditor=this.$editors[0],this.on("focus",(function(p){this.$cEditor=p}).bind(this))},(function(){s.implement(this,o),this.$createEditor=function(){var h=document.createElement("div");h.className=this.$editorCSS,h.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(h);var d=new a(new l(h,this.$theme));return d.on("focus",(function(){this._emit("focus",d)}).bind(this)),this.$editors.push(d),d.setFontSize(this.$fontSize),d},this.setSplits=function(h){var d;if(h<1)throw"The number of splits have to be > 0!";if(h!=this.$splits){if(h>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<h;)d=this.$editors[this.$splits],this.$container.appendChild(d.container),d.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<h;)this.$createEditor(),this.$splits++}else for(;this.$splits>h;)d=this.$editors[this.$splits-1],this.$container.removeChild(d.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(h){return this.$editors[h]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(h){this.$editors.forEach(function(d){d.setTheme(h)})},this.setKeyboardHandler=function(h){this.$editors.forEach(function(d){d.setKeyboardHandler(h)})},this.forEach=function(h,d){this.$editors.forEach(h,d)},this.$fontSize="",this.setFontSize=function(h){this.$fontSize=h,this.forEach(function(d){d.setFontSize(h)})},this.$cloneSession=function(h){var d=new u(h.getDocument(),h.getMode()),f=h.getUndoManager();return d.setUndoManager(f),d.setTabSize(h.getTabSize()),d.setUseSoftTabs(h.getUseSoftTabs()),d.setOverwrite(h.getOverwrite()),d.setBreakpoints(h.getBreakpoints()),d.setUseWrapMode(h.getUseWrapMode()),d.setUseWorker(h.getUseWorker()),d.setWrapLimitRange(h.$wrapLimitRange.min,h.$wrapLimitRange.max),d.$foldData=h.$cloneFoldData(),d},this.setSession=function(h,d){var f;d==null?f=this.$cEditor:f=this.$editors[d];var p=this.$editors.some(function(m){return m.session===h});return p&&(h=this.$cloneSession(h)),f.setSession(h),h},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(h){this.$orientation!=h&&(this.$orientation=h,this.resize())},this.resize=function(){var h=this.$container.clientWidth,d=this.$container.clientHeight,f;if(this.$orientation==this.BESIDE)for(var p=h/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=p+"px",f.container.style.top="0px",f.container.style.left=m*p+"px",f.container.style.height=d+"px",f.resize();else for(var g=d/this.$splits,m=0;m<this.$splits;m++)f=this.$editors[m],f.container.style.width=h+"px",f.container.style.top=m*g+"px",f.container.style.left="0px",f.container.style.height=g+"px",f.resize()}}).call(c.prototype),r.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(n,r,i){i.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){t&&(t.exports=n)})}()})(I_);var sG=I_.exports,oG="Expected a function",F_="__lodash_hash_undefined__",aG="[object Function]",lG="[object GeneratorFunction]",cG="[object Symbol]",uG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hG=/^\w*$/,dG=/^\./,fG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pG=/[\\^$.*+?()[\]{}|]/g,mG=/\\(\\)?/g,gG=/^\[object .+?Constructor\]$/,vG=typeof $n=="object"&&$n&&$n.Object===Object&&$n,yG=typeof self=="object"&&self&&self.Object===Object&&self,d1=vG||yG||Function("return this")();function bG(t,e){return t==null?void 0:t[e]}function xG(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var wG=Array.prototype,SG=Function.prototype,B_=Object.prototype,C0=d1["__core-js_shared__"],HA=function(){var t=/[^.]+$/.exec(C0&&C0.keys&&C0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),z_=SG.toString,f1=B_.hasOwnProperty,H_=B_.toString,CG=RegExp("^"+z_.call(f1).replace(pG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),WA=d1.Symbol,kG=wG.splice,AG=W_(d1,"Map"),Jh=W_(Object,"create"),UA=WA?WA.prototype:void 0,VA=UA?UA.toString:void 0;function wl(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function EG(){this.__data__=Jh?Jh(null):{}}function TG(t){return this.has(t)&&delete this.__data__[t]}function MG(t){var e=this.__data__;if(Jh){var n=e[t];return n===F_?void 0:n}return f1.call(e,t)?e[t]:void 0}function NG(t){var e=this.__data__;return Jh?e[t]!==void 0:f1.call(e,t)}function RG(t,e){var n=this.__data__;return n[t]=Jh&&e===void 0?F_:e,this}wl.prototype.clear=EG;wl.prototype.delete=TG;wl.prototype.get=MG;wl.prototype.has=NG;wl.prototype.set=RG;function fu(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function LG(){this.__data__=[]}function $G(t){var e=this.__data__,n=Ig(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():kG.call(e,n,1),!0}function OG(t){var e=this.__data__,n=Ig(e,t);return n<0?void 0:e[n][1]}function _G(t){return Ig(this.__data__,t)>-1}function jG(t,e){var n=this.__data__,r=Ig(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}fu.prototype.clear=LG;fu.prototype.delete=$G;fu.prototype.get=OG;fu.prototype.has=_G;fu.prototype.set=jG;function Tl(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function DG(){this.__data__={hash:new wl,map:new(AG||fu),string:new wl}}function PG(t){return Fg(this,t).delete(t)}function IG(t){return Fg(this,t).get(t)}function FG(t){return Fg(this,t).has(t)}function BG(t,e){return Fg(this,t).set(t,e),this}Tl.prototype.clear=DG;Tl.prototype.delete=PG;Tl.prototype.get=IG;Tl.prototype.has=FG;Tl.prototype.set=BG;function Ig(t,e){for(var n=t.length;n--;)if(JG(t[n][0],e))return n;return-1}function zG(t,e){e=VG(e,t)?[e]:UG(e);for(var n=0,r=e.length;t!=null&&n<r;)t=t[YG(e[n++])];return n&&n==r?t:void 0}function HG(t){if(!V_(t)||GG(t))return!1;var e=XG(t)||xG(t)?CG:gG;return e.test(QG(t))}function WG(t){if(typeof t=="string")return t;if(m1(t))return VA?VA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function UG(t){return U_(t)?t:qG(t)}function Fg(t,e){var n=t.__data__;return KG(e)?n[typeof e=="string"?"string":"hash"]:n.map}function W_(t,e){var n=bG(t,e);return HG(n)?n:void 0}function VG(t,e){if(U_(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||m1(t)?!0:hG.test(t)||!uG.test(t)||e!=null&&t in Object(e)}function KG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function GG(t){return!!HA&&HA in t}var qG=p1(function(t){t=eq(t);var e=[];return dG.test(t)&&e.push(""),t.replace(fG,function(n,r,i,s){e.push(i?s.replace(mG,"$1"):r||n)}),e});function YG(t){if(typeof t=="string"||m1(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function QG(t){if(t!=null){try{return z_.call(t)}catch{}try{return t+""}catch{}}return""}function p1(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(oG);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(p1.Cache||Tl),n}p1.Cache=Tl;function JG(t,e){return t===e||t!==t&&e!==e}var U_=Array.isArray;function XG(t){var e=V_(t)?H_.call(t):"";return e==aG||e==lG}function V_(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ZG(t){return!!t&&typeof t=="object"}function m1(t){return typeof t=="symbol"||ZG(t)&&H_.call(t)==cG}function eq(t){return t==null?"":WG(t)}function tq(t,e,n){var r=t==null?void 0:zG(t,e);return r===void 0?n:r}var nq=tq,rq=$n&&$n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wb=$n&&$n.__assign||function(){return Wb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wb.apply(this,arguments)};Object.defineProperty(Pg,"__esModule",{value:!0});var Da=Yi,k0=(0,Da.getAceInstance)(),iq=Tm,sq=sG,rt=u1,KA=j,A0=P_,Gs=nq,oq=function(t){rq(e,t);function e(n){var r=t.call(this,n)||this;return Da.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=Da.debounce,r}return e.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,s=r.onBeforeLoad,o=r.mode,a=r.focus,l=r.theme,u=r.fontSize,c=r.value,h=r.defaultValue,d=r.cursorStart,f=r.showGutter,p=r.wrapEnabled,m=r.showPrintMargin,g=r.scrollMargin,y=g===void 0?[0,0,0,0]:g,b=r.keyboardHandler,C=r.onLoad,x=r.commands,S=r.annotations,w=r.markers,k=r.splits;this.editor=k0.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(l)),s&&s(k0);var L=Object.keys(this.props.editorProps),E=new sq.Split(this.editor.container,"ace/theme/".concat(l),k);this.editor.env.split=E,this.splitEditor=E.getEditor(0),this.split=E,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var N=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),E.forEach(function(R,M){for(var T=0;T<L.length;T++)R[L[T]]=n.props.editorProps[L[T]];var A=Gs(h,M),$=Gs(c,M,"");R.session.setUndoManager(new k0.UndoManager),R.setTheme("ace/theme/".concat(l)),R.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),R.getSession().setMode("ace/mode/".concat(o)),R.setFontSize(u),R.renderer.setShowGutter(f),R.getSession().setUseWrapMode(p),R.setShowPrintMargin(m),R.on("focus",n.onFocus),R.on("blur",n.onBlur),R.on("input",n.onInput),R.on("copy",n.onCopy),R.on("paste",n.onPaste),R.on("change",n.onChange),R.getSession().selection.on("changeSelection",n.onSelectionChange),R.getSession().selection.on("changeCursor",n.onCursorChange),R.session.on("changeScrollTop",n.onScroll),R.setValue(A===void 0?$:A,d);var D=Gs(S,M,[]),O=Gs(w,M,[]);R.getSession().setAnnotations(D),O&&O.length>0&&n.handleMarkers(O,R);for(var T=0;T<Da.editorOptions.length;T++){var P=Da.editorOptions[T];N.hasOwnProperty(P)?R.setOption(P,n.props[P]):n.props[P]&&console.warn("ReaceAce: editor option ".concat(P," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,R),Array.isArray(x)&&x.forEach(function(I){typeof I.exec=="string"?R.commands.bindKey(I.bindKey,I.exec):R.commands.addCommand(I)}),b&&R.setKeyboardHandler("ace/keyboard/"+b)}),i&&(this.refEditor.className+=" "+i),a&&this.splitEditor.focus();var _=this.editor.env.split;_.setOrientation(this.props.orientation==="below"?_.BELOW:_.BESIDE),_.resize(!0),C&&C(_)},e.prototype.componentDidUpdate=function(n){var r=this,i=n,s=this.props,o=this.editor.env.split;if(s.splits!==i.splits&&o.setSplits(s.splits),s.orientation!==i.orientation&&o.setOrientation(s.orientation==="below"?o.BELOW:o.BESIDE),o.forEach(function(c,h){s.mode!==i.mode&&c.getSession().setMode("ace/mode/"+s.mode),s.keyboardHandler!==i.keyboardHandler&&(s.keyboardHandler?c.setKeyboardHandler("ace/keyboard/"+s.keyboardHandler):c.setKeyboardHandler(null)),s.fontSize!==i.fontSize&&c.setFontSize(s.fontSize),s.wrapEnabled!==i.wrapEnabled&&c.getSession().setUseWrapMode(s.wrapEnabled),s.showPrintMargin!==i.showPrintMargin&&c.setShowPrintMargin(s.showPrintMargin),s.showGutter!==i.showGutter&&c.renderer.setShowGutter(s.showGutter);for(var d=0;d<Da.editorOptions.length;d++){var f=Da.editorOptions[d];s[f]!==i[f]&&c.setOption(f,s[f])}A0(s.setOptions,i.setOptions)||r.handleOptions(s,c);var p=Gs(s.value,h,"");if(c.getValue()!==p){r.silent=!0;var m=c.session.selection.toJSON();c.setValue(p,s.cursorStart),c.session.selection.fromJSON(m),r.silent=!1}var g=Gs(s.annotations,h,[]),y=Gs(i.annotations,h,[]);A0(g,y)||c.getSession().setAnnotations(g);var b=Gs(s.markers,h,[]),C=Gs(i.markers,h,[]);!A0(b,C)&&Array.isArray(b)&&r.handleMarkers(b,c)}),s.className!==i.className){var a=this.refEditor.className,l=a.trim().split(" "),u=i.className.trim().split(" ");u.forEach(function(c){var h=l.indexOf(c);l.splice(h,1)}),this.refEditor.className=" "+s.className+" "+l.join(" ")}s.theme!==i.theme&&o.setTheme("ace/theme/"+s.theme),s.focus&&!i.focus&&this.splitEditor.focus(),(s.height!==this.props.height||s.width!==this.props.width)&&this.editor.resize()},e.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},e.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getValue())}),this.props.onChange(r,n)}},e.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onSelectionChange(r,n)}},e.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onCursorChange(r,n)}},e.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},e.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},e.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},e.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},e.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},e.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},e.prototype.handleOptions=function(n,r){for(var i=Object.keys(n.setOptions),s=0;s<i.length;s++)r.setOption(i[s],n.setOptions[i[s]])},e.prototype.handleMarkers=function(n,r){var i=r.getSession().getMarkers(!0);for(var s in i)i.hasOwnProperty(s)&&r.getSession().removeMarker(i[s].id);i=r.getSession().getMarkers(!1);for(var s in i)i.hasOwnProperty(s)&&r.getSession().removeMarker(i[s].id);n.forEach(function(o){var a=o.startRow,l=o.startCol,u=o.endRow,c=o.endCol,h=o.className,d=o.type,f=o.inFront,p=f===void 0?!1:f,m=new iq.Range(a,l,u,c);r.getSession().addMarker(m,h,d,p)})},e.prototype.updateRef=function(n){this.refEditor=n},e.prototype.render=function(){var n=this.props,r=n.name,i=n.width,s=n.height,o=n.style,a=Wb({width:i,height:s},o);return KA.createElement("div",{ref:this.updateRef,id:r,style:a})},e.propTypes={className:rt.string,debounceChangePeriod:rt.number,defaultValue:rt.arrayOf(rt.string),focus:rt.bool,fontSize:rt.oneOfType([rt.number,rt.string]),height:rt.string,mode:rt.string,name:rt.string,onBlur:rt.func,onChange:rt.func,onCopy:rt.func,onFocus:rt.func,onInput:rt.func,onLoad:rt.func,onPaste:rt.func,onScroll:rt.func,orientation:rt.string,showGutter:rt.bool,splits:rt.number,theme:rt.string,value:rt.arrayOf(rt.string),width:rt.string,onSelectionChange:rt.func,onCursorChange:rt.func,onBeforeLoad:rt.func,minLines:rt.number,maxLines:rt.number,readOnly:rt.bool,highlightActiveLine:rt.bool,tabSize:rt.number,showPrintMargin:rt.bool,cursorStart:rt.number,editorProps:rt.object,setOptions:rt.object,style:rt.object,scrollMargin:rt.array,annotations:rt.array,markers:rt.array,keyboardHandler:rt.string,wrapEnabled:rt.bool,enableBasicAutocompletion:rt.oneOfType([rt.bool,rt.array]),enableLiveAutocompletion:rt.oneOfType([rt.bool,rt.array]),commands:rt.array},e.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},e}(KA.Component);Pg.default=oq;var K_={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;e.Diff=function(s,o){return[s,o]},e.prototype.diff_main=function(s,o,a,l){typeof l>"u"&&(this.Diff_Timeout<=0?l=Number.MAX_VALUE:l=new Date().getTime()+this.Diff_Timeout*1e3);var u=l;if(s==null||o==null)throw new Error("Null input. (diff_main)");if(s==o)return s?[new e.Diff(i,s)]:[];typeof a>"u"&&(a=!0);var c=a,h=this.diff_commonPrefix(s,o),d=s.substring(0,h);s=s.substring(h),o=o.substring(h),h=this.diff_commonSuffix(s,o);var f=s.substring(s.length-h);s=s.substring(0,s.length-h),o=o.substring(0,o.length-h);var p=this.diff_compute_(s,o,c,u);return d&&p.unshift(new e.Diff(i,d)),f&&p.push(new e.Diff(i,f)),this.diff_cleanupMerge(p),p},e.prototype.diff_compute_=function(s,o,a,l){var u;if(!s)return[new e.Diff(r,o)];if(!o)return[new e.Diff(n,s)];var c=s.length>o.length?s:o,h=s.length>o.length?o:s,d=c.indexOf(h);if(d!=-1)return u=[new e.Diff(r,c.substring(0,d)),new e.Diff(i,h),new e.Diff(r,c.substring(d+h.length))],s.length>o.length&&(u[0][0]=u[2][0]=n),u;if(h.length==1)return[new e.Diff(n,s),new e.Diff(r,o)];var f=this.diff_halfMatch_(s,o);if(f){var p=f[0],m=f[1],g=f[2],y=f[3],b=f[4],C=this.diff_main(p,g,a,l),x=this.diff_main(m,y,a,l);return C.concat([new e.Diff(i,b)],x)}return a&&s.length>100&&o.length>100?this.diff_lineMode_(s,o,l):this.diff_bisect_(s,o,l)},e.prototype.diff_lineMode_=function(s,o,a){var l=this.diff_linesToChars_(s,o);s=l.chars1,o=l.chars2;var u=l.lineArray,c=this.diff_main(s,o,!1,a);this.diff_charsToLines_(c,u),this.diff_cleanupSemantic(c),c.push(new e.Diff(i,""));for(var h=0,d=0,f=0,p="",m="";h<c.length;){switch(c[h][0]){case r:f++,m+=c[h][1];break;case n:d++,p+=c[h][1];break;case i:if(d>=1&&f>=1){c.splice(h-d-f,d+f),h=h-d-f;for(var g=this.diff_main(p,m,!1,a),y=g.length-1;y>=0;y--)c.splice(h,0,g[y]);h=h+g.length}f=0,d=0,p="",m="";break}h++}return c.pop(),c},e.prototype.diff_bisect_=function(s,o,a){for(var l=s.length,u=o.length,c=Math.ceil((l+u)/2),h=c,d=2*c,f=new Array(d),p=new Array(d),m=0;m<d;m++)f[m]=-1,p[m]=-1;f[h+1]=0,p[h+1]=0;for(var g=l-u,y=g%2!=0,b=0,C=0,x=0,S=0,w=0;w<c&&!(new Date().getTime()>a);w++){for(var k=-w+b;k<=w-C;k+=2){var L=h+k,E;k==-w||k!=w&&f[L-1]<f[L+1]?E=f[L+1]:E=f[L-1]+1;for(var N=E-k;E<l&&N<u&&s.charAt(E)==o.charAt(N);)E++,N++;if(f[L]=E,E>l)C+=2;else if(N>u)b+=2;else if(y){var _=h+g-k;if(_>=0&&_<d&&p[_]!=-1){var R=l-p[_];if(E>=R)return this.diff_bisectSplit_(s,o,E,N,a)}}}for(var M=-w+x;M<=w-S;M+=2){var _=h+M,R;M==-w||M!=w&&p[_-1]<p[_+1]?R=p[_+1]:R=p[_-1]+1;for(var T=R-M;R<l&&T<u&&s.charAt(l-R-1)==o.charAt(u-T-1);)R++,T++;if(p[_]=R,R>l)S+=2;else if(T>u)x+=2;else if(!y){var L=h+g-M;if(L>=0&&L<d&&f[L]!=-1){var E=f[L],N=h+E-L;if(R=l-R,E>=R)return this.diff_bisectSplit_(s,o,E,N,a)}}}}return[new e.Diff(n,s),new e.Diff(r,o)]},e.prototype.diff_bisectSplit_=function(s,o,a,l,u){var c=s.substring(0,a),h=o.substring(0,l),d=s.substring(a),f=o.substring(l),p=this.diff_main(c,h,!1,u),m=this.diff_main(d,f,!1,u);return p.concat(m)},e.prototype.diff_linesToChars_=function(s,o){var a=[],l={};a[0]="";function u(f){for(var p="",m=0,g=-1,y=a.length;g<f.length-1;){g=f.indexOf(`
`,m),g==-1&&(g=f.length-1);var b=f.substring(m,g+1);(l.hasOwnProperty?l.hasOwnProperty(b):l[b]!==void 0)?p+=String.fromCharCode(l[b]):(y==c&&(b=f.substring(m),g=f.length),p+=String.fromCharCode(y),l[b]=y,a[y++]=b),m=g+1}return p}var c=4e4,h=u(s);c=65535;var d=u(o);return{chars1:h,chars2:d,lineArray:a}},e.prototype.diff_charsToLines_=function(s,o){for(var a=0;a<s.length;a++){for(var l=s[a][1],u=[],c=0;c<l.length;c++)u[c]=o[l.charCodeAt(c)];s[a][1]=u.join("")}},e.prototype.diff_commonPrefix=function(s,o){if(!s||!o||s.charAt(0)!=o.charAt(0))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,c=0;a<u;)s.substring(c,u)==o.substring(c,u)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},e.prototype.diff_commonSuffix=function(s,o){if(!s||!o||s.charAt(s.length-1)!=o.charAt(o.length-1))return 0;for(var a=0,l=Math.min(s.length,o.length),u=l,c=0;a<u;)s.substring(s.length-u,s.length-c)==o.substring(o.length-u,o.length-c)?(a=u,c=a):l=u,u=Math.floor((l-a)/2+a);return u},e.prototype.diff_commonOverlap_=function(s,o){var a=s.length,l=o.length;if(a==0||l==0)return 0;a>l?s=s.substring(a-l):a<l&&(o=o.substring(0,a));var u=Math.min(a,l);if(s==o)return u;for(var c=0,h=1;;){var d=s.substring(u-h),f=o.indexOf(d);if(f==-1)return c;h+=f,(f==0||s.substring(u-h)==o.substring(0,h))&&(c=h,h++)}},e.prototype.diff_halfMatch_=function(s,o){if(this.Diff_Timeout<=0)return null;var a=s.length>o.length?s:o,l=s.length>o.length?o:s;if(a.length<4||l.length*2<a.length)return null;var u=this;function c(C,x,S){for(var w=C.substring(S,S+Math.floor(C.length/4)),k=-1,L="",E,N,_,R;(k=x.indexOf(w,k+1))!=-1;){var M=u.diff_commonPrefix(C.substring(S),x.substring(k)),T=u.diff_commonSuffix(C.substring(0,S),x.substring(0,k));L.length<T+M&&(L=x.substring(k-T,k)+x.substring(k,k+M),E=C.substring(0,S-T),N=C.substring(S+M),_=x.substring(0,k-T),R=x.substring(k+M))}return L.length*2>=C.length?[E,N,_,R,L]:null}var h=c(a,l,Math.ceil(a.length/4)),d=c(a,l,Math.ceil(a.length/2)),f;if(!h&&!d)return null;d?h?f=h[4].length>d[4].length?h:d:f=d:f=h;var p,m,g,y;s.length>o.length?(p=f[0],m=f[1],g=f[2],y=f[3]):(g=f[0],y=f[1],p=f[2],m=f[3]);var b=f[4];return[p,m,g,y,b]},e.prototype.diff_cleanupSemantic=function(s){for(var o=!1,a=[],l=0,u=null,c=0,h=0,d=0,f=0,p=0;c<s.length;)s[c][0]==i?(a[l++]=c,h=f,d=p,f=0,p=0,u=s[c][1]):(s[c][0]==r?f+=s[c][1].length:p+=s[c][1].length,u&&u.length<=Math.max(h,d)&&u.length<=Math.max(f,p)&&(s.splice(a[l-1],0,new e.Diff(n,u)),s[a[l-1]+1][0]=r,l--,l--,c=l>0?a[l-1]:-1,h=0,d=0,f=0,p=0,u=null,o=!0)),c++;for(o&&this.diff_cleanupMerge(s),this.diff_cleanupSemanticLossless(s),c=1;c<s.length;){if(s[c-1][0]==n&&s[c][0]==r){var m=s[c-1][1],g=s[c][1],y=this.diff_commonOverlap_(m,g),b=this.diff_commonOverlap_(g,m);y>=b?(y>=m.length/2||y>=g.length/2)&&(s.splice(c,0,new e.Diff(i,g.substring(0,y))),s[c-1][1]=m.substring(0,m.length-y),s[c+1][1]=g.substring(y),c++):(b>=m.length/2||b>=g.length/2)&&(s.splice(c,0,new e.Diff(i,m.substring(0,b))),s[c-1][0]=r,s[c-1][1]=g.substring(0,g.length-b),s[c+1][0]=n,s[c+1][1]=m.substring(b),c++),c++}c++}},e.prototype.diff_cleanupSemanticLossless=function(s){function o(b,C){if(!b||!C)return 6;var x=b.charAt(b.length-1),S=C.charAt(0),w=x.match(e.nonAlphaNumericRegex_),k=S.match(e.nonAlphaNumericRegex_),L=w&&x.match(e.whitespaceRegex_),E=k&&S.match(e.whitespaceRegex_),N=L&&x.match(e.linebreakRegex_),_=E&&S.match(e.linebreakRegex_),R=N&&b.match(e.blanklineEndRegex_),M=_&&C.match(e.blanklineStartRegex_);return R||M?5:N||_?4:w&&!L&&E?3:L||E?2:w||k?1:0}for(var a=1;a<s.length-1;){if(s[a-1][0]==i&&s[a+1][0]==i){var l=s[a-1][1],u=s[a][1],c=s[a+1][1],h=this.diff_commonSuffix(l,u);if(h){var d=u.substring(u.length-h);l=l.substring(0,l.length-h),u=d+u.substring(0,u.length-h),c=d+c}for(var f=l,p=u,m=c,g=o(l,u)+o(u,c);u.charAt(0)===c.charAt(0);){l+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var y=o(l,u)+o(u,c);y>=g&&(g=y,f=l,p=u,m=c)}s[a-1][1]!=f&&(f?s[a-1][1]=f:(s.splice(a-1,1),a--),s[a][1]=p,m?s[a+1][1]=m:(s.splice(a+1,1),a--))}a++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(s){for(var o=!1,a=[],l=0,u=null,c=0,h=!1,d=!1,f=!1,p=!1;c<s.length;)s[c][0]==i?(s[c][1].length<this.Diff_EditCost&&(f||p)?(a[l++]=c,h=f,d=p,u=s[c][1]):(l=0,u=null),f=p=!1):(s[c][0]==n?p=!0:f=!0,u&&(h&&d&&f&&p||u.length<this.Diff_EditCost/2&&h+d+f+p==3)&&(s.splice(a[l-1],0,new e.Diff(n,u)),s[a[l-1]+1][0]=r,l--,u=null,h&&d?(f=p=!0,l=0):(l--,c=l>0?a[l-1]:-1,f=p=!1),o=!0)),c++;o&&this.diff_cleanupMerge(s)},e.prototype.diff_cleanupMerge=function(s){s.push(new e.Diff(i,""));for(var o=0,a=0,l=0,u="",c="",h;o<s.length;)switch(s[o][0]){case r:l++,c+=s[o][1],o++;break;case n:a++,u+=s[o][1],o++;break;case i:a+l>1?(a!==0&&l!==0&&(h=this.diff_commonPrefix(c,u),h!==0&&(o-a-l>0&&s[o-a-l-1][0]==i?s[o-a-l-1][1]+=c.substring(0,h):(s.splice(0,0,new e.Diff(i,c.substring(0,h))),o++),c=c.substring(h),u=u.substring(h)),h=this.diff_commonSuffix(c,u),h!==0&&(s[o][1]=c.substring(c.length-h)+s[o][1],c=c.substring(0,c.length-h),u=u.substring(0,u.length-h))),o-=a+l,s.splice(o,a+l),u.length&&(s.splice(o,0,new e.Diff(n,u)),o++),c.length&&(s.splice(o,0,new e.Diff(r,c)),o++),o++):o!==0&&s[o-1][0]==i?(s[o-1][1]+=s[o][1],s.splice(o,1)):o++,l=0,a=0,u="",c="";break}s[s.length-1][1]===""&&s.pop();var d=!1;for(o=1;o<s.length-1;)s[o-1][0]==i&&s[o+1][0]==i&&(s[o][1].substring(s[o][1].length-s[o-1][1].length)==s[o-1][1]?(s[o][1]=s[o-1][1]+s[o][1].substring(0,s[o][1].length-s[o-1][1].length),s[o+1][1]=s[o-1][1]+s[o+1][1],s.splice(o-1,1),d=!0):s[o][1].substring(0,s[o+1][1].length)==s[o+1][1]&&(s[o-1][1]+=s[o+1][1],s[o][1]=s[o][1].substring(s[o+1][1].length)+s[o+1][1],s.splice(o+1,1),d=!0)),o++;d&&this.diff_cleanupMerge(s)},e.prototype.diff_xIndex=function(s,o){var a=0,l=0,u=0,c=0,h;for(h=0;h<s.length&&(s[h][0]!==r&&(a+=s[h][1].length),s[h][0]!==n&&(l+=s[h][1].length),!(a>o));h++)u=a,c=l;return s.length!=h&&s[h][0]===n?c:c+(o-u)},e.prototype.diff_prettyHtml=function(s){for(var o=[],a=/&/g,l=/</g,u=/>/g,c=/\n/g,h=0;h<s.length;h++){var d=s[h][0],f=s[h][1],p=f.replace(a,"&amp;").replace(l,"&lt;").replace(u,"&gt;").replace(c,"&para;<br>");switch(d){case r:o[h]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case n:o[h]='<del style="background:#ffe6e6;">'+p+"</del>";break;case i:o[h]="<span>"+p+"</span>";break}}return o.join("")},e.prototype.diff_text1=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==r&&(o[a]=s[a][1]);return o.join("")},e.prototype.diff_text2=function(s){for(var o=[],a=0;a<s.length;a++)s[a][0]!==n&&(o[a]=s[a][1]);return o.join("")},e.prototype.diff_levenshtein=function(s){for(var o=0,a=0,l=0,u=0;u<s.length;u++){var c=s[u][0],h=s[u][1];switch(c){case r:a+=h.length;break;case n:l+=h.length;break;case i:o+=Math.max(a,l),a=0,l=0;break}}return o+=Math.max(a,l),o},e.prototype.diff_toDelta=function(s){for(var o=[],a=0;a<s.length;a++)switch(s[a][0]){case r:o[a]="+"+encodeURI(s[a][1]);break;case n:o[a]="-"+s[a][1].length;break;case i:o[a]="="+s[a][1].length;break}return o.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(s,o){for(var a=[],l=0,u=0,c=o.split(/\t/g),h=0;h<c.length;h++){var d=c[h].substring(1);switch(c[h].charAt(0)){case"+":try{a[l++]=new e.Diff(r,decodeURI(d))}catch{throw new Error("Illegal escape in diff_fromDelta: "+d)}break;case"-":case"=":var f=parseInt(d,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+d);var p=s.substring(u,u+=f);c[h].charAt(0)=="="?a[l++]=new e.Diff(i,p):a[l++]=new e.Diff(n,p);break;default:if(c[h])throw new Error("Invalid diff operation in diff_fromDelta: "+c[h])}}if(u!=s.length)throw new Error("Delta length ("+u+") does not equal source text length ("+s.length+").");return a},e.prototype.match_main=function(s,o,a){if(s==null||o==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,s.length)),s==o?0:s.length?s.substring(a,a+o.length)==o?a:this.match_bitap_(s,o,a):-1},e.prototype.match_bitap_=function(s,o,a){if(o.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var l=this.match_alphabet_(o),u=this;function c(E,N){var _=E/o.length,R=Math.abs(a-N);return u.Match_Distance?_+R/u.Match_Distance:R?1:_}var h=this.Match_Threshold,d=s.indexOf(o,a);d!=-1&&(h=Math.min(c(0,d),h),d=s.lastIndexOf(o,a+o.length),d!=-1&&(h=Math.min(c(0,d),h)));var f=1<<o.length-1;d=-1;for(var p,m,g=o.length+s.length,y,b=0;b<o.length;b++){for(p=0,m=g;p<m;)c(b,a+m)<=h?p=m:g=m,m=Math.floor((g-p)/2+p);g=m;var C=Math.max(1,a-m+1),x=Math.min(a+m,s.length)+o.length,S=Array(x+2);S[x+1]=(1<<b)-1;for(var w=x;w>=C;w--){var k=l[s.charAt(w-1)];if(b===0?S[w]=(S[w+1]<<1|1)&k:S[w]=(S[w+1]<<1|1)&k|((y[w+1]|y[w])<<1|1)|y[w+1],S[w]&f){var L=c(b,w-1);if(L<=h)if(h=L,d=w-1,d>a)C=Math.max(1,2*a-d);else break}}if(c(b+1,a)>h)break;y=S}return d},e.prototype.match_alphabet_=function(s){for(var o={},a=0;a<s.length;a++)o[s.charAt(a)]=0;for(var a=0;a<s.length;a++)o[s.charAt(a)]|=1<<s.length-a-1;return o},e.prototype.patch_addContext_=function(s,o){if(o.length!=0){if(s.start2===null)throw Error("patch not initialized");for(var a=o.substring(s.start2,s.start2+s.length1),l=0;o.indexOf(a)!=o.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,a=o.substring(s.start2-l,s.start2+s.length1+l);l+=this.Patch_Margin;var u=o.substring(s.start2-l,s.start2);u&&s.diffs.unshift(new e.Diff(i,u));var c=o.substring(s.start2+s.length1,s.start2+s.length1+l);c&&s.diffs.push(new e.Diff(i,c)),s.start1-=u.length,s.start2-=u.length,s.length1+=u.length+c.length,s.length2+=u.length+c.length}},e.prototype.patch_make=function(s,o,a){var l,u;if(typeof s=="string"&&typeof o=="string"&&typeof a>"u")l=s,u=this.diff_main(l,o,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(s&&typeof s=="object"&&typeof o>"u"&&typeof a>"u")u=s,l=this.diff_text1(u);else if(typeof s=="string"&&o&&typeof o=="object"&&typeof a>"u")l=s,u=o;else if(typeof s=="string"&&typeof o=="string"&&a&&typeof a=="object")l=s,u=a;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var c=[],h=new e.patch_obj,d=0,f=0,p=0,m=l,g=l,y=0;y<u.length;y++){var b=u[y][0],C=u[y][1];switch(!d&&b!==i&&(h.start1=f,h.start2=p),b){case r:h.diffs[d++]=u[y],h.length2+=C.length,g=g.substring(0,p)+C+g.substring(p);break;case n:h.length1+=C.length,h.diffs[d++]=u[y],g=g.substring(0,p)+g.substring(p+C.length);break;case i:C.length<=2*this.Patch_Margin&&d&&u.length!=y+1?(h.diffs[d++]=u[y],h.length1+=C.length,h.length2+=C.length):C.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(h,m),c.push(h),h=new e.patch_obj,d=0,m=g,f=p);break}b!==r&&(f+=C.length),b!==n&&(p+=C.length)}return d&&(this.patch_addContext_(h,m),c.push(h)),c},e.prototype.patch_deepCopy=function(s){for(var o=[],a=0;a<s.length;a++){var l=s[a],u=new e.patch_obj;u.diffs=[];for(var c=0;c<l.diffs.length;c++)u.diffs[c]=new e.Diff(l.diffs[c][0],l.diffs[c][1]);u.start1=l.start1,u.start2=l.start2,u.length1=l.length1,u.length2=l.length2,o[a]=u}return o},e.prototype.patch_apply=function(s,o){if(s.length==0)return[o,[]];s=this.patch_deepCopy(s);var a=this.patch_addPadding(s);o=a+o+a,this.patch_splitMax(s);for(var l=0,u=[],c=0;c<s.length;c++){var h=s[c].start2+l,d=this.diff_text1(s[c].diffs),f,p=-1;if(d.length>this.Match_MaxBits?(f=this.match_main(o,d.substring(0,this.Match_MaxBits),h),f!=-1&&(p=this.match_main(o,d.substring(d.length-this.Match_MaxBits),h+d.length-this.Match_MaxBits),(p==-1||f>=p)&&(f=-1))):f=this.match_main(o,d,h),f==-1)u[c]=!1,l-=s[c].length2-s[c].length1;else{u[c]=!0,l=f-h;var m;if(p==-1?m=o.substring(f,f+d.length):m=o.substring(f,p+this.Match_MaxBits),d==m)o=o.substring(0,f)+this.diff_text2(s[c].diffs)+o.substring(f+d.length);else{var g=this.diff_main(d,m,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(g)/d.length>this.Patch_DeleteThreshold)u[c]=!1;else{this.diff_cleanupSemanticLossless(g);for(var y=0,b,C=0;C<s[c].diffs.length;C++){var x=s[c].diffs[C];x[0]!==i&&(b=this.diff_xIndex(g,y)),x[0]===r?o=o.substring(0,f+b)+x[1]+o.substring(f+b):x[0]===n&&(o=o.substring(0,f+b)+o.substring(f+this.diff_xIndex(g,y+x[1].length))),x[0]!==n&&(y+=x[1].length)}}}}}return o=o.substring(a.length,o.length-a.length),[o,u]},e.prototype.patch_addPadding=function(s){for(var o=this.Patch_Margin,a="",l=1;l<=o;l++)a+=String.fromCharCode(l);for(var l=0;l<s.length;l++)s[l].start1+=o,s[l].start2+=o;var u=s[0],c=u.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new e.Diff(i,a)),u.start1-=o,u.start2-=o,u.length1+=o,u.length2+=o;else if(o>c[0][1].length){var h=o-c[0][1].length;c[0][1]=a.substring(c[0][1].length)+c[0][1],u.start1-=h,u.start2-=h,u.length1+=h,u.length2+=h}if(u=s[s.length-1],c=u.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new e.Diff(i,a)),u.length1+=o,u.length2+=o;else if(o>c[c.length-1][1].length){var h=o-c[c.length-1][1].length;c[c.length-1][1]+=a.substring(0,h),u.length1+=h,u.length2+=h}return a},e.prototype.patch_splitMax=function(s){for(var o=this.Match_MaxBits,a=0;a<s.length;a++)if(!(s[a].length1<=o)){var l=s[a];s.splice(a--,1);for(var u=l.start1,c=l.start2,h="";l.diffs.length!==0;){var d=new e.patch_obj,f=!0;for(d.start1=u-h.length,d.start2=c-h.length,h!==""&&(d.length1=d.length2=h.length,d.diffs.push(new e.Diff(i,h)));l.diffs.length!==0&&d.length1<o-this.Patch_Margin;){var p=l.diffs[0][0],m=l.diffs[0][1];p===r?(d.length2+=m.length,c+=m.length,d.diffs.push(l.diffs.shift()),f=!1):p===n&&d.diffs.length==1&&d.diffs[0][0]==i&&m.length>2*o?(d.length1+=m.length,u+=m.length,f=!1,d.diffs.push(new e.Diff(p,m)),l.diffs.shift()):(m=m.substring(0,o-d.length1-this.Patch_Margin),d.length1+=m.length,u+=m.length,p===i?(d.length2+=m.length,c+=m.length):f=!1,d.diffs.push(new e.Diff(p,m)),m==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(m.length))}h=this.diff_text2(d.diffs),h=h.substring(h.length-this.Patch_Margin);var g=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);g!==""&&(d.length1+=g.length,d.length2+=g.length,d.diffs.length!==0&&d.diffs[d.diffs.length-1][0]===i?d.diffs[d.diffs.length-1][1]+=g:d.diffs.push(new e.Diff(i,g))),f||s.splice(++a,0,d)}}},e.prototype.patch_toText=function(s){for(var o=[],a=0;a<s.length;a++)o[a]=s[a];return o.join("")},e.prototype.patch_fromText=function(s){var o=[];if(!s)return o;for(var a=s.split(`
`),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<a.length;){var c=a[l].match(u);if(!c)throw new Error("Invalid patch string: "+a[l]);var h=new e.patch_obj;for(o.push(h),h.start1=parseInt(c[1],10),c[2]===""?(h.start1--,h.length1=1):c[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(c[2],10)),h.start2=parseInt(c[3],10),c[4]===""?(h.start2--,h.length2=1):c[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(c[4],10)),l++;l<a.length;){var d=a[l].charAt(0);try{var f=decodeURI(a[l].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+f)}if(d=="-")h.diffs.push(new e.Diff(n,f));else if(d=="+")h.diffs.push(new e.Diff(r,f));else if(d==" ")h.diffs.push(new e.Diff(i,f));else{if(d=="@")break;if(d!=="")throw new Error('Invalid patch mode "'+d+'" in: '+f)}l++}}return o},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var s,o;this.length1===0?s=this.start1+",0":this.length1==1?s=this.start1+1:s=this.start1+1+","+this.length1,this.length2===0?o=this.start2+",0":this.length2==1?o=this.start2+1:o=this.start2+1+","+this.length2;for(var a=["@@ -"+s+" +"+o+` @@
`],l,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case r:l="+";break;case n:l="-";break;case i:l=" ";break}a[u+1]=l+encodeURI(this.diffs[u][1])+`
`}return a.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=r,t.exports.DIFF_EQUAL=i})(K_);var aq=K_.exports,lq=$n&&$n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(h1,"__esModule",{value:!0});var Yt=u1,GA=j,cq=Pg,uq=aq,hq=function(t){lq(e,t);function e(n){var r=t.call(this,n)||this;return r.state={value:r.props.value},r.onChange=r.onChange.bind(r),r.diff=r.diff.bind(r),r}return e.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},e.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},e.prototype.diff=function(){var n=new uq,r=this.state.value[0],i=this.state.value[1];if(r.length===0&&i.length===0)return[];var s=n.diff_main(r,i);n.diff_cleanupSemantic(s);var o=this.generateDiffedLines(s),a=this.setCodeMarkers(o);return a},e.prototype.generateDiffedLines=function(n){var r={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},i={left:[],right:[]},s={left:1,right:1};return n.forEach(function(o){var a=o[0],l=o[1],u=l.split(`
`).length-1;if(l.length!==0){var c=l[0],h=l[l.length-1],d=0;switch(a){case r.DIFF_EQUAL:s.left+=u,s.right+=u;break;case r.DIFF_DELETE:c===`
`&&(s.left++,u--),d=u,d===0&&i.right.push({startLine:s.right,endLine:s.right}),h===`
`&&(d-=1),i.left.push({startLine:s.left,endLine:s.left+d}),s.left+=u;break;case r.DIFF_INSERT:c===`
`&&(s.right++,u--),d=u,d===0&&i.left.push({startLine:s.left,endLine:s.left}),h===`
`&&(d-=1),i.right.push({startLine:s.right,endLine:s.right+d}),s.right+=u;break;default:throw new Error("Diff type was not defined.")}}}),i},e.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var r=[],i={left:[],right:[]},s=0;s<n.left.length;s++){var o={startRow:n.left[s].startLine-1,endRow:n.left[s].endLine,type:"text",className:"codeMarker"};i.left.push(o)}for(var s=0;s<n.right.length;s++){var o={startRow:n.right[s].startLine-1,endRow:n.right[s].endLine,type:"text",className:"codeMarker"};i.right.push(o)}return r[0]=i.left,r[1]=i.right,r},e.prototype.render=function(){var n=this.diff();return GA.createElement(cq.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},e.propTypes={cursorStart:Yt.number,editorProps:Yt.object,enableBasicAutocompletion:Yt.bool,enableLiveAutocompletion:Yt.bool,focus:Yt.bool,fontSize:Yt.number,height:Yt.string,highlightActiveLine:Yt.bool,maxLines:Yt.number,minLines:Yt.number,mode:Yt.string,name:Yt.string,className:Yt.string,onLoad:Yt.func,onPaste:Yt.func,onScroll:Yt.func,onChange:Yt.func,orientation:Yt.string,readOnly:Yt.bool,scrollMargin:Yt.array,setOptions:Yt.object,showGutter:Yt.bool,showPrintMargin:Yt.bool,splits:Yt.number,style:Yt.object,tabSize:Yt.number,theme:Yt.string,value:Yt.array,width:Yt.string,wrapEnabled:Yt.bool},e.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},e}(GA.Component);h1.default=hq;Object.defineProperty(tu,"__esModule",{value:!0});tu.diff=tu.split=void 0;var dq=c1,fq=h1;tu.diff=fq.default;var pq=Pg;tu.split=pq.default;var mq=tu.default=dq.default,gq={exports:{}};(function(t,e){ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var s=n("../lib/oop"),o=n("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w[^\s:]*?)(:(?=\s|$))/},{token:["meta.tag","keyword"],regex:/(\w[^\s:]*?)(\s*:(?=\s|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:/[|>][-+\d]*(?:$|\s+(?:$|#))/,onMatch:function(l,u,c,h){h=h.replace(/ #.*/,"");var d=/^ *((:\s*)?-(\s*[^|>])?)?/.exec(h)[0].replace(/\S\s*$/,"").length,f=parseInt(/\d+[\s+-]*$/.exec(h));return f?(d+=f-1,this.next="mlString"):this.next="mlStringPre",c.length?(c[0]=this.next,c[1]=d):(c.push(this.next),c.push(d)),this.token},next:"mlString"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)$/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:/[^\s,:\[\]\{\}]+/}],mlStringPre:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(l,u,c){var h=c[1];return h>=l.length?(this.next="start",c.shift(),c.shift()):(c[1]=l.length-1,this.next=c[0]="mlString"),this.token},next:"mlString"},{defaultToken:"string"}],mlString:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(l,u,c){var h=c[1];return h>=l.length?(this.next="start",c.splice(0)):this.next="mlString",this.token},next:"mlString"},{token:"string",regex:".+"}]},this.normalizeRules()};s.inherits(a,o),r.YamlHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var s=n("../range").Range,o=function(){};(function(){this.checkOutdent=function(a,l){return/^\s+$/.test(a)?/^\s*\}/.test(l):!1},this.autoOutdent=function(a,l){var u=a.getLine(l),c=u.match(/^(\s*\})/);if(!c)return 0;var h=c[1].length,d=a.findMatchingBracket({row:l,column:h});if(!d||d.row==l)return 0;var f=this.$getIndent(a.getLine(d.row));a.replace(new s(l,0,l,h-1),f)},this.$getIndent=function(a){return a.match(/^\s*/)[0]}}).call(o.prototype),r.MatchingBraceOutdent=o}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(n,r,i){var s=n("../../lib/oop"),o=n("./fold_mode").FoldMode,a=n("../../range").Range,l=r.FoldMode=function(){};s.inherits(l,o),(function(){this.commentBlock=function(u,c){var h=/\S/,d=u.getLine(c),f=d.search(h);if(!(f==-1||d[f]!="#")){for(var p=d.length,m=u.getLength(),g=c,y=c;++c<m;){d=u.getLine(c);var b=d.search(h);if(b!=-1){if(d[b]!="#")break;y=c}}if(y>g){var C=u.getLine(y).length;return new a(g,p,y,C)}}},this.getFoldWidgetRange=function(u,c,h){var d=this.indentationBlock(u,h);if(d||(d=this.commentBlock(u,h),d))return d},this.getFoldWidget=function(u,c,h){var d=u.getLine(h),f=d.search(/\S/),p=u.getLine(h+1),m=u.getLine(h-1),g=m.search(/\S/),y=p.search(/\S/);if(f==-1)return u.foldWidgets[h-1]=g!=-1&&g<y?"start":"","";if(g==-1){if(f==y&&d[f]=="#"&&p[f]=="#")return u.foldWidgets[h-1]="",u.foldWidgets[h+1]="","start"}else if(g==f&&d[f]=="#"&&m[f]=="#"&&u.getLine(h-2).search(/\S/)==-1)return u.foldWidgets[h-1]="start",u.foldWidgets[h+1]="","";return g!=-1&&g<f?u.foldWidgets[h-1]="start":u.foldWidgets[h-1]="",f<y?"start":""}}).call(l.prototype)}),ace.define("ace/mode/folding/yaml",["require","exports","module","ace/lib/oop","ace/mode/folding/coffee","ace/range"],function(n,r,i){var s=n("../../lib/oop"),o=n("./coffee").FoldMode,a=n("../../range").Range,l=r.FoldMode=function(){};s.inherits(l,o),(function(){this.getFoldWidgetRange=function(u,c,h){var d=/\S/,f=u.getLine(h),p=f.search(d),m=f[p]==="#",g=f[p]==="-";if(p!=-1){var y=f.length,b=u.getLength(),C=h,x=h;if(m){var S=this.commentBlock(u,h);if(S)return S}else if(g){var S=this.indentationBlock(u,h);if(S)return S}else for(;++h<b;){var f=u.getLine(h),w=f.search(d);if(w!=-1){if(w<=p&&f[p]!=="-"){var k=u.getTokenAt(h,0);if(!k||k.type!=="string")break}x=h}}if(x>C){var L=u.getLine(x).length;return new a(C,y,x,L)}}},this.getFoldWidget=function(u,c,h){var d=u.getLine(h),f=d.search(/\S/),p=u.getLine(h+1),m=u.getLine(h-1),g=m.search(/\S/),y=p.search(/\S/),b=d[f]==="-";if(f==-1)return u.foldWidgets[h-1]=g!=-1&&g<y?"start":"","";if(g==-1){if(f==y&&d[f]=="#"&&p[f]=="#")return u.foldWidgets[h-1]="",u.foldWidgets[h+1]="","start"}else if(g==f&&d[f]=="#"&&m[f]=="#"&&u.getLine(h-2).search(/\S/)==-1)return u.foldWidgets[h-1]="start",u.foldWidgets[h+1]="","";return g!=-1&&g<f||g!=-1&&g==f&&b?u.foldWidgets[h-1]="start":u.foldWidgets[h-1]="",f<y?"start":""}}).call(l.prototype)}),ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/yaml","ace/worker/worker_client"],function(n,r,i){var s=n("../lib/oop"),o=n("./text").Mode,a=n("./yaml_highlight_rules").YamlHighlightRules,l=n("./matching_brace_outdent").MatchingBraceOutdent,u=n("./folding/yaml").FoldMode,c=n("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=a,this.$outdent=new l,this.foldingRules=new u,this.$behaviour=this.$defaultBehaviour};s.inherits(h,o),(function(){this.lineCommentStart=["#"],this.getNextLineIndent=function(d,f,p){var m=this.$getIndent(f);if(d=="start"){var g=f.match(/^.*[\{\(\[]\s*$/);g&&(m+=p)}return m},this.checkOutdent=function(d,f,p){return this.$outdent.checkOutdent(f,p)},this.autoOutdent=function(d,f,p){this.$outdent.autoOutdent(f,p)},this.createWorker=function(d){var f=new c(["ace"],"ace/mode/yaml_worker","YamlWorker");return f.attachToDocument(d.getDocument()),f.on("annotate",function(p){d.setAnnotations(p.data)}),f.on("terminate",function(){d.clearAnnotations()}),f},this.$id="ace/mode/yaml"}).call(h.prototype),r.Mode=h}),function(){ace.require(["ace/mode/yaml"],function(n){t&&(t.exports=n)})}()})(gq);var vq={exports:{}};(function(t,e){ace.define("ace/theme/github-css",["require","exports","module"],function(n,r,i){i.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-github",r.cssText=n("./github-css");var s=n("../lib/dom");s.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(n){t&&(t.exports=n)})}()})(vq);var yq={exports:{}};(function(t,e){ace.define("ace/theme/monokai-css",["require","exports","module"],function(n,r,i){i.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],function(n,r,i){r.isDark=!0,r.cssClass="ace-monokai",r.cssText=n("./monokai-css");var s=n("../lib/dom");s.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/monokai"],function(n){t&&(t.exports=n)})}()})(yq);var bq={exports:{}};(function(t,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,r,i){var s=n("./lib/dom"),o=n("./lib/oop"),a=n("./lib/event_emitter").EventEmitter,l=n("./lib/lang"),u=n("./range").Range,c=n("./range_list").RangeList,h=n("./keyboard/hash_handler").HashHandler,d=n("./tokenizer").Tokenizer,f=n("./clipboard"),p={CURRENT_WORD:function(w){return w.session.getTextRange(w.session.getWordRange())},SELECTION:function(w,k,L){var E=w.session.getTextRange();return L?E.replace(/\n\r?([ \t]*\S)/g,`
`+L+"$1"):E},CURRENT_LINE:function(w){return w.session.getLine(w.getCursorPosition().row)},PREV_LINE:function(w){return w.session.getLine(w.getCursorPosition().row-1)},LINE_INDEX:function(w){return w.getCursorPosition().row},LINE_NUMBER:function(w){return w.getCursorPosition().row+1},SOFT_TABS:function(w){return w.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(w){return w.session.getTabSize()},CLIPBOARD:function(w){return f.getText&&f.getText()},FILENAME:function(w){return/[^/\\]*$/.exec(this.FILEPATH(w))[0]},FILENAME_BASE:function(w){return/[^/\\]*$/.exec(this.FILEPATH(w))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(w){return this.FILEPATH(w).replace(/[^/\\]*$/,"")},FILEPATH:function(w){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(w){var k=w.session.$mode||{};return k.blockComment&&k.blockComment.start||""},BLOCK_COMMENT_END:function(w){var k=w.session.$mode||{};return k.blockComment&&k.blockComment.end||""},LINE_COMMENT:function(w){var k=w.session.$mode||{};return k.lineCommentStart||""},CURRENT_YEAR:m.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:m.bind(null,{year:"2-digit"}),CURRENT_MONTH:m.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:m.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:m.bind(null,{month:"short"}),CURRENT_DATE:m.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:m.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:m.bind(null,{weekday:"short"}),CURRENT_HOUR:m.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:m.bind(null,{minute:"2-digit"}),CURRENT_SECOND:m.bind(null,{second:"2-digit"})};p.SELECTED_TEXT=p.SELECTION;function m(w){var k=new Date().toLocaleString("en-us",w);return k.length==1?"0"+k:k}var g=function(){function w(){this.snippetMap={},this.snippetNameMap={},this.variables=p}return w.prototype.getTokenizer=function(){return w.$tokenizer||this.createTokenizer()},w.prototype.createTokenizer=function(){function k(N){return N=N.substr(1),/^\d+$/.test(N)?[{tabstopId:parseInt(N,10)}]:[{text:N}]}function L(N){return"(?:[^\\\\"+N+"]|\\\\.)"}var E={regex:"/("+L("/")+"+)/",onMatch:function(N,_,R){var M=R[0];return M.fmtString=!0,M.guard=N.slice(1,-1),M.flag="",""},next:"formatString"};return w.$tokenizer=new d({start:[{regex:/\\./,onMatch:function(N,_,R){var M=N[1];return(M=="}"&&R.length||"`$\\".indexOf(M)!=-1)&&(N=M),[N]}},{regex:/}/,onMatch:function(N,_,R){return[R.length?R.shift():N]}},{regex:/\$(?:\d+|\w+)/,onMatch:k},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(N,_,R){var M=k(N.substr(1));return R.unshift(M[0]),M},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+L("\\|")+"*\\|",onMatch:function(N,_,R){var M=N.slice(1,-1).replace(/\\[,|\\]|,/g,function(T){return T.length==2?T[1]:"\0"}).split("\0").map(function(T){return{value:T}});return R[0].choices=M,[M[0]]},next:"start"},E,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(N,_,R){return R.length&&R[0].expectElse?(R[0].expectElse=!1,R[0].ifEnd={elseEnd:R[0]},[R[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(N,_,R){var M=N[1];return M=="}"&&R.length||"`$\\".indexOf(M)!=-1?N=M:M=="n"?N=`
`:M=="t"?N="	":"ulULE".indexOf(M)!=-1&&(N={changeCase:M,local:M>"a"}),[N]}},{regex:"/\\w*}",onMatch:function(N,_,R){var M=R.shift();return M&&(M.flag=N.slice(1,-1)),this.next=M&&M.tabstopId?"start":"",[M||N]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(N,_,R){return[{text:N.slice(1)}]}},{regex:/\${\w+/,onMatch:function(N,_,R){var M={text:N.slice(2)};return R.unshift(M),[M]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(N,_,R){var M=R.shift();return this.next=M&&M.tabstopId?"start":"",[M||N]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(N,_,R){var M=R[0];return M.formatFunction=N.slice(2,-1),[R.shift()]},next:"formatString"},E,{regex:/:[\?\-+]?/,onMatch:function(N,_,R){N[1]=="+"&&(R[0].ifEnd=R[0]),N[1]=="?"&&(R[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),w.$tokenizer},w.prototype.tokenizeTmSnippet=function(k,L){return this.getTokenizer().getLineTokens(k,L).tokens.map(function(E){return E.value||E})},w.prototype.getVariableValue=function(k,L,E){if(/^\d+$/.test(L))return(this.variables.__||{})[L]||"";if(/^[A-Z]\d+$/.test(L))return(this.variables[L[0]+"__"]||{})[L.substr(1)]||"";if(L=L.replace(/^TM_/,""),!this.variables.hasOwnProperty(L))return"";var N=this.variables[L];return typeof N=="function"&&(N=this.variables[L](k,L,E)),N??""},w.prototype.tmStrFormat=function(k,L,E){if(!L.fmt)return k;var N=L.flag||"",_=L.guard;_=new RegExp(_,N.replace(/[^gim]/g,""));var R=typeof L.fmt=="string"?this.tokenizeTmSnippet(L.fmt,"formatString"):L.fmt,M=this,T=k.replace(_,function(){var A=M.variables.__;M.variables.__=[].slice.call(arguments);for(var $=M.resolveVariables(R,E),D="E",O=0;O<$.length;O++){var P=$[O];if(typeof P=="object")if($[O]="",P.changeCase&&P.local){var I=$[O+1];I&&typeof I=="string"&&(P.changeCase=="u"?$[O]=I[0].toUpperCase():$[O]=I[0].toLowerCase(),$[O+1]=I.substr(1))}else P.changeCase&&(D=P.changeCase);else D=="U"?$[O]=P.toUpperCase():D=="L"&&($[O]=P.toLowerCase())}return M.variables.__=A,$.join("")});return T},w.prototype.tmFormatFunction=function(k,L,E){return L.formatFunction=="upcase"?k.toUpperCase():L.formatFunction=="downcase"?k.toLowerCase():k},w.prototype.resolveVariables=function(k,L){for(var E=[],N="",_=!0,R=0;R<k.length;R++){var M=k[R];if(typeof M=="string"){E.push(M),M==`
`?(_=!0,N=""):_&&(N=/^\t*/.exec(M)[0],_=/\S/.test(M));continue}if(M){if(_=!1,M.fmtString){var T=k.indexOf(M,R+1);T==-1&&(T=k.length),M.fmt=k.slice(R+1,T),R=T}if(M.text){var A=this.getVariableValue(L,M.text,N)+"";M.fmtString&&(A=this.tmStrFormat(A,M,L)),M.formatFunction&&(A=this.tmFormatFunction(A,M,L)),A&&!M.ifEnd?(E.push(A),$(M)):!A&&M.ifEnd&&$(M.ifEnd)}else M.elseEnd?$(M.elseEnd):(M.tabstopId!=null||M.changeCase!=null)&&E.push(M)}}function $(D){var O=k.indexOf(D,R+1);O!=-1&&(R=O)}return E},w.prototype.getDisplayTextForSnippet=function(k,L){var E=y.call(this,k,L);return E.text},w.prototype.insertSnippetForSelection=function(k,L,E){E===void 0&&(E={});var N=y.call(this,k,L,E),_=k.getSelectionRange(),R=k.session.replace(_,N.text),M=new b(k),T=k.inVirtualSelectionMode&&k.selection.index;M.addTabstops(N.tabstops,_.start,R,T)},w.prototype.insertSnippet=function(k,L,E){E===void 0&&(E={});var N=this;if(k.inVirtualSelectionMode)return N.insertSnippetForSelection(k,L,E);k.forEachSelection(function(){N.insertSnippetForSelection(k,L,E)},null,{keepOrder:!0}),k.tabstopManager&&k.tabstopManager.tabNext()},w.prototype.$getScope=function(k){var L=k.session.$mode.$id||"";if(L=L.split("/").pop(),L==="html"||L==="php"){L==="php"&&!k.session.$mode.inlinePhp&&(L="html");var E=k.getCursorPosition(),N=k.session.getState(E.row);typeof N=="object"&&(N=N[0]),N.substring&&(N.substring(0,3)=="js-"?L="javascript":N.substring(0,4)=="css-"?L="css":N.substring(0,4)=="php-"&&(L="php"))}return L},w.prototype.getActiveScopes=function(k){var L=this.$getScope(k),E=[L],N=this.snippetMap;return N[L]&&N[L].includeScopes&&E.push.apply(E,N[L].includeScopes),E.push("_"),E},w.prototype.expandWithTab=function(k,L){var E=this,N=k.forEachSelection(function(){return E.expandSnippetForSelection(k,L)},null,{keepOrder:!0});return N&&k.tabstopManager&&k.tabstopManager.tabNext(),N},w.prototype.expandSnippetForSelection=function(k,L){var E=k.getCursorPosition(),N=k.session.getLine(E.row),_=N.substring(0,E.column),R=N.substr(E.column),M=this.snippetMap,T;return this.getActiveScopes(k).some(function(A){var $=M[A];return $&&(T=this.findMatchingSnippet($,_,R)),!!T},this),T?(L&&L.dryRun||(k.session.doc.removeInLine(E.row,E.column-T.replaceBefore.length,E.column+T.replaceAfter.length),this.variables.M__=T.matchBefore,this.variables.T__=T.matchAfter,this.insertSnippetForSelection(k,T.content),this.variables.M__=this.variables.T__=null),!0):!1},w.prototype.findMatchingSnippet=function(k,L,E){for(var N=k.length;N--;){var _=k[N];if(!(_.startRe&&!_.startRe.test(L))&&!(_.endRe&&!_.endRe.test(E))&&!(!_.startRe&&!_.endRe))return _.matchBefore=_.startRe?_.startRe.exec(L):[""],_.matchAfter=_.endRe?_.endRe.exec(E):[""],_.replaceBefore=_.triggerRe?_.triggerRe.exec(L)[0]:"",_.replaceAfter=_.endTriggerRe?_.endTriggerRe.exec(E)[0]:"",_}},w.prototype.register=function(k,L){var E=this.snippetMap,N=this.snippetNameMap,_=this;k||(k=[]);function R(A){return A&&!/^\^?\(.*\)\$?$|^\\b$/.test(A)&&(A="(?:"+A+")"),A||""}function M(A,$,D){return A=R(A),$=R($),A=$+A,A&&A[A.length-1]!="$"&&(A=A+"$"),new RegExp(A)}function T(A){A.scope||(A.scope=L||"_"),L=A.scope,E[L]||(E[L]=[],N[L]={});var $=N[L];if(A.name){var D=$[A.name];D&&_.unregister(D),$[A.name]=A}E[L].push(A),A.prefix&&(A.tabTrigger=A.prefix),!A.content&&A.body&&(A.content=Array.isArray(A.body)?A.body.join(`
`):A.body),A.tabTrigger&&!A.trigger&&(!A.guard&&/^\w/.test(A.tabTrigger)&&(A.guard="\\b"),A.trigger=l.escapeRegExp(A.tabTrigger)),!(!A.trigger&&!A.guard&&!A.endTrigger&&!A.endGuard)&&(A.startRe=M(A.trigger,A.guard),A.triggerRe=new RegExp(A.trigger),A.endRe=M(A.endTrigger,A.endGuard),A.endTriggerRe=new RegExp(A.endTrigger))}Array.isArray(k)?k.forEach(T):Object.keys(k).forEach(function(A){T(k[A])}),this._signal("registerSnippets",{scope:L})},w.prototype.unregister=function(k,L){var E=this.snippetMap,N=this.snippetNameMap;function _(R){var M=N[R.scope||L];if(M&&M[R.name]){delete M[R.name];var T=E[R.scope||L],A=T&&T.indexOf(R);A>=0&&T.splice(A,1)}}k.content?_(k):Array.isArray(k)&&k.forEach(_)},w.prototype.parseSnippetFile=function(k){k=k.replace(/\r/g,"");for(var L=[],E={},N=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,_;_=N.exec(k);){if(_[1])try{E=JSON.parse(_[1]),L.push(E)}catch{}if(_[4])E.content=_[4].replace(/^\t/gm,""),L.push(E),E={};else{var R=_[2],M=_[3];if(R=="regex"){var T=/\/((?:[^\/\\]|\\.)*)|$/g;E.guard=T.exec(M)[1],E.trigger=T.exec(M)[1],E.endTrigger=T.exec(M)[1],E.endGuard=T.exec(M)[1]}else R=="snippet"?(E.tabTrigger=M.match(/^\S*/)[0],E.name||(E.name=M)):R&&(E[R]=M)}}return L},w.prototype.getSnippetByName=function(k,L){var E=this.snippetNameMap,N;return this.getActiveScopes(L).some(function(_){var R=E[_];return R&&(N=R[k]),!!N},this),N},w}();o.implement(g.prototype,a);var y=function(w,k,L){L===void 0&&(L={});var E=w.getCursorPosition(),N=w.session.getLine(E.row),_=w.session.getTabString(),R=N.match(/^\s*/)[0];E.column<R.length&&(R=R.slice(0,E.column)),k=k.replace(/\r/g,"");var M=this.tokenizeTmSnippet(k);M=this.resolveVariables(M,w),M=M.map(function(K){return K==`
`&&!L.excludeExtraIndent?K+R:typeof K=="string"?K.replace(/\t/g,_):K});var T=[];M.forEach(function(K,Q){if(typeof K=="object"){var ee=K.tabstopId,re=T[ee];if(re||(re=T[ee]=[],re.index=ee,re.value="",re.parents={}),re.indexOf(K)===-1){K.choices&&!re.choices&&(re.choices=K.choices),re.push(K);var ae=M.indexOf(K,Q+1);if(ae!==-1){var be=M.slice(Q+1,ae),Ae=be.some(function(Le){return typeof Le=="object"});Ae&&!re.value?re.value=be:be.length&&(!re.value||typeof re.value!="string")&&(re.value=be.join(""))}}}}),T.forEach(function(K){K.length=0});var A={};function $(K){for(var Q=[],ee=0;ee<K.length;ee++){var re=K[ee];if(typeof re=="object"){if(A[re.tabstopId])continue;var ae=K.lastIndexOf(re,ee-1);re=Q[ae]||{tabstopId:re.tabstopId}}Q[ee]=re}return Q}for(var D=0;D<M.length;D++){var O=M[D];if(typeof O=="object"){var P=O.tabstopId,I=T[P],B=M.indexOf(O,D+1);if(A[P]){A[P]===O&&(delete A[P],Object.keys(A).forEach(function(K){I.parents[K]=!0}));continue}A[P]=O;var Y=I.value;typeof Y!="string"?Y=$(Y):O.fmt&&(Y=this.tmStrFormat(Y,O,w)),M.splice.apply(M,[D+1,Math.max(0,B-D)].concat(Y,O)),I.indexOf(O)===-1&&I.push(O)}}var H=0,U=0,q="";return M.forEach(function(K){if(typeof K=="string"){var Q=K.split(`
`);Q.length>1?(U=Q[Q.length-1].length,H+=Q.length-1):U+=K.length,q+=K}else K&&(K.start?K.end={row:H,column:U}:K.start={row:H,column:U})}),{text:q,tabstops:T,tokens:M}},b=function(){function w(k){if(this.index=0,this.ranges=[],this.tabstops=[],k.tabstopManager)return k.tabstopManager;k.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(k)}return w.prototype.attach=function(k){this.$openTabstops=null,this.selectedTabstop=null,this.editor=k,this.session=k.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},w.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},w.prototype.onChange=function(k){for(var L=k.action[0]=="r",E=this.selectedTabstop||{},N=E.parents||{},_=this.tabstops.slice(),R=0;R<_.length;R++){var M=_[R],T=M==E||N[M.index];if(M.rangeList.$bias=T?0:1,k.action=="remove"&&M!==E){var A=M.parents&&M.parents[E.index],$=M.rangeList.pointIndex(k.start,A);$=$<0?-$-1:$+1;var D=M.rangeList.pointIndex(k.end,A);D=D<0?-D-1:D-1;for(var O=M.rangeList.ranges.slice($,D),P=0;P<O.length;P++)this.removeRange(O[P])}M.rangeList.$onChange(k)}var I=this.session;!this.$inChange&&L&&I.getLength()==1&&!I.getValue()&&this.detach()},w.prototype.updateLinkedFields=function(){var k=this.selectedTabstop;if(!(!k||!k.hasLinkedRanges||!k.firstNonLinked)){this.$inChange=!0;for(var L=this.session,E=L.getTextRange(k.firstNonLinked),N=0;N<k.length;N++){var _=k[N];if(_.linked){var R=_.original,M=r.snippetManager.tmStrFormat(E,R,this.editor);L.replace(_,M)}}this.$inChange=!1}},w.prototype.onAfterExec=function(k){k.command&&!k.command.readOnly&&this.updateLinkedFields()},w.prototype.onChangeSelection=function(){if(this.editor){for(var k=this.editor.selection.lead,L=this.editor.selection.anchor,E=this.editor.selection.isEmpty(),N=0;N<this.ranges.length;N++)if(!this.ranges[N].linked){var _=this.ranges[N].contains(k.row,k.column),R=E||this.ranges[N].contains(L.row,L.column);if(_&&R)return}this.detach()}},w.prototype.onChangeSession=function(){this.detach()},w.prototype.tabNext=function(k){var L=this.tabstops.length,E=this.index+(k||1);E=Math.min(Math.max(E,1),L),E==L&&(E=0),this.selectTabstop(E),this.updateTabstopMarkers(),E===0&&this.detach()},w.prototype.selectTabstop=function(k){this.$openTabstops=null;var L=this.tabstops[this.index];if(L&&this.addTabstopMarkers(L),this.index=k,L=this.tabstops[this.index],!(!L||!L.length)){this.selectedTabstop=L;var E=L.firstNonLinked||L;if(L.choices&&(E.cursor=E.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(E);else{var N=this.editor.multiSelect;N.toSingleRange(E);for(var _=0;_<L.length;_++)L.hasLinkedRanges&&L[_].linked||N.addRange(L[_].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},w.prototype.addTabstops=function(k,L,E){var N=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!k[0]){var _=u.fromPoints(E,E);x(_.start,L),x(_.end,L),k[0]=[_],k[0].index=0}var R=this.index,M=[R+1,0],T=this.ranges,A=this.snippetId=(this.snippetId||0)+1;k.forEach(function($,D){var O=this.$openTabstops[D]||$;O.snippetId=A;for(var P=0;P<$.length;P++){var I=$[P],B=u.fromPoints(I.start,I.end||I.start);C(B.start,L),C(B.end,L),B.original=I,B.tabstop=O,T.push(B),O!=$?O.unshift(B):O[P]=B,I.fmtString||O.firstNonLinked&&N?(B.linked=!0,O.hasLinkedRanges=!0):O.firstNonLinked||(O.firstNonLinked=B)}O.firstNonLinked||(O.hasLinkedRanges=!1),O===$&&(M.push(O),this.$openTabstops[D]=O),this.addTabstopMarkers(O),O.rangeList=O.rangeList||new c,O.rangeList.$bias=0,O.rangeList.addList(O)},this),M.length>2&&(this.tabstops.length&&M.push(M.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,M))},w.prototype.addTabstopMarkers=function(k){var L=this.session;k.forEach(function(E){E.markerId||(E.markerId=L.addMarker(E,"ace_snippet-marker","text"))})},w.prototype.removeTabstopMarkers=function(k){var L=this.session;k.forEach(function(E){L.removeMarker(E.markerId),E.markerId=null})},w.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var k=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&k--,this.tabstops.forEach(function(L){L.snippetId===k?this.addTabstopMarkers(L):this.removeTabstopMarkers(L)},this)}},w.prototype.removeRange=function(k){var L=k.tabstop.indexOf(k);L!=-1&&k.tabstop.splice(L,1),L=this.ranges.indexOf(k),L!=-1&&this.ranges.splice(L,1),L=k.tabstop.rangeList.ranges.indexOf(k),L!=-1&&k.tabstop.splice(L,1),this.session.removeMarker(k.markerId),k.tabstop.length||(L=this.tabstops.indexOf(k.tabstop),L!=-1&&this.tabstops.splice(L,1),this.tabstops.length||this.detach())},w}();b.prototype.keyboardHandler=new h,b.prototype.keyboardHandler.bindKeys({Tab:function(w){r.snippetManager&&r.snippetManager.expandWithTab(w)||(w.tabstopManager.tabNext(1),w.renderer.scrollCursorIntoView())},"Shift-Tab":function(w){w.tabstopManager.tabNext(-1),w.renderer.scrollCursorIntoView()},Esc:function(w){w.tabstopManager.detach()}});var C=function(w,k){w.row==0&&(w.column+=k.column),w.row+=k.row},x=function(w,k){w.row==k.row&&(w.column-=k.column),w.row-=k.row};s.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new g;var S=n("./editor").Editor;(function(){this.insertSnippet=function(w,k){return r.snippetManager.insertSnippet(this,w,k)},this.expandSnippet=function(w){return r.snippetManager.expandWithTab(this,w)}}).call(S.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,r,i){var s=n("../virtual_renderer").VirtualRenderer,o=n("../editor").Editor,a=n("../range").Range,l=n("../lib/event"),u=n("../lib/lang"),c=n("../lib/dom"),h=n("../config").nls,d=n("./../lib/useragent"),f=function(C){return"suggest-aria-id:".concat(C)},p=d.isSafari?"menu":"listbox",m=d.isSafari?"menuitem":"option",g=d.isSafari?"aria-current":"aria-selected",y=function(C){var x=new s(C);x.$maxLines=4;var S=new o(x);return S.setHighlightActiveLine(!1),S.setShowPrintMargin(!1),S.renderer.setShowGutter(!1),S.renderer.setHighlightGutterLine(!1),S.$mouseHandler.$focusTimeout=0,S.$highlightTagPending=!0,S},b=function(){function C(x){var S=c.createElement("div"),w=y(S);x&&x.appendChild(S),S.style.display="none",w.renderer.content.style.cursor="default",w.renderer.setStyle("ace_autocomplete"),w.renderer.$textLayer.element.setAttribute("role",p),w.renderer.$textLayer.element.setAttribute("aria-roledescription",h("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),w.renderer.$textLayer.element.setAttribute("aria-label",h("autocomplete.popup.aria-label","Autocomplete suggestions")),w.renderer.textarea.setAttribute("aria-hidden","true"),w.setOption("displayIndentGuides",!1),w.setOption("dragDelay",150);var k=function(){};w.focus=k,w.$isFocused=!0,w.renderer.$cursorLayer.restartTimer=k,w.renderer.$cursorLayer.element.style.opacity="0",w.renderer.$maxLines=8,w.renderer.$keepTextAreaAtCursor=!1,w.setHighlightActiveLine(!1),w.session.highlight(""),w.session.$searchHighlight.clazz="ace_highlight-marker",w.on("mousedown",function(T){var A=T.getDocumentPosition();w.selection.moveToPosition(A),N.start.row=N.end.row=A.row,T.stop()});var L,E=new a(-1,0,-1,1/0),N=new a(-1,0,-1,1/0);N.id=w.session.addMarker(N,"ace_active-line","fullLine"),w.setSelectOnHover=function(T){T?E.id&&(w.session.removeMarker(E.id),E.id=null):E.id=w.session.addMarker(E,"ace_line-hover","fullLine")},w.setSelectOnHover(!1),w.on("mousemove",function(T){if(!L){L=T;return}if(!(L.x==T.x&&L.y==T.y)){L=T,L.scrollTop=w.renderer.scrollTop,w.isMouseOver=!0;var A=L.getDocumentPosition().row;E.start.row!=A&&(E.id||w.setRow(A),R(A))}}),w.renderer.on("beforeRender",function(){if(L&&E.start.row!=-1){L.$pos=null;var T=L.getDocumentPosition().row;E.id||w.setRow(T),R(T,!0)}}),w.renderer.on("afterRender",function(){for(var T=w.renderer.$textLayer,A=T.config.firstRow,$=T.config.lastRow;A<=$;A++){var D=T.element.childNodes[A-T.config.firstRow];D.setAttribute("role",m),D.setAttribute("aria-roledescription",h("autocomplete.popup.item.aria-roledescription","item")),D.setAttribute("aria-setsize",w.data.length),D.setAttribute("aria-describedby","doc-tooltip"),D.setAttribute("aria-posinset",A+1);var O=w.getData(A);if(O){var P="".concat(O.caption||O.value).concat(O.meta?", ".concat(O.meta):"");D.setAttribute("aria-label",P)}var I=D.querySelectorAll(".ace_completion-highlight");I.forEach(function(B){B.setAttribute("role","mark")})}}),w.renderer.on("afterRender",function(){var T=w.getRow(),A=w.renderer.$textLayer,$=A.element.childNodes[T-A.config.firstRow],D=document.activeElement;if($!==w.selectedNode&&w.selectedNode&&(c.removeCssClass(w.selectedNode,"ace_selected"),w.selectedNode.removeAttribute(g),w.selectedNode.removeAttribute("id")),D.removeAttribute("aria-activedescendant"),w.selectedNode=$,$){var O=f(T);c.addCssClass($,"ace_selected"),$.id=O,A.element.setAttribute("aria-activedescendant",O),D.setAttribute("aria-activedescendant",O),$.setAttribute(g,"true")}});var _=function(){R(-1)},R=function(T,A){T!==E.start.row&&(E.start.row=E.end.row=T,A||w.session._emit("changeBackMarker"),w._emit("changeHoverMarker"))};w.getHoveredRow=function(){return E.start.row},l.addListener(w.container,"mouseout",function(){w.isMouseOver=!1,_()}),w.on("hide",_),w.on("changeSelection",_),w.session.doc.getLength=function(){return w.data.length},w.session.doc.getLine=function(T){var A=w.data[T];return typeof A=="string"?A:A&&A.value||""};var M=w.session.bgTokenizer;return M.$tokenizeRow=function(T){var A=w.data[T],$=[];if(!A)return $;typeof A=="string"&&(A={value:A});var D=A.caption||A.value||A.name;function O(K,Q){K&&$.push({type:(A.className||"")+(Q||""),value:K})}for(var P=D.toLowerCase(),I=(w.filterText||"").toLowerCase(),B=0,Y=0,H=0;H<=I.length;H++)if(H!=Y&&(A.matchMask&1<<H||H==I.length)){var U=I.slice(Y,H);Y=H;var q=P.indexOf(U,B);if(q==-1)continue;O(D.slice(B,q),""),B=q+U.length,O(D.slice(q,B),"completion-highlight")}return O(D.slice(B,D.length),""),$.push({type:"completion-spacer",value:" "}),A.meta&&$.push({type:"completion-meta",value:A.meta}),A.message&&$.push({type:"completion-message",value:A.message}),$},M.$updateOnChange=k,M.start=k,w.session.$computeWidth=function(){return this.screenWidth=0},w.isOpen=!1,w.isTopdown=!1,w.autoSelect=!0,w.filterText="",w.isMouseOver=!1,w.data=[],w.setData=function(T,A){w.filterText=A||"",w.setValue(u.stringRepeat(`
`,T.length),-1),w.data=T||[],w.setRow(0)},w.getData=function(T){return w.data[T]},w.getRow=function(){return N.start.row},w.setRow=function(T){T=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,T)),N.start.row!=T&&(w.selection.clearSelection(),N.start.row=N.end.row=T||0,w.session._emit("changeBackMarker"),w.moveCursorTo(T||0,0),w.isOpen&&w._signal("select"))},w.on("changeSelection",function(){w.isOpen&&w.setRow(w.selection.lead.row),w.renderer.scrollCursorIntoView()}),w.hide=function(){this.container.style.display="none",w.anchorPos=null,w.anchor=null,w.isOpen&&(w.isOpen=!1,this._signal("hide"))},w.tryShow=function(T,A,$,D){if(!D&&w.isOpen&&w.anchorPos&&w.anchor&&w.anchorPos.top===T.top&&w.anchorPos.left===T.left&&w.anchor===$)return!0;var O=this.container,P=this.renderer.scrollBar.width||10,I=window.innerHeight-P,B=window.innerWidth-P,Y=this.renderer,H=Y.$maxLines*A*1.4,U={top:0,bottom:0},q=I-T.top-3*this.$borderSize-A,K=T.top-3*this.$borderSize;$||(K<=q||q>=H?$="bottom":$="top"),$==="top"?(U.bottom=T.top-this.$borderSize,U.top=U.bottom-H):$==="bottom"&&(U.top=T.top+A+this.$borderSize,U.bottom=U.top+H);var Q=U.top>=0&&U.bottom<=I;if(!D&&!Q)return!1;Q?Y.$maxPixelHeight=null:$==="top"?Y.$maxPixelHeight=K:Y.$maxPixelHeight=q,$==="top"?(O.style.top="",O.style.bottom=I+P-U.bottom+"px",w.isTopdown=!1):(O.style.top=U.top+"px",O.style.bottom="",w.isTopdown=!0),O.style.display="";var ee=T.left;return ee+O.offsetWidth>B&&(ee=B-O.offsetWidth),O.style.left=ee+"px",O.style.right="",w.isOpen||(w.isOpen=!0,this._signal("show"),L=null),w.anchorPos=T,w.anchor=$,!0},w.show=function(T,A,$){this.tryShow(T,A,$?"bottom":void 0,!0)},w.goTo=function(T){var A=this.getRow(),$=this.session.getLength()-1;switch(T){case"up":A=A<=0?$:A-1;break;case"down":A=A>=$?-1:A+1;break;case"start":A=0;break;case"end":A=$;break}this.setRow(A)},w.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},w.$imageSize=0,w.$borderSize=1,w}return C}();c.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=b,r.$singleLineEditor=y,r.getAriaId=f}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,r,i){var s=function(){function o(a){this.editor=a,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return o.prototype.setScreenReaderContent=function(a){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var u=this.popup.getRow(),c=this.popup.renderer.$textLayer,h=c.element.childNodes[u-c.config.firstRow];if(h){for(var d="doc-tooltip ",f=0;f<this._lines.length;f++)d+="ace-inline-screenreader-line-".concat(f," ");h.setAttribute("aria-describedby",d)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=a.split(/\r\n|\r|\n/);var l=this.createCodeBlock();this.screenReaderDiv.appendChild(l)},o.prototype.destroy=function(){this.screenReaderDiv.remove()},o.prototype.createCodeBlock=function(){var a=document.createElement("pre");a.setAttribute("id","ace-inline-screenreader");for(var l=0;l<this._lines.length;l++){var u=document.createElement("code");u.setAttribute("id","ace-inline-screenreader-line-".concat(l));var c=document.createTextNode(this._lines[l]);u.appendChild(c),a.appendChild(u)}return a},o}();r.AceInlineScreenReader=s}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,r,i){var s=n("../snippets").snippetManager,o=n("./inline_screenreader").AceInlineScreenReader,a=function(){function l(){this.editor=null}return l.prototype.show=function(u,c,h){if(h=h||"",u&&this.editor&&this.editor!==u&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!u||!c)return!1;this.inlineScreenReader||(this.inlineScreenReader=new o(u));var d=c.snippet?s.getDisplayTextForSnippet(u,c.snippet):c.value;return c.hideInlinePreview||!d||!d.startsWith(h)?!1:(this.editor=u,this.inlineScreenReader.setScreenReaderContent(d),d=d.slice(h.length),d===""?u.removeGhostText():u.setGhostText(d),!0)},l.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},l.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},l.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},l}();r.AceInline=a}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,r,i){r.parForEach=function(o,a,l){var u=0,c=o.length;c===0&&l();for(var h=0;h<c;h++)a(o[h],function(d,f){u++,u===c&&l(d,f)})};var s=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(o,a,l){l=l||s;for(var u=[],c=a-1;c>=0&&l.test(o[c]);c--)u.push(o[c]);return u.reverse().join("")},r.retrieveFollowingIdentifier=function(o,a,l){l=l||s;for(var u=[],c=a;c<o.length&&l.test(o[c]);c++)u.push(o[c]);return u},r.getCompletionPrefix=function(o){var a=o.getCursorPosition(),l=o.session.getLine(a.row),u;return o.completers.forEach((function(c){c.identifierRegexps&&c.identifierRegexps.forEach((function(h){!u&&h&&(u=this.retrievePrecedingIdentifier(l,a.column,h))}).bind(this))}).bind(this)),u||this.retrievePrecedingIdentifier(l,a.column)},r.triggerAutocomplete=function(o,l){var l=l??o.session.getPrecedingCharacter();return o.completers.some(function(u){if(u.triggerCharacters&&Array.isArray(u.triggerCharacters))return u.triggerCharacters.includes(l)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,r,i){var s=n("./keyboard/hash_handler").HashHandler,o=n("./autocomplete/popup").AcePopup,a=n("./autocomplete/inline").AceInline,l=n("./autocomplete/popup").getAriaId,u=n("./autocomplete/util"),c=n("./lib/lang"),h=n("./lib/dom"),d=n("./snippets").snippetManager,f=n("./config"),p=n("./lib/event"),m=n("./lib/scroll").preventParentScroll,g=function(x,S){S.completer&&S.completer.destroy()},y=function(){function x(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new s,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall((function(){var S=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!S||this.editor.completers.length===0||(this.completions=new C(x.completionsForLoading),this.openPopup(this.editor,S.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(x,"completionsForLoading",{get:function(){return[{caption:f.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),x.prototype.$init=function(){return this.popup=new o(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(S){this.insertMatch(),S.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),p.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},x.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new a,this.inlineRenderer},x.prototype.getPopup=function(){return this.popup||this.$init()},x.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},x.prototype.$seen=function(S){!this.hasSeen.has(S)&&S&&S.completer&&S.completer.onSeen&&typeof S.completer.onSeen=="function"&&(S.completer.onSeen(this.editor,S),this.hasSeen.add(S))},x.prototype.$onPopupChange=function(S){if(this.inlineRenderer&&this.inlineEnabled){var w=S?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(w),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},x.prototype.$updateGhostText=function(S){var w=this.base.row,k=this.base.column,L=this.editor.getCursorPosition().column,E=this.editor.session.getLine(w).slice(k,L);this.inlineRenderer.show(this.editor,S,E)?this.$seen(S):this.inlineRenderer.hide()},x.prototype.$onPopupRender=function(){var S=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var w=this.popup.getFirstVisibleRow();w<=this.popup.getLastVisibleRow();w++){var k=this.popup.getData(w);k&&(!S||k.hideInlinePreview)&&this.$seen(k)}},x.prototype.$onPopupShow=function(S){this.$onPopupChange(S),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},x.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var S=this.editor.container.parentNode,w=[];S;)w.push(S),S.addEventListener("scroll",this.onLayoutChange,{passive:!0}),S=S.parentNode;this.$elements=w}},x.prototype.unObserveLayoutChanges=function(){var S=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(w){w.removeEventListener("scroll",S.onLayoutChange,{passive:!0})}),this.$elements=null},x.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},x.prototype.$updatePopupPosition=function(){var S=this.editor,w=S.renderer,k=w.layerConfig.lineHeight,L=w.$cursorLayer.getPixelPosition(this.base,!0);L.left-=this.popup.getTextLeftOffset();var E=S.container.getBoundingClientRect();L.top+=E.top-w.layerConfig.offset,L.left+=E.left-S.renderer.scrollLeft,L.left+=w.gutterWidth;var N={top:L.top,left:L.left};w.$ghostText&&w.$ghostTextWidget&&this.base.row===w.$ghostText.position.row&&(N.top+=w.$ghostTextWidget.el.offsetHeight);var _=S.container.getBoundingClientRect().bottom-k,R=_<N.top?{top:_,left:N.left}:N;this.popup.tryShow(R,k,"bottom")||this.popup.tryShow(L,k,"top")||this.popup.show(L,k)},x.prototype.openPopup=function(S,w,k){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var L=this.popup.getRow(),E=this.popup.data[L];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:l(this.popup.getRow()),inline:this.inlineEnabled}),S.keyBinding.addKeyboardHandler(this.keyboardHandler);var N;this.stickySelection&&(N=this.popup.data.indexOf(E)),(!N||N===-1)&&(N=0),this.popup.setRow(this.autoSelect?N:-1),N===L&&E!==this.completions.filtered[N]&&this.$onPopupChange();var _=this.inlineRenderer&&this.inlineEnabled;if(N===L&&_){var R=this.popup.getData(this.popup.getRow());this.$updateGhostText(R)}k||(this.popup.setTheme(S.getTheme()),this.popup.setFontSize(S.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},x.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},x.prototype.changeListener=function(S){var w=this.editor.selection.lead;(w.row!=this.base.row||w.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},x.prototype.blurListener=function(S){var w=document.activeElement,k=this.editor.textInput.getElement(),L=S.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(S.relatedTarget),E=this.popup&&this.popup.container;w!=k&&w.parentNode!=E&&!L&&w!=this.tooltipNode&&S.relatedTarget!=k&&this.detach()},x.prototype.mousedownListener=function(S){this.detach()},x.prototype.mousewheelListener=function(S){this.popup&&!this.popup.isMouseOver&&this.detach()},x.prototype.mouseOutListener=function(S){this.popup.isOpen&&this.$updatePopupPosition()},x.prototype.goTo=function(S){this.popup.goTo(S)},x.prototype.insertMatch=function(S,w){if(S||(S=this.popup.getData(this.popup.getRow())),!S)return!1;if(S.value==="")return this.detach();var k=this.completions,L=this.getCompletionProvider().insertMatch(this.editor,S,k.filterText,w);return this.completions==k&&this.detach(),L},x.prototype.showPopup=function(S,w){this.editor&&this.detach(),this.activated=!0,this.editor=S,S.completer!=this&&(S.completer&&S.completer.detach(),S.completer=this),S.on("changeSelection",this.changeListener),S.on("blur",this.blurListener),S.on("mousedown",this.mousedownListener),S.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,w)},x.prototype.getCompletionProvider=function(S){return this.completionProvider||(this.completionProvider=new b(S)),this.completionProvider},x.prototype.gatherCompletions=function(S,w){return this.getCompletionProvider().gatherCompletions(S,w)},x.prototype.updateCompletions=function(S,w){if(S&&this.base&&this.completions){var L=this.editor.getCursorPosition(),E=this.editor.session.getTextRange({start:this.base,end:L});if(E==this.completions.filterText)return;if(this.completions.setFilter(E),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==E&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,E,S);return}if(w&&w.matches){var L=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(L.row,L.column),this.base.$insertRight=!0,this.completions=new C(w.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",S)}var k=this.editor.getSession(),L=this.editor.getCursorPosition(),E=u.getCompletionPrefix(this.editor);this.base=k.doc.createAnchor(L.row,L.column-E.length),this.base.$insertRight=!0;var N={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:E,pos:L}).provideCompletions(this.editor,N,(function(_,R,M){var T=R.filtered,A=u.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),M){if(!T.length){var $=!this.autoShown&&this.emptyMessage;if(typeof $=="function"&&($=this.emptyMessage(A)),$){var D=[{caption:$,value:""}];this.completions=new C(D),this.openPopup(this.editor,A,S),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(T.length==1&&T[0].value==A&&!T[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&T.length==1)return this.insertMatch(T[0])}this.completions=!M&&this.showLoadingState?new C(x.completionsForLoading.concat(T),R.filterText):R,this.openPopup(this.editor,A,S),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!M)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},x.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},x.prototype.updateDocTooltip=function(){var S=this.popup,w=this.completions&&this.completions.filtered,k=w&&(w[S.getHoveredRow()]||w[S.getRow()]),L=null;if(!k||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var E=this.editor.completers.length,N=0;N<E;N++){var _=this.editor.completers[N];if(_.getDocTooltip&&k.completerId===_.id){L=_.getDocTooltip(k);break}}if(!L&&typeof k!="string"&&(L=k),typeof L=="string"&&(L={docText:L}),!L||!(L.docHTML||L.docText))return this.hideDocTooltip();this.showDocTooltip(L)},x.prototype.showDocTooltip=function(S){this.tooltipNode||(this.tooltipNode=h.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",m));var w=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(w.isDark?"ace_dark ":"")+(w.cssClass||"");var k=this.tooltipNode;S.docHTML?k.innerHTML=S.docHTML:S.docText&&(k.textContent=S.docText),k.parentNode||this.popup.container.appendChild(this.tooltipNode);var L=this.popup,E=L.container.getBoundingClientRect(),N=400,_=300,R=L.renderer.scrollBar.width||10,M=E.left,T=window.innerWidth-E.right-R,A=L.isTopdown?E.top:window.innerHeight-R-E.bottom,$=[Math.min(T/N,1),Math.min(M/N,1),Math.min(A/_*.9)],D=Math.max.apply(Math,$),O=k.style;O.display="block",D==$[0]?(O.left=E.right+1+"px",O.right="",O.maxWidth=N*D+"px",O.top=E.top+"px",O.bottom="",O.maxHeight=Math.min(window.innerHeight-R-E.top,_)+"px"):D==$[1]?(O.right=window.innerWidth-E.left+"px",O.left="",O.maxWidth=N*D+"px",O.top=E.top+"px",O.bottom="",O.maxHeight=Math.min(window.innerHeight-R-E.top,_)+"px"):D==$[2]&&(O.left=window.innerWidth-E.left+"px",O.maxWidth=Math.min(N,window.innerWidth)+"px",L.isTopdown?(O.top=E.bottom+"px",O.left=E.left+"px",O.right="",O.bottom="",O.maxHeight=Math.min(window.innerHeight-R-E.bottom,_)+"px"):(O.top=L.container.offsetTop-k.offsetHeight+"px",O.left=E.left+"px",O.right="",O.bottom="",O.maxHeight=Math.min(L.container.offsetTop,_)+"px"))},x.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var S=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==S&&this.editor.focus(),this.tooltipNode=null,S.parentNode&&S.parentNode.removeChild(S)}},x.prototype.onTooltipClick=function(S){for(var w=S.target;w&&w!=this.tooltipNode;){if(w.nodeName=="A"&&w.href){w.rel="noreferrer",w.target="_blank";break}w=w.parentNode}},x.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var S=this.popup.container;S&&S.parentNode&&S.parentNode.removeChild(S)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",g),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},x.for=function(S){return S.completer instanceof x||(S.completer&&(S.completer.destroy(),S.completer=null),f.get("sharedPopups")?(x.$sharedInstance||(x.$sharedInstance=new x),S.completer=x.$sharedInstance):(S.completer=new x,S.once("destroy",g))),S.completer},x}();y.prototype.commands={Up:function(x){x.completer.goTo("up")},Down:function(x){x.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(x){x.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(x){x.completer.goTo("end")},Esc:function(x){x.completer.detach()},Return:function(x){return x.completer.insertMatch()},"Shift-Return":function(x){x.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(x){var S=x.completer.insertMatch();if(!S&&!x.tabstopManager)x.completer.goTo("down");else return S},Backspace:function(x){x.execCommand("backspace");var S=u.getCompletionPrefix(x);!S&&x.completer&&x.completer.detach()},PageUp:function(x){x.completer.popup.gotoPageUp()},PageDown:function(x){x.completer.popup.gotoPageDown()}},y.startCommand={name:"startAutocomplete",exec:function(x,S){var w=y.for(x);w.autoInsert=!1,w.autoSelect=!0,w.autoShown=!1,w.showPopup(x,S),w.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var b=function(){function x(S){this.initialPosition=S,this.active=!0}return x.prototype.insertByIndex=function(S,w,k){return!this.completions||!this.completions.filtered?!1:this.insertMatch(S,this.completions.filtered[w],k)},x.prototype.insertMatch=function(S,w,k){if(!w)return!1;if(S.startOperation({command:{name:"insertMatch"}}),w.completer&&w.completer.insertMatch)w.completer.insertMatch(S,w);else{if(!this.completions)return!1;var L=this.completions.filterText.length,E=0;if(w.range&&w.range.start.row===w.range.end.row&&(L-=this.initialPosition.prefix.length,L+=this.initialPosition.pos.column-w.range.start.column,E+=w.range.end.column-this.initialPosition.pos.column),L||E){var N;S.selection.getAllRanges?N=S.selection.getAllRanges():N=[S.getSelectionRange()];for(var _=0,R;R=N[_];_++)R.start.column-=L,R.end.column+=E,S.session.remove(R)}w.snippet?d.insertSnippet(S,w.snippet):this.$insertString(S,w),w.completer&&w.completer.onInsert&&typeof w.completer.onInsert=="function"&&w.completer.onInsert(S,w),w.command&&w.command==="startAutocomplete"&&S.execCommand(w.command)}return S.endOperation(),!0},x.prototype.$insertString=function(S,w){var k=w.value||w;S.execCommand("insertstring",k)},x.prototype.gatherCompletions=function(S,w){var k=S.getSession(),L=S.getCursorPosition(),E=u.getCompletionPrefix(S),N=[];this.completers=S.completers;var _=S.completers.length;return S.completers.forEach(function(R,M){R.getCompletions(S,k,L,E,function(T,A){R.hideInlinePreview&&(A=A.map(function($){return Object.assign($,{hideInlinePreview:R.hideInlinePreview})})),!T&&A&&(N=N.concat(A)),w(null,{prefix:u.getCompletionPrefix(S),matches:N,finished:--_===0})})}),!0},x.prototype.provideCompletions=function(S,w,k){var L=(function(R){var M=R.prefix,T=R.matches;this.completions=new C(T),w.exactMatch&&(this.completions.exactMatch=!0),w.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(M),(R.finished||this.completions.filtered.length)&&k(null,this.completions,R.finished)}).bind(this),E=!0,N=null;if(this.gatherCompletions(S,(function(R,M){if(this.active){R&&(k(R,[],!0),this.detach());var T=M.prefix;if(T.indexOf(M.prefix)===0){if(E){N=M;return}L(M)}}}).bind(this)),E=!1,N){var _=N;N=null,L(_)}},x.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(S){typeof S.cancel=="function"&&S.cancel()})},x}(),C=function(){function x(S,w){this.all=S,this.filtered=S,this.filterText=w||"",this.exactMatch=!1,this.ignoreCaption=!1}return x.prototype.setFilter=function(S){if(S.length>this.filterText&&S.lastIndexOf(this.filterText,0)===0)var w=this.filtered;else var w=this.all;this.filterText=S,w=this.filterCompletions(w,this.filterText),w=w.sort(function(L,E){return E.exactMatch-L.exactMatch||E.$score-L.$score||(L.caption||L.value).localeCompare(E.caption||E.value)});var k=null;w=w.filter(function(L){var E=L.snippet||L.caption||L.value;return E===k?!1:(k=E,!0)}),this.filtered=w},x.prototype.filterCompletions=function(S,w){var k=[],L=w.toUpperCase(),E=w.toLowerCase();e:for(var N=0,_;_=S[N];N++){if(_.skipFilter){_.$score=_.score,k.push(_);continue}var R=!this.ignoreCaption&&_.caption||_.value||_.snippet;if(R){var M=-1,T=0,A=0,$,D;if(this.exactMatch){if(w!==R.substr(0,w.length))continue e}else{var O=R.toLowerCase().indexOf(E);if(O>-1)A=O;else for(var P=0;P<w.length;P++){var I=R.indexOf(E[P],M+1),B=R.indexOf(L[P],M+1);if($=I>=0&&(B<0||I<B)?I:B,$<0)continue e;D=$-M-1,D>0&&(M===-1&&(A+=10),A+=D,T=T|1<<P),M=$}}_.matchMask=T,_.exactMatch=A?0:1,_.$score=(_.score||0)-A,k.push(_)}}return k},x}();r.Autocomplete=y,r.CompletionProvider=b,r.FilteredList=C}),ace.define("ace/marker_group",["require","exports","module"],function(n,r,i){var s=function(){function o(a,l){l&&(this.markerType=l.markerType),this.markers=[],this.session=a,a.addDynamicMarker(this)}return o.prototype.getMarkerAtPosition=function(a){return this.markers.find(function(l){return l.range.contains(a.row,a.column)})},o.prototype.markersComparator=function(a,l){return a.range.start.row-l.range.start.row},o.prototype.setMarkers=function(a){this.markers=a.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},o.prototype.update=function(a,l,u,c){if(!(!this.markers||!this.markers.length))for(var h=c.firstRow,d=c.lastRow,f,p=0,m=0,g=0;g<this.markers.length;g++){var y=this.markers[g];if(!(y.range.end.row<h)&&!(y.range.start.row>d)&&(y.range.start.row===m?p++:(m=y.range.start.row,p=0),!(p>200))){var b=y.range.clipRows(h,d);if(!(b.start.row===b.end.row&&b.start.column===b.end.column)){var C=b.toScreenRange(u);if(C.isEmpty()){f=u.getNextFoldLine(b.end.row,f),f&&f.end.row>b.end.row&&(h=f.end.row);continue}this.markerType==="fullLine"?l.drawFullLineMarker(a,C,y.className,c):C.isMultiLine()?this.markerType==="line"?l.drawMultiLineMarker(a,C,y.className,c):l.drawTextMarker(a,C,y.className,c):l.drawSingleLineMarker(a,C,y.className+" ace_br15",c)}}}},o}();s.prototype.MAX_MARKERS=1e4,r.MarkerGroup=s}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,r,i){var s=n("../range").Range,o=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function a(u,c){var h=u.getTextRange(s.fromPoints({row:0,column:0},c));return h.split(o).length-1}function l(u,c){var h=a(u,c),d=u.getValue().split(o),f=Object.create(null),p=d[h];return d.forEach(function(m,g){if(!(!m||m===p)){var y=Math.abs(h-g),b=d.length-y;f[m]?f[m]=Math.max(b,f[m]):f[m]=b}}),f}r.getCompletions=function(u,c,h,d,f){var p=l(c,h),m=Object.keys(p);f(null,m.map(function(g){return{caption:g,value:g,score:p[g],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,r,i){var s=n("../snippets").snippetManager,o=n("../autocomplete").Autocomplete,a=n("../config"),l=n("../lib/lang"),u=n("../autocomplete/util"),c=n("../marker_group").MarkerGroup,h=n("../autocomplete/text_completer"),d={getCompletions:function(E,N,_,R,M){if(N.$mode.completer)return N.$mode.completer.getCompletions(E,N,_,R,M);var T=E.session.getState(_.row),A=N.$mode.getCompletions(T,N,_,R);A=A.map(function($){return $.completerId=d.id,$}),M(null,A)},id:"keywordCompleter"},f=function(E){var N={};return E.replace(/\${(\d+)(:(.*?))?}/g,function(_,R,M,T){return N[R]=T||""}).replace(/\$(\d+?)/g,function(_,R){return N[R]})},p={getCompletions:function(E,N,_,R,M){var T=[],A=N.getTokenAt(_.row,_.column);A&&A.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?T.push("html-tag"):T=s.getActiveScopes(E);var $=s.snippetMap,D=[];T.forEach(function(O){for(var P=$[O]||[],I=P.length;I--;){var B=P[I],Y=B.name||B.tabTrigger;Y&&D.push({caption:Y,snippet:B.content,meta:B.tabTrigger&&!B.name?B.tabTrigger+"⇥ ":"snippet",completerId:p.id})}},this),M(null,D)},getDocTooltip:function(E){E.snippet&&!E.docHTML&&(E.docHTML=["<b>",l.escapeHTML(E.caption),"</b>","<hr></hr>",l.escapeHTML(f(E.snippet))].join(""))},id:"snippetCompleter"},m=[p,h,d];r.setCompleters=function(E){m.length=0,E&&m.push.apply(m,E)},r.addCompleter=function(E){m.push(E)},r.textCompleter=h,r.keyWordCompleter=d,r.snippetCompleter=p;var g={name:"expandSnippet",exec:function(E){return s.expandWithTab(E)},bindKey:"Tab"},y=function(E,N){b(N.session.$mode)},b=function(E){typeof E=="string"&&(E=a.$modes[E]),E&&(s.files||(s.files={}),C(E.$id,E.snippetFileId),E.modes&&E.modes.forEach(b))},C=function(E,N){!N||!E||s.files[E]||(s.files[E]={},a.loadModule(N,function(_){_&&(s.files[E]=_,!_.snippets&&_.snippetText&&(_.snippets=s.parseSnippetFile(_.snippetText)),s.register(_.snippets||[],_.scope),_.includeScopes&&(s.snippetMap[_.scope].includeScopes=_.includeScopes,_.includeScopes.forEach(function(R){b("ace/mode/"+R)})))}))},x=function(E){var N=E.editor,_=N.completer&&N.completer.activated;if(E.command.name==="backspace")_&&!u.getCompletionPrefix(N)&&N.completer.detach();else if(E.command.name==="insertstring"&&!_){S=E;var R=E.editor.$liveAutocompletionDelay;R?w.delay(R):k(E)}},S,w=l.delayedCall(function(){k(S)},0),k=function(E){var N=E.editor,_=u.getCompletionPrefix(N),R=E.args,M=u.triggerAutocomplete(N,R);if(_&&_.length>=N.$liveAutocompletionThreshold||M){var T=o.for(N);T.autoShown=!0,T.showPopup(N)}},L=n("../editor").Editor;n("../config").defineOptions(L.prototype,"editor",{enableBasicAutocompletion:{set:function(E){E?(o.for(this),this.completers||(this.completers=Array.isArray(E)?E:m),this.commands.addCommand(o.startCommand)):this.commands.removeCommand(o.startCommand)},value:!1},enableLiveAutocompletion:{set:function(E){E?(this.completers||(this.completers=Array.isArray(E)?E:m),this.commands.on("afterExec",x)):this.commands.off("afterExec",x)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(E){E?(this.commands.addCommand(g),this.on("changeMode",y),y(null,this)):(this.commands.removeCommand(g),this.off("changeMode",y))},value:!1}}),r.MarkerGroup=c}),function(){ace.require(["ace/ext/language_tools"],function(n){t&&(t.exports=n)})}()})(bq);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function G_(t){return typeof t>"u"||t===null}function xq(t){return typeof t=="object"&&t!==null}function wq(t){return Array.isArray(t)?t:G_(t)?[]:[t]}function Sq(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function Cq(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function kq(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Aq=G_,Eq=xq,Tq=wq,Mq=Cq,Nq=kq,Rq=Sq,Wn={isNothing:Aq,isObject:Eq,toArray:Tq,repeat:Mq,isNegativeZero:Nq,extend:Rq};function q_(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Xh(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=q_(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Xh.prototype=Object.create(Error.prototype);Xh.prototype.constructor=Xh;Xh.prototype.toString=function(e){return this.name+": "+q_(this,e)};var Fr=Xh;function E0(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"→")+o,pos:r-e+s.length}}function T0(t,e){return Wn.repeat(" ",e-t.length)+t}function Lq(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,u,c=Math.min(t.line+e.linesAfter,i.length).toString().length,h=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=E0(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),h),a=Wn.repeat(" ",e.indent)+T0((t.line-l+1).toString(),c)+" | "+u.str+`
`+a;for(u=E0(t.buffer,r[o],i[o],t.position,h),a+=Wn.repeat(" ",e.indent)+T0((t.line+1).toString(),c)+" | "+u.str+`
`,a+=Wn.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)u=E0(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),h),a+=Wn.repeat(" ",e.indent)+T0((t.line+l+1).toString(),c)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var $q=Lq,Oq=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],_q=["scalar","sequence","mapping"];function jq(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function Dq(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(Oq.indexOf(n)===-1)throw new Fr('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=jq(e.styleAliases||null),_q.indexOf(this.kind)===-1)throw new Fr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var yr=Dq;function qA(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}function Pq(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function Ub(t){return this.extend(t)}Ub.prototype.extend=function(e){var n=[],r=[];if(e instanceof yr)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Fr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof yr))throw new Fr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Fr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Fr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof yr))throw new Fr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Ub.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=qA(i,"implicit"),i.compiledExplicit=qA(i,"explicit"),i.compiledTypeMap=Pq(i.compiledImplicit,i.compiledExplicit),i};var Iq=Ub,Fq=new yr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Bq=new yr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),zq=new yr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Hq=new Iq({explicit:[Fq,Bq,zq]});function Wq(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Uq(){return null}function Vq(t){return t===null}var Kq=new yr("tag:yaml.org,2002:null",{kind:"scalar",resolve:Wq,construct:Uq,predicate:Vq,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Gq(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function qq(t){return t==="true"||t==="True"||t==="TRUE"}function Yq(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Qq=new yr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Gq,construct:qq,predicate:Yq,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Jq(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Xq(t){return 48<=t&&t<=55}function Zq(t){return 48<=t&&t<=57}function eY(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!Jq(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!Xq(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!Zq(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function tY(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function nY(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Wn.isNegativeZero(t)}var rY=new yr("tag:yaml.org,2002:int",{kind:"scalar",resolve:eY,construct:tY,predicate:nY,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),iY=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function sY(t){return!(t===null||!iY.test(t)||t[t.length-1]==="_")}function oY(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var aY=/^[-+]?[0-9]+e/;function lY(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Wn.isNegativeZero(t))return"-0.0";return n=t.toString(10),aY.test(n)?n.replace("e",".e"):n}function cY(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Wn.isNegativeZero(t))}var uY=new yr("tag:yaml.org,2002:float",{kind:"scalar",resolve:sY,construct:oY,predicate:cY,represent:lY,defaultStyle:"lowercase"}),hY=Hq.extend({implicit:[Kq,Qq,rY,uY]}),dY=hY,Y_=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Q_=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function fY(t){return t===null?!1:Y_.exec(t)!==null||Q_.exec(t)!==null}function pY(t){var e,n,r,i,s,o,a,l=0,u=null,c,h,d;if(e=Y_.exec(t),e===null&&(e=Q_.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],h=+(e[11]||0),u=(c*60+h)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,r,i,s,o,a,l)),u&&d.setTime(d.getTime()-u),d}function mY(t){return t.toISOString()}var gY=new yr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:fY,construct:pY,instanceOf:Date,represent:mY});function vY(t){return t==="<<"||t===null}var yY=new yr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:vY}),g1=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bY(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=g1;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function xY(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=g1,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function wY(t){var e="",n=0,r,i,s=t.length,o=g1;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function SY(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var CY=new yr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bY,construct:xY,predicate:SY,represent:wY}),kY=Object.prototype.hasOwnProperty,AY=Object.prototype.toString;function EY(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,AY.call(i)!=="[object Object]")return!1;for(s in i)if(kY.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function TY(t){return t!==null?t:[]}var MY=new yr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:EY,construct:TY}),NY=Object.prototype.toString;function RY(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],NY.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function LY(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var $Y=new yr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:RY,construct:LY}),OY=Object.prototype.hasOwnProperty;function _Y(t){if(t===null)return!0;var e,n=t;for(e in n)if(OY.call(n,e)&&n[e]!==null)return!1;return!0}function jY(t){return t!==null?t:{}}var DY=new yr("tag:yaml.org,2002:set",{kind:"mapping",resolve:_Y,construct:jY}),J_=dY.extend({implicit:[gY,yY],explicit:[CY,MY,$Y,DY]}),ba=Object.prototype.hasOwnProperty,Nm=1,X_=2,Z_=3,Rm=4,M0=1,PY=2,YA=3,IY=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,FY=/[\x85\u2028\u2029]/,BY=/[,\[\]\{\}]/,ej=/^(?:!|!!|![a-z\-]+!)$/i,tj=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function QA(t){return Object.prototype.toString.call(t)}function Ds(t){return t===10||t===13}function rl(t){return t===9||t===32}function Vr(t){return t===9||t===32||t===10||t===13}function lc(t){return t===44||t===91||t===93||t===123||t===125}function zY(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function HY(t){return t===120?2:t===117?4:t===85?8:0}function WY(t){return 48<=t&&t<=57?t-48:-1}function JA(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function UY(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var nj=new Array(256),rj=new Array(256);for(var Il=0;Il<256;Il++)nj[Il]=JA(Il)?1:0,rj[Il]=JA(Il);function VY(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||J_,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ij(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=$q(n),new Fr(e,n)}function Qe(t,e){throw ij(t,e)}function Lm(t,e){t.onWarning&&t.onWarning.call(null,ij(t,e))}var XA={YAML:function(e,n,r){var i,s,o;e.version!==null&&Qe(e,"duplication of %YAML directive"),r.length!==1&&Qe(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Qe(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&Qe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Lm(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&Qe(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],ej.test(i)||Qe(e,"ill-formed tag handle (first argument) of the TAG directive"),ba.call(e.tagMap,i)&&Qe(e,'there is a previously declared suffix for "'+i+'" tag handle'),tj.test(s)||Qe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Qe(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function ca(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||Qe(t,"expected valid JSON character");else IY.test(a)&&Qe(t,"the stream contains non-printable characters");t.result+=a}}function ZA(t,e,n,r){var i,s,o,a;for(Wn.isObject(n)||Qe(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],ba.call(e,s)||(e[s]=n[s],r[s]=!0)}function cc(t,e,n,r,i,s,o,a,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&Qe(t,"nested arrays are not supported inside keys"),typeof i=="object"&&QA(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&QA(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)ZA(t,e,s[u],n);else ZA(t,e,s,n);else!t.json&&!ba.call(n,i)&&ba.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,Qe(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function v1(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Qe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Dn(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;rl(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Ds(i))for(v1(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Lm(t,"deficient indentation"),r}function Bg(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Vr(n)))}function y1(t,e){e===1?t.result+=" ":e>1&&(t.result+=Wn.repeat(`
`,e-1))}function KY(t,e,n){var r,i,s,o,a,l,u,c,h=t.kind,d=t.result,f;if(f=t.input.charCodeAt(t.position),Vr(f)||lc(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=t.input.charCodeAt(t.position+1),Vr(i)||n&&lc(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;f!==0;){if(f===58){if(i=t.input.charCodeAt(t.position+1),Vr(i)||n&&lc(i))break}else if(f===35){if(r=t.input.charCodeAt(t.position-1),Vr(r))break}else{if(t.position===t.lineStart&&Bg(t)||n&&lc(f))break;if(Ds(f))if(l=t.line,u=t.lineStart,c=t.lineIndent,Dn(t,!1,-1),t.lineIndent>=e){a=!0,f=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=c;break}}a&&(ca(t,s,o,!1),y1(t,t.line-l),s=o=t.position,a=!1),rl(f)||(o=t.position+1),f=t.input.charCodeAt(++t.position)}return ca(t,s,o,!1),t.result?!0:(t.kind=h,t.result=d,!1)}function GY(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(ca(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Ds(n)?(ca(t,r,i,!0),y1(t,Dn(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Bg(t)?Qe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Qe(t,"unexpected end of the stream within a single quoted scalar")}function qY(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return ca(t,n,t.position,!0),t.position++,!0;if(a===92){if(ca(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),Ds(a))Dn(t,!1,e);else if(a<256&&nj[a])t.result+=rj[a],t.position++;else if((o=HY(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=zY(a))>=0?s=(s<<4)+o:Qe(t,"expected hexadecimal character");t.result+=UY(s),t.position++}else Qe(t,"unknown escape sequence");n=r=t.position}else Ds(a)?(ca(t,n,r,!0),y1(t,Dn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Bg(t)?Qe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Qe(t,"unexpected end of the stream within a double quoted scalar")}function YY(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,u,c,h,d,f,p=Object.create(null),m,g,y,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,f=!1,a=[];else if(b===123)c=125,f=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),b=t.input.charCodeAt(++t.position);b!==0;){if(Dn(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=o,t.anchor=l,t.kind=f?"mapping":"sequence",t.result=a,!0;n?b===44&&Qe(t,"expected the node content, but found ','"):Qe(t,"missed comma between flow collection entries"),g=m=y=null,h=d=!1,b===63&&(u=t.input.charCodeAt(t.position+1),Vr(u)&&(h=d=!0,t.position++,Dn(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,nu(t,e,Nm,!1,!0),g=t.tag,m=t.result,Dn(t,!0,e),b=t.input.charCodeAt(t.position),(d||t.line===r)&&b===58&&(h=!0,b=t.input.charCodeAt(++t.position),Dn(t,!0,e),nu(t,e,Nm,!1,!0),y=t.result),f?cc(t,a,p,g,m,y,r,i,s):h?a.push(cc(t,null,p,g,m,y,r,i,s)):a.push(m),Dn(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(n=!0,b=t.input.charCodeAt(++t.position)):n=!1}Qe(t,"unexpected end of the stream within a flow collection")}function QY(t,e){var n,r,i=M0,s=!1,o=!1,a=e,l=0,u=!1,c,h;if(h=t.input.charCodeAt(t.position),h===124)r=!1;else if(h===62)r=!0;else return!1;for(t.kind="scalar",t.result="";h!==0;)if(h=t.input.charCodeAt(++t.position),h===43||h===45)M0===i?i=h===43?YA:PY:Qe(t,"repeat of a chomping mode identifier");else if((c=WY(h))>=0)c===0?Qe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Qe(t,"repeat of an indentation width identifier"):(a=e+c-1,o=!0);else break;if(rl(h)){do h=t.input.charCodeAt(++t.position);while(rl(h));if(h===35)do h=t.input.charCodeAt(++t.position);while(!Ds(h)&&h!==0)}for(;h!==0;){for(v1(t),t.lineIndent=0,h=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&h===32;)t.lineIndent++,h=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Ds(h)){l++;continue}if(t.lineIndent<a){i===YA?t.result+=Wn.repeat(`
`,s?1+l:l):i===M0&&s&&(t.result+=`
`);break}for(r?rl(h)?(u=!0,t.result+=Wn.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Wn.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Wn.repeat(`
`,l):t.result+=Wn.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!Ds(h)&&h!==0;)h=t.input.charCodeAt(++t.position);ca(t,n,t.position,!1)}return!0}function eE(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qe(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Vr(o))));){if(a=!0,t.position++,Dn(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,nu(t,e,Z_,!1,!0),s.push(t.result),Dn(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)Qe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function JY(t,e,n){var r,i,s,o,a,l,u=t.tag,c=t.anchor,h={},d=Object.create(null),f=null,p=null,m=null,g=!1,y=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),b=t.input.charCodeAt(t.position);b!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qe(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&Vr(r))b===63?(g&&(cc(t,h,d,f,p,null,o,a,l),f=p=m=null),y=!0,g=!0,i=!0):g?(g=!1,i=!0):Qe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=r;else{if(o=t.line,a=t.lineStart,l=t.position,!nu(t,n,X_,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);rl(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),Vr(b)||Qe(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(cc(t,h,d,f,p,null,o,a,l),f=p=m=null),y=!0,g=!1,i=!1,f=t.tag,p=t.result;else if(y)Qe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(y)Qe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(g&&(o=t.line,a=t.lineStart,l=t.position),nu(t,e,Rm,!0,i)&&(g?p=t.result:m=t.result),g||(cc(t,h,d,f,p,m,o,a,l),f=p=m=null),Dn(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)Qe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&cc(t,h,d,f,p,null,o,a,l),y&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=h),y}function XY(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&Qe(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Qe(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Vr(o);)o===33&&(r?Qe(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),ej.test(i)||Qe(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),BY.test(s)&&Qe(t,"tag suffix cannot contain flow indicator characters")}s&&!tj.test(s)&&Qe(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Qe(t,"tag name is malformed: "+s)}return n?t.tag=s:ba.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Qe(t,'undeclared tag handle "'+i+'"'),!0}function ZY(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Qe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Vr(n)&&!lc(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Qe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function eQ(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Vr(r)&&!lc(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Qe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),ba.call(t.anchorMap,n)||Qe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Dn(t,!0,-1),!0}function nu(t,e,n,r,i){var s,o,a,l=1,u=!1,c=!1,h,d,f,p,m,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Rm===n||Z_===n,r&&Dn(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;XY(t)||ZY(t);)Dn(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||Rm===n)&&(Nm===n||X_===n?m=e:m=e+1,g=t.position-t.lineStart,l===1?a&&(eE(t,g)||JY(t,g,m))||YY(t,m)?c=!0:(o&&QY(t,m)||GY(t,m)||qY(t,m)?c=!0:eQ(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&Qe(t,"alias node should not have any properties")):KY(t,m,Nm===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=a&&eE(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Qe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),h=0,d=t.implicitTypes.length;h<d;h+=1)if(p=t.implicitTypes[h],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ba.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,f=t.typeMap.multi[t.kind||"fallback"],h=0,d=f.length;h<d;h+=1)if(t.tag.slice(0,f[h].tag.length)===f[h].tag){p=f[h];break}p||Qe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&Qe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Qe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function tQ(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(Dn(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!Vr(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Qe(t,"directive name must not be less than one character in length");o!==0;){for(;rl(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Ds(o));break}if(Ds(o))break;for(n=t.position;o!==0&&!Vr(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&v1(t),ba.call(XA,r)?XA[r](t,r,i):Lm(t,'unknown document directive "'+r+'"')}if(Dn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Dn(t,!0,-1)):s&&Qe(t,"directives end mark is expected"),nu(t,t.lineIndent-1,Rm,!1,!0),Dn(t,!0,-1),t.checkLineBreaks&&FY.test(t.input.slice(e,t.position))&&Lm(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Bg(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Dn(t,!0,-1));return}if(t.position<t.length-1)Qe(t,"end of the stream or a document separator is expected");else return}function nQ(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new VY(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Qe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)tQ(n);return n.documents}function rQ(t,e){var n=nQ(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Fr("expected a single document in the stream, but found more")}}var iQ=rQ,sQ={load:iQ},sj=Object.prototype.toString,oj=Object.prototype.hasOwnProperty,b1=65279,oQ=9,Zh=10,aQ=13,lQ=32,cQ=33,uQ=34,Vb=35,hQ=37,dQ=38,fQ=39,pQ=42,aj=44,mQ=45,$m=58,gQ=61,vQ=62,yQ=63,bQ=64,lj=91,cj=93,xQ=96,uj=123,wQ=124,hj=125,Sr={};Sr[0]="\\0";Sr[7]="\\a";Sr[8]="\\b";Sr[9]="\\t";Sr[10]="\\n";Sr[11]="\\v";Sr[12]="\\f";Sr[13]="\\r";Sr[27]="\\e";Sr[34]='\\"';Sr[92]="\\\\";Sr[133]="\\N";Sr[160]="\\_";Sr[8232]="\\L";Sr[8233]="\\P";var SQ=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],CQ=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function kQ(t,e){var n,r,i,s,o,a,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&oj.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}function AQ(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Fr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Wn.repeat("0",r-e.length)+e}var EQ=1,ed=2;function TQ(t){this.schema=t.schema||J_,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Wn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=kQ(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ed:EQ,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function tE(t,e){for(var n=Wn.repeat(" ",e),r=0,i=-1,s="",o,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=a):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function Kb(t,e){return`
`+Wn.repeat(" ",t.indent*e)}function MQ(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function Om(t){return t===lQ||t===oQ}function td(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==b1||65536<=t&&t<=1114111}function nE(t){return td(t)&&t!==b1&&t!==aQ&&t!==Zh}function rE(t,e,n){var r=nE(t),i=r&&!Om(t);return(n?r:r&&t!==aj&&t!==lj&&t!==cj&&t!==uj&&t!==hj)&&t!==Vb&&!(e===$m&&!i)||nE(e)&&!Om(e)&&t===Vb||e===$m&&i}function NQ(t){return td(t)&&t!==b1&&!Om(t)&&t!==mQ&&t!==yQ&&t!==$m&&t!==aj&&t!==lj&&t!==cj&&t!==uj&&t!==hj&&t!==Vb&&t!==dQ&&t!==pQ&&t!==cQ&&t!==wQ&&t!==gQ&&t!==vQ&&t!==fQ&&t!==uQ&&t!==hQ&&t!==bQ&&t!==xQ}function RQ(t){return!Om(t)&&t!==$m}function Gu(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function dj(t){var e=/^\n* /;return e.test(t)}var fj=1,Gb=2,pj=3,mj=4,Wl=5;function LQ(t,e,n,r,i,s,o,a){var l,u=0,c=null,h=!1,d=!1,f=r!==-1,p=-1,m=NQ(Gu(t,0))&&RQ(Gu(t,t.length-1));if(e||o)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Gu(t,l),!td(u))return Wl;m=m&&rE(u,c,a),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Gu(t,l),u===Zh)h=!0,f&&(d=d||l-p-1>r&&t[p+1]!==" ",p=l);else if(!td(u))return Wl;m=m&&rE(u,c,a),c=u}d=d||f&&l-p-1>r&&t[p+1]!==" "}return!h&&!d?m&&!o&&!i(t)?fj:s===ed?Wl:Gb:n>9&&dj(t)?Wl:o?s===ed?Wl:Gb:d?mj:pj}function $Q(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===ed?'""':"''";if(!t.noCompatMode&&(SQ.indexOf(e)!==-1||CQ.test(e)))return t.quotingType===ed?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return MQ(t,u)}switch(LQ(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,i)){case fj:return e;case Gb:return"'"+e.replace(/'/g,"''")+"'";case pj:return"|"+iE(e,t.indent)+sE(tE(e,s));case mj:return">"+iE(e,t.indent)+sE(tE(OQ(e,o),s));case Wl:return'"'+_Q(e)+'"';default:throw new Fr("impossible error: invalid scalar style")}}()}function iE(t,e){var n=dj(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function sE(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function OQ(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,oE(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!i&&!s&&l!==""?`
`:"")+oE(l,e),i=s}return r}function oE(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,a=0,l="";r=n.exec(t);)a=r.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1)}function _Q(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Gu(t,i),r=Sr[n],!r&&td(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||AQ(n);return e}function jQ(t,e,n){var r="",i=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(vo(t,e,a,!1,!1)||typeof a>"u"&&vo(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function aE(t,e,n,r){var i="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(vo(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&vo(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Kb(t,e)),t.dump&&Zh===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function DQ(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[o],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),vo(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),vo(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=i,t.dump="{"+r+"}"}function PQ(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),a,l,u,c,h,d;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Fr("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!r||i!=="")&&(d+=Kb(t,e)),u=o[a],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),vo(t,e+1,u,!0,!0,!0)&&(h=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,h&&(t.dump&&Zh===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,h&&(d+=Kb(t,e)),vo(t,e+1,c,!0,h)&&(t.dump&&Zh===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}"}function lE(t,e,n){var r,i,s,o,a,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,sj.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(oj.call(a.represent,l))r=a.represent[l](e,l);else throw new Fr("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function vo(t,e,n,r,i,s,o){t.tag=null,t.dump=n,lE(t,n,!1)||lE(t,n,!0);var a=sj.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=a==="[object Object]"||a==="[object Array]",h,d;if(c&&(h=t.duplicates.indexOf(n),d=h!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[h])t.dump="*ref_"+h;else{if(c&&d&&!t.usedDuplicates[h]&&(t.usedDuplicates[h]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(PQ(t,e,t.dump,i),d&&(t.dump="&ref_"+h+t.dump)):(DQ(t,e,t.dump),d&&(t.dump="&ref_"+h+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?aE(t,e-1,t.dump,i):aE(t,e,t.dump,i),d&&(t.dump="&ref_"+h+t.dump)):(jQ(t,e,t.dump),d&&(t.dump="&ref_"+h+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&$Q(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Fr("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function IQ(t,e){var n=[],r=[],i,s;for(qb(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function qb(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)qb(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)qb(t[r[i]],e,n)}function FQ(t,e){e=e||{};var n=new TQ(e);n.noRefs||IQ(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),vo(n,0,r,!0,!0)?n.dump+`
`:""}var BQ=FQ,zQ={dump:BQ},x1=sQ.load,gj=zQ.dump;function HQ({spec:t}){const e=j.useRef(null);return j.useEffect(()=>{if(!t)return;e.current&&(e.current.innerHTML="");const n=document.createElement("link");n.rel="stylesheet",n.href="https://unpkg.com/swagger-ui-dist/swagger-ui.css",document.head.appendChild(n);const r=document.createElement("style");r.innerHTML=".swagger-ui .topbar { display: none !important; }",document.head.appendChild(r);const i=document.createElement("script");return i.src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js",i.onload=()=>{window.SwaggerUIBundle&&window.SwaggerUIBundle({spec:t,dom_id:"#swagger-ui",deepLinking:!0,displayOperationId:!0,displayRequestDuration:!0})},document.body.appendChild(i),()=>{document.body.removeChild(i),document.head.removeChild(r),document.head.removeChild(n)}},[t]),v.jsx("div",{id:"swagger-ui",ref:e,style:{width:"100%",height:"80vh",background:"white"}})}function WQ(){var Jt,Kt,sn,Mt;const[t,e]=j.useState(`openapi: 3.0.3
info:
  title: Sample API
  version: 1.0.0
  description: A sample API to demonstrate OpenAPI specifications
  contact:
    name: API Support
    email: support@example.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
  - url: https://api.example.com/v1
    description: Production server
  - url: https://staging-api.example.com/v1
    description: Staging server
paths:
  /auth/signup:
    post:
      tags:
        - Authentication
      summary: Create new user account
      description: Register a new user account with email and password
      operationId: signup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserSignup'
            examples:
              valid_signup:
                summary: Valid signup request
                value:
                  email: "user@example.com"
                  password: "strongpassword123"
                  name: "John Doe"
      responses:
        '201':
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          description: Invalid request data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '409':
          description: User already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /auth/login:
    post:
      tags:
        - Authentication
      summary: User login
      description: Authenticate user with email and password
      operationId: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserLogin'
            examples:
              valid_login:
                summary: Valid login request
                value:
                  email: "user@example.com"
                  password: "strongpassword123"
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /users/profile:
    get:
      tags:
        - Users
      summary: Get user profile
      description: Retrieve the current user's profile information
      operationId: getUserProfile
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfile'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    put:
      tags:
        - Users
      summary: Update user profile
      description: Update the current user's profile information
      operationId: updateUserProfile
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserProfileUpdate'
            examples:
              update_profile:
                summary: Update profile request
                value:
                  name: "John Smith"
                  bio: "Software developer"
                  website: "https://johnsmith.dev"
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProfile'
        '400':
          description: Invalid request data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /products:
    get:
      tags:
        - Products
      summary: List products
      description: Retrieve a list of products with optional filtering
      operationId: getProducts
      parameters:
        - name: category
          in: query
          description: Filter by product category
          required: false
          schema:
            type: string
        - name: limit
          in: query
          description: Number of products to return
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: page
          in: query
          description: Page number for pagination
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
      responses:
        '200':
          description: Products retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  products:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    post:
      tags:
        - Products
      summary: Create new product
      description: Create a new product (admin only)
      operationId: createProduct
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
            examples:
              new_product:
                summary: New product request
                value:
                  name: "Wireless Headphones"
                  description: "High-quality wireless headphones with noise cancellation"
                  price: 199.99
                  category: "Electronics"
                  stock: 50
      responses:
        '201':
          description: Product created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '400':
          description: Invalid request data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Forbidden (admin required)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /products/{id}:
    get:
      tags:
        - Products
      summary: Get product by ID
      description: Retrieve a specific product by its ID
      operationId: getProductById
      parameters:
        - name: id
          in: path
          description: Product ID
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Product retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
components:
  schemas:
    UserSignup:
      type: object
      required:
        - email
        - password
        - name
      properties:
        email:
          type: string
          format: email
          description: User email address
          example: "user@example.com"
        password:
          type: string
          minLength: 8
          description: User password (minimum 8 characters)
          example: "strongpassword123"
        name:
          type: string
          description: User full name
          example: "John Doe"
    UserLogin:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
          description: User email address
          example: "user@example.com"
        password:
          type: string
          description: User password
          example: "strongpassword123"
    AuthResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Operation success status
          example: true
        message:
          type: string
          description: Response message
          example: "Authentication successful"
        data:
          type: object
          properties:
            user:
              $ref: '#/components/schemas/UserProfile'
            token:
              type: string
              description: JWT access token
              example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            refreshToken:
              type: string
              description: JWT refresh token
              example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
    UserProfile:
      type: object
      properties:
        id:
          type: string
          description: User ID
          example: "user_123"
        email:
          type: string
          format: email
          description: User email address
          example: "user@example.com"
        name:
          type: string
          description: User full name
          example: "John Doe"
        bio:
          type: string
          description: User biography
          example: "Software developer"
        website:
          type: string
          format: uri
          description: User website URL
          example: "https://johnsmith.dev"
        createdAt:
          type: string
          format: date-time
          description: Account creation timestamp
          example: "2023-01-01T00:00:00Z"
        updatedAt:
          type: string
          format: date-time
          description: Last update timestamp
          example: "2023-01-01T00:00:00Z"
    UserProfileUpdate:
      type: object
      properties:
        name:
          type: string
          description: User full name
          example: "John Smith"
        bio:
          type: string
          description: User biography
          example: "Software developer"
        website:
          type: string
          format: uri
          description: User website URL
          example: "https://johnsmith.dev"
    Product:
      type: object
      properties:
        id:
          type: string
          description: Product ID
          example: "prod_123"
        name:
          type: string
          description: Product name
          example: "Wireless Headphones"
        description:
          type: string
          description: Product description
          example: "High-quality wireless headphones with noise cancellation"
        price:
          type: number
          format: float
          description: Product price
          example: 199.99
        category:
          type: string
          description: Product category
          example: "Electronics"
        stock:
          type: integer
          description: Available stock quantity
          example: 50
        createdAt:
          type: string
          format: date-time
          description: Product creation timestamp
          example: "2023-01-01T00:00:00Z"
        updatedAt:
          type: string
          format: date-time
          description: Last update timestamp
          example: "2023-01-01T00:00:00Z"
    ProductCreate:
      type: object
      required:
        - name
        - description
        - price
        - category
        - stock
      properties:
        name:
          type: string
          description: Product name
          example: "Wireless Headphones"
        description:
          type: string
          description: Product description
          example: "High-quality wireless headphones with noise cancellation"
        price:
          type: number
          format: float
          minimum: 0
          description: Product price
          example: 199.99
        category:
          type: string
          description: Product category
          example: "Electronics"
        stock:
          type: integer
          minimum: 0
          description: Available stock quantity
          example: 50
    Pagination:
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          example: 1
        limit:
          type: integer
          description: Number of items per page
          example: 20
        total:
          type: integer
          description: Total number of items
          example: 100
        totalPages:
          type: integer
          description: Total number of pages
          example: 5
    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Operation success status
          example: false
        message:
          type: string
          description: Error message
          example: "The email field is required"
        error:
          type: string
          description: Detailed error description
          example: "The email field is required"
        code:
          type: integer
          description: Error code
          example: 400
      required:
        - success
        - message
        - error
        - code
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT`),[n,r]=j.useState(null),[i,s]=j.useState(!0),[o,a]=j.useState(""),[l,u]=j.useState("github"),[c,h]=j.useState(!1),[d,f]=j.useState(!1),[p,m]=j.useState(!1),[g,y]=j.useState(""),[b,C]=j.useState([]),[x,S]=j.useState(null),[w,k]=j.useState(""),[L,E]=j.useState(""),[N,_]=j.useState(""),[R,M]=j.useState(50),[T,A]=j.useState(!1),[$,D]=j.useState(!1),[O,P]=j.useState(!1),[I,B]=j.useState(null),[Y,H]=j.useState([]),[U,q]=j.useState(""),[K,Q]=j.useState(!1),[ee,re]=j.useState(null),[ae,be]=j.useState(null),[Ae,Le]=j.useState(!1),[He,Ue]=j.useState(""),yt=j.useCallback(ne=>{A(!0),ne.preventDefault()},[]),Gt=j.useCallback(ne=>{if(!T)return;const ke=document.querySelector(".split-container");if(!ke)return;const Ee=ke.getBoundingClientRect(),$e=(ne.clientX-Ee.left)/Ee.width*100,Ne=Math.max(20,Math.min(80,$e));M(Ne)},[T]),bt=j.useCallback(()=>{A(!1)},[]);j.useEffect(()=>(T?(document.addEventListener("mousemove",Gt),document.addEventListener("mouseup",bt),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",Gt),document.removeEventListener("mouseup",bt),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",Gt),document.removeEventListener("mouseup",bt),document.body.style.cursor="",document.body.style.userSelect=""}),[T,Gt,bt]),j.useEffect(()=>{const ne=()=>{const ke=window.innerWidth<768;D(ke),window.aceEditor&&setTimeout(()=>{window.aceEditor.resize()},100)};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),j.useEffect(()=>{try{const ne=x1(t);r(ne),s(!0),a("")}catch(ne){s(!1),a(ne.message),r(null)}},[t]),j.useEffect(()=>{var ne,ke;(ke=(ne=n==null?void 0:n.servers)==null?void 0:ne[0])!=null&&ke.url&&k(n.servers[0].url)},[n]),j.useEffect(()=>{const ne=setTimeout(()=>{st.saveToolData("spec-craft",{spec:t})},1e3);return()=>clearTimeout(ne)},[t]),j.useEffect(()=>{const ne=st.getToolData("spec-craft");ne!=null&&ne.spec&&e(ne.spec)},[]);const Mn=j.useCallback(ne=>{e(ne)},[]),cr=j.useCallback(ne=>{let ke=[];return ne!=null&&ne.paths&&Object.entries(ne.paths).forEach(([Ee,$e])=>{Object.entries($e).forEach(([Ne,Oe])=>{typeof Oe=="object"&&Oe!==null&&Ne!=="parameters"&&(ke=[...ke,{method:Ne.toUpperCase(),path:Ee,summary:Oe.summary||"",description:Oe.description||"",tags:Oe.tags||[],parameters:Oe.parameters||[],requestBody:Oe.requestBody,responses:Oe.responses||{},security:Oe.security}])})}),ke},[]),Qt=j.useCallback(ne=>{if(ne.$ref){const ke=ne.$ref.replace("#/","").split("/");let Ee=n;for(const $e of ke)Ee=Ee==null?void 0:Ee[$e];if(Ee)return Qt(Ee)}if(ne.example!==void 0)return ne.example;if(ne.default!==void 0)return ne.default;if(ne.type==="object"&&ne.properties){const ke={};return Object.entries(ne.properties).forEach(([Ee,$e])=>{const Ne=Qt($e);Ne!==null&&(ke[Ee]=Ne)}),ke}else if(ne.type==="array"){if(ne.items){const ke=Qt(ne.items);return ke!==null?[ke]:[]}return[]}else if(ne.type==="string"){if(ne.enum)return ne.enum[0];switch(ne.format){case"email":return"user@example.com";case"uri":return"https://example.com";case"date":return"2023-01-01";case"date-time":return"2023-01-01T00:00:00Z";case"uuid":return"550e8400-e29b-41d4-a716-446655440000";case"password":return"password123";default:return"string_value"}}else{if(ne.type==="integer")return ne.minimum||0;if(ne.type==="number")return ne.minimum||0;if(ne.type==="boolean")return!0}return ne.oneOf&&ne.oneOf.length>0?Qt(ne.oneOf[0]):ne.anyOf&&ne.anyOf.length>0?Qt(ne.anyOf[0]):ne.allOf&&ne.allOf.length>0?ne.allOf.reduce((Ee,$e)=>{const Ne=Qt($e);return{...Ee,...Ne}},{}):null},[n]),bn=j.useCallback((ne,ke,Ee,$e)=>{var ot,nt,at,Ft,$t,Ve;console.log("Generating cURL for endpoint:",ne);const Ne=ke||((nt=(ot=n==null?void 0:n.servers)==null?void 0:ot[0])==null?void 0:nt.url)||"https://api.example.com",Oe=ne.method;let qe=ne.path;ne.parameters&&ne.parameters.forEach(We=>{var ut,G;let Ke=We;if(We.$ref){const J=We.$ref.replace("#/","").split("/");let W=n;for(const V of J)W=W==null?void 0:W[V];W&&(Ke=W)}if(Ke.in==="path"){const J=Ke.example||((ut=Ke.schema)==null?void 0:ut.example)||((G=Ke.schema)==null?void 0:G.default)||`{${Ke.name}}`;qe=qe.replace(`{${Ke.name}}`,J)}});let et=`curl -X ${Oe} "${Ne}${qe}"`;const It=n==null?void 0:n.security,Et=ne.security||It;if(Et&&Et.length>0){const We=Et[0],Ke=Object.keys(We)[0],ut=(Ft=(at=n==null?void 0:n.components)==null?void 0:at.securitySchemes)==null?void 0:Ft[Ke];if((ut==null?void 0:ut.type)==="http"&&(ut==null?void 0:ut.scheme)==="bearer")et+=` \\
  -H "Authorization: Bearer ${Ee||"{your-token}"}"`;else if((ut==null?void 0:ut.type)==="apiKey"){const G=ut.name||"X-API-Key";ut.in==="header"&&(et+=` \\
  -H "${G}: ${Ee||"{your-api-key}"}"`)}}else Ee&&(et+=` \\
  -H "Authorization: Bearer ${Ee}"`);let xt=[];if(ne.parameters&&ne.parameters.forEach(We=>{let Ke=We;if(We.$ref){const ut=We.$ref.replace("#/","").split("/");let G=n;for(const J of ut)G=G==null?void 0:G[J];G&&(Ke=G)}Ke.in==="header"&&(xt=[...xt,Ke])}),console.log("Header parameters found:",xt),xt.forEach(We=>{var ut;const Ke=We.example||((ut=We.schema)==null?void 0:ut.example)||`{${We.name}}`;console.log(`Adding header: ${We.name}: ${Ke}`),et+=` \\
  -H "${We.name}: ${Ke}"`}),["POST","PUT","PATCH"].includes(Oe)&&ne.requestBody){const Ke=Object.keys(ne.requestBody.content||{})[0]||"application/json";console.log(`Adding Content-Type header: ${Ke}`),et+=` \\
  -H "Content-Type: ${Ke}"`}if(ne.responses){const Ke=Object.values(ne.responses).flatMap(ut=>ut.content?Object.keys(ut.content):[])[0]||"application/json";et+=` \\
  -H "Accept: ${Ke}"`}else et+=` \\
  -H "Accept: application/json"`;$e&&$e.split(`
`).forEach(We=>{const[Ke,ut]=We.split(":").map(G=>G.trim());Ke&&ut&&(et+=` \\
  -H "${Ke}: ${ut}"`)});let mt=[];if(ne.parameters&&ne.parameters.forEach(We=>{let Ke=We;if(We.$ref){const ut=We.$ref.replace("#/","").split("/");let G=n;for(const J of ut)G=G==null?void 0:G[J];G&&(Ke=G)}Ke.in==="query"&&(mt=[...mt,Ke])}),console.log("Query parameters found:",mt),mt.length>0){const We=mt.map(Ke=>{var G,J;const ut=Ke.example||((G=Ke.schema)==null?void 0:G.example)||((J=Ke.schema)==null?void 0:J.default)||`{${Ke.name}}`;return console.log(`Adding query param: ${Ke.name}=${ut}`),`${Ke.name}=${encodeURIComponent(ut)}`}).join("&");et=et.replace(`"${Ne}${qe}"`,`"${Ne}${qe}?${We}"`)}if(["POST","PUT","PATCH"].includes(Oe)&&ne.requestBody){console.log("Processing request body for:",Oe,ne.path),console.log("Request body content:",ne.requestBody.content);const We=["application/json","application/x-www-form-urlencoded","multipart/form-data"];let Ke=null,ut=null;for(const G of We){const J=($t=ne.requestBody.content)==null?void 0:$t[G];if(J){Ke=J,ut=G,console.log(`Found content type: ${G}`);break}}if(Ke){let G=Ke.examples?(Ve=Object.values(Ke.examples)[0])==null?void 0:Ve.value:Ke.example;if(console.log("Direct example found:",G),!G&&Ke.schema&&(console.log("Generating example from schema:",Ke.schema),G=Qt(Ke.schema),console.log("Generated example:",G)),G)if(ut==="application/json"){const J=JSON.stringify(G,null,2);console.log("Adding JSON body:",J),J.split(`
`).map(W=>`  ${W}`).join(`
`),et+=` \\
  -d '${J}'`}else if(ut==="application/x-www-form-urlencoded"){const J=Object.entries(G).map(([W,V])=>`${encodeURIComponent(W)}=${encodeURIComponent(String(V))}`).join("&");console.log("Adding form data:",J),et+=` \\
  -d '${J}'`}else et+=` \\
  -d '${JSON.stringify(G,null,2)}'`;else console.log("No example generated for request body")}else console.log("No body content found for any supported content type")}return et},[n,Qt]),cn=j.useCallback(ne=>{const ke=bn(ne,w,L,N);y(ke),S(ne),f(!0)},[bn,w,L,N]),_r=j.useCallback(()=>{if(!(n!=null&&n.paths))return;const ne=cr(n),ke={};ne.forEach($e=>{const Ne=$e.tags&&$e.tags.length>0?$e.tags[0]:"Untagged";ke[Ne]||(ke[Ne]=[]),ke[Ne]=[...ke[Ne],$e]});let Ee=[];Object.entries(ke).forEach(([$e,Ne])=>{Ee=[...Ee,`# --- ${$e} ---`],Ne.forEach(Oe=>{Ee=[...Ee,bn(Oe,w,L,N)]}),Ee=[...Ee,""]}),C(Ee),m(!0)},[n,cr,bn,w,L,N]),ye=j.useCallback((ne,ke)=>{var It,Et,xt,mt,ot;const Ee=ke||((Et=(It=n==null?void 0:n.servers)==null?void 0:It[0])==null?void 0:Et.url)||"https://api.example.com";let $e=ne.path;ne.parameters&&ne.parameters.forEach(nt=>{var at;if(nt.in==="path"){const Ft=nt.example||((at=nt.schema)==null?void 0:at.example)||`{${nt.name}}`;$e=$e.replace(`{${nt.name}}`,Ft)}});let Ne=[];if(ne.parameters&&ne.parameters.forEach(nt=>{var Ft;let at=nt;if(nt.$ref){const $t=nt.$ref.replace("#/","").split("/");let Ve=n;for(const We of $t)Ve=Ve==null?void 0:Ve[We];Ve&&(at=Ve)}if(at.in==="header"){let Ve=at.example||((Ft=at.schema)==null?void 0:Ft.example)||`{${at.name}}`;at.name.toLowerCase()==="authorization"&&L&&(Ve=`Bearer ${L}`),Ne=[...Ne,{key:at.name,value:Ve}]}}),["POST","PUT","PATCH"].includes(ne.method)&&ne.requestBody){const at=Object.keys(ne.requestBody.content||{})[0]||"application/json";Ne.find($t=>$t.key.toLowerCase()==="content-type")||(Ne=[...Ne,{key:"Content-Type",value:at}])}if(!Ne.find(nt=>nt.key.toLowerCase()==="accept"))if(ne.responses){const at=Object.values(ne.responses).flatMap(Ft=>Ft.content?Object.keys(Ft.content):[])[0]||"application/json";Ne=[...Ne,{key:"Accept",value:at}]}else Ne=[...Ne,{key:"Accept",value:"application/json"}];N&&N.split(`
`).forEach(nt=>{const[at,Ft]=nt.split(":").map($t=>$t.trim());if(at&&Ft){const $t=Ne.find(Ve=>Ve.key.toLowerCase()===at.toLowerCase());$t?$t.value=Ft:Ne=[...Ne,{key:at,value:Ft}]}});let qe="";if(["POST","PUT","PATCH"].includes(ne.method)&&ne.requestBody){const nt=["application/json","application/x-www-form-urlencoded","multipart/form-data"];let at=null,Ft=null;for(const $t of nt){const Ve=(xt=ne.requestBody.content)==null?void 0:xt[$t];if(Ve){at=Ve,Ft=$t;break}}if(at){let $t=at.examples?(mt=Object.values(at.examples)[0])==null?void 0:mt.value:at.example;!$t&&at.schema&&($t=Qt(at.schema)),$t&&(Ft==="application/json"?qe=JSON.stringify($t,null,2):Ft==="application/x-www-form-urlencoded"?qe=Object.entries($t).map(([Ve,We])=>`${encodeURIComponent(Ve)}=${encodeURIComponent(String(We))}`).join("&"):qe=JSON.stringify($t,null,2))}}return{id:`${ne.method.toLowerCase()}-${$e.replace(/[^a-zA-Z0-9]/g,"-")}`,name:`${ne.method} ${$e}`,method:ne.method,url:`${Ee}${$e}`,headers:Ne,body:qe,auth:{type:"none"},params:((ot=ne.parameters)==null?void 0:ot.filter(nt=>nt.in==="query").map(nt=>{var at;return{key:nt.name,value:nt.example||((at=nt.schema)==null?void 0:at.example)||`{${nt.name}}`}}))||[],tests:[],description:ne.description||ne.summary||""}},[n,L,N,Qt]),he=j.useCallback(ne=>{if(f(!1),ne){const ke=ye(ne,w);B(ke);const Ee=JSON.parse(localStorage.getItem("devtoolnest-collections")||"[]");H(Ee),P(!0)}},[ye,w]),le=j.useCallback(()=>{var Ne,Oe;if(m(!1),!(n!=null&&n.paths))return;const ne=cr(n),ke=new Map;ne.forEach(qe=>{const et=qe.path.split("/").filter(xt=>xt.length>0),It=et.length>0?`/${et[0]}`:"/root";ke.has(It)||ke.set(It,[]);const Et=ke.get(It)||[];ke.set(It,[...Et,qe])});let Ee=[];ke.forEach((qe,et)=>{const It=`folder_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,Et=et==="/root"?"Other Endpoints":et.substring(1).charAt(0).toUpperCase()+et.substring(2),xt={id:It,name:Et,method:"FOLDER",url:"",headers:[],body:"",auth:{type:"none"},params:[],tests:[]};Ee=[...Ee,xt],qe.forEach(mt=>{const ot=ye(mt,w);ot.parentId=It,Ee=[...Ee,ot]})});const $e={id:`collection-${Date.now()}`,name:((Ne=n.info)==null?void 0:Ne.title)||"API Collection",requests:Ee,createdAt:new Date,updatedAt:new Date,description:((Oe=n.info)==null?void 0:Oe.description)||"Generated from OpenAPI specification"};Q(!0),re($e),P(!0)},[n,cr,ye,w]),we=j.useCallback(ne=>{navigator.clipboard.writeText(ne),Qs({title:"Copied to clipboard",description:"cURL command copied successfully"})},[]),Me=j.useCallback(()=>{const ne=b.join(`

`);navigator.clipboard.writeText(ne),Qs({title:"Copied to clipboard",description:"All cURL commands copied successfully"})},[b]),De=j.useCallback(()=>{const ne=new Blob([t],{type:"application/yaml"}),ke=URL.createObjectURL(ne),Ee=document.createElement("a");Ee.href=ke,Ee.download="api-spec.yaml",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(ke),Qs({title:"Success",description:"API specification exported successfully"})},[t]);j.useEffect(()=>{if(!n||!n.paths)return;const ne=()=>{const qe=document.querySelectorAll(".opblock");console.log("Found operation blocks:",qe.length),qe.forEach((et,It)=>{var $t,Ve;if(et.querySelector(".custom-curl-btn"))return;const Et=Array.from(et.classList).find(We=>We.startsWith("opblock-")),xt=Et?Et.replace("opblock-","").toUpperCase():"GET";let mt="",ot=null;const nt=et.querySelector(".opblock-summary-path");if(nt){const We=($t=nt.textContent)==null?void 0:$t.trim();We&&We.startsWith("/")&&(mt=We)}if(!mt){const We=et.querySelector(".opblock-summary-description"),Ke=We?(Ve=We.textContent)==null?void 0:Ve.trim():"";if(Ke)for(const[ut,G]of Object.entries(n.paths)){const J=G[xt.toLowerCase()];if(J&&J.operationId===Ke){mt=ut,ot=J;break}}}if(!mt){for(const[We,Ke]of Object.entries(n.paths))if(Ke[xt.toLowerCase()]){mt=We,ot=Ke[xt.toLowerCase()];break}}if(!mt)return;!ot&&n.paths[mt]&&(ot=n.paths[mt][xt.toLowerCase()]);const at=document.createElement("button");at.className="custom-curl-btn",at.textContent="cURL",at.style.cssText=`
          background: #4CAF50;
          color: white;
          border: none;
          padding: 6px 12px;
          border-radius: 4px;
          font-size: 12px;
          cursor: pointer;
          font-weight: bold;
          margin-left: 10px;
          z-index: 10;
          position: relative;
        `,at.addEventListener("click",We=>{We.preventDefault(),We.stopPropagation();const Ke={method:xt,path:mt,summary:(ot==null?void 0:ot.summary)||"",description:(ot==null?void 0:ot.description)||"",tags:(ot==null?void 0:ot.tags)||[],parameters:(ot==null?void 0:ot.parameters)||[],requestBody:ot==null?void 0:ot.requestBody,responses:(ot==null?void 0:ot.responses)||{},security:(ot==null?void 0:ot.security)||n.security};cn(Ke)});const Ft=et.querySelector(".opblock-summary");Ft&&(Ft.appendChild(at),console.log(`Added cURL button for ${xt} ${mt}`))})},ke=setTimeout(ne,1e3),Ee=setTimeout(ne,2e3),$e=setTimeout(ne,3e3),Ne=new MutationObserver(()=>{setTimeout(ne,500)}),Oe=document.querySelector(".swagger-ui");return Oe&&Ne.observe(Oe,{childList:!0,subtree:!0}),()=>{clearTimeout(ke),clearTimeout(Ee),clearTimeout($e),Ne.disconnect()}},[n,cn]),j.useEffect(()=>{let ne=null;return typeof window<"u"&&"BroadcastChannel"in window&&(ne=new BroadcastChannel("reqnest-import")),()=>{ne&&ne.close()}},[]);const ft=(ne,ke=null)=>{var Ne;if(!I)return;const $e=st.getCollections().find(Oe=>Oe.id===ne);if($e){const Oe={...I,id:Date.now().toString(),name:I.url||"Untitled Request",parentId:ke};$e.requests=[...$e.requests,Oe],$e.updatedAt=new Date,st.saveCollection($e),P(!1),B(null),be(null),Le(!1),Ue("");const qe=ke?(Ne=$e.requests.find(It=>It.id===ke))==null?void 0:Ne.name:"",et=ke?`Request saved to "${$e.name}" in folder "${qe}"`:`Request saved to "${$e.name}"`;Qs({title:"Request added to ReqNest",description:et})}},pt=ne=>{if(!He.trim())return;const Ee=st.getCollections().find($e=>$e.id===ne);if(Ee){const $e={id:`folder_${Date.now()}`,name:He,method:"FOLDER",url:"",headers:[],body:"",auth:{type:"none"},params:[],tests:[]};Ee.requests=[...Ee.requests,$e],Ee.updatedAt=new Date,st.saveCollection(Ee);const Ne={...I,id:Date.now().toString(),name:I.url||"Untitled Request",parentId:$e.id};Ee.requests=[...Ee.requests,Ne],Ee.updatedAt=new Date,st.saveCollection(Ee),P(!1),B(null),be(null),Le(!1),Ue(""),Qs({title:"Request added to ReqNest",description:`Request saved to "${Ee.name}" in new folder "${He}"`})}},Pt=()=>{if(!U.trim())return;let ne=st.getCollections();const ke={id:Date.now().toString(),name:U,requests:[],createdAt:new Date,updatedAt:new Date};ne=[...ne,ke],st.saveCollection(ke),H(ne),q("")};return j.useEffect(()=>{const ne=st.getCollections();H(ne);const ke=Ee=>{if(Ee.key==="devtoolnest-collections"){const $e=st.getCollections();H($e)}};return window.addEventListener("storage",ke),()=>{window.removeEventListener("storage",ke),Q(!1),re(null),B(null),be(null),Le(!1),Ue(""),localStorage.removeItem("reqnest_bulk_import_collection"),localStorage.removeItem("reqnest_import_request")}},[]),v.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-indigo-900/20 ${c?"fixed inset-0 z-50":""}`,children:[!c&&v.jsx(zs,{title:"SpecCraft",subtitle:"OpenAPI Specification Editor & Documentation Generator"}),v.jsxs("main",{className:`${c?"px-2 py-2":"w-full h-full py-4"}`,children:[v.jsxs("div",{className:`flex items-center justify-between ${c?"mb-2":"mb-4"} bg-white/80 dark:bg-gray-800/80 rounded-lg p-3 shadow-sm`,children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-sm font-medium",children:"Theme:"}),v.jsxs(ui,{value:l,onValueChange:u,children:[v.jsx(zr,{className:"w-24 h-8",children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"github",children:"Light"}),v.jsx(At,{value:"monokai",children:"Dark"})]})]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:_r,className:"h-8",children:[v.jsx(iC,{className:"w-4 h-4 mr-1"}),"Bulk cURL"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(pe,{variant:"outline",size:"sm",onClick:De,className:"h-8",children:[v.jsx(Xi,{className:"w-4 h-4 mr-1"}),"Export"]}),i?v.jsx(Mr,{className:"bg-green-500 text-white text-xs",children:"Valid"}):v.jsx(Mr,{variant:"destructive",className:"text-xs",children:"Invalid"}),v.jsx(pe,{variant:"outline",size:"sm",onClick:()=>h(!c),className:"h-8",title:c?"Exit fullscreen":"Enter fullscreen",children:c?v.jsx(sF,{className:"w-4 h-4"}):v.jsx(iF,{className:"w-4 h-4"})})]})]}),v.jsxs("div",{className:`split-container flex ${$?"flex-col":"flex-row"} ${c?"h-[calc(100vh-80px)]":"h-[calc(100vh-200px)]"} bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden relative`,children:[v.jsxs("div",{className:`${$?"h-1/2 border-b":"border-r"} border-gray-200 dark:border-gray-700 flex flex-col`,style:$?{}:{width:`${Math.max(25,Math.min(75,R))}%`,minWidth:"250px",maxWidth:"75%"},children:[v.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:v.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"YAML Editor"})}),v.jsx("div",{className:"flex-1 min-h-0",children:v.jsx(mq,{mode:"yaml",theme:l,onChange:Mn,value:t,name:"yaml-editor",width:"100%",height:"100%",fontSize:14,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onLoad:ne=>{window.aceEditor=ne,ne.renderer.setScrollMargin(10,10)},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,wrap:!0,useWorker:!1}})})]}),!$&&v.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-gray-300 dark:bg-gray-600 hover:bg-blue-500 cursor-col-resize z-10 transition-colors duration-200",style:{left:`${Math.max(25,Math.min(75,R))}%`},onMouseDown:yt}),v.jsxs("div",{className:`${$?"h-1/2":"flex-1"} overflow-hidden flex flex-col`,style:$?{}:{width:`${Math.max(25,Math.min(75,100-R))}%`,minWidth:"250px",maxWidth:"75%"},children:[v.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:v.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"API Preview"})}),v.jsx("div",{className:"flex-1 overflow-auto min-h-0",children:i&&n?v.jsx(HQ,{spec:n}):v.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:o?v.jsxs("div",{className:"text-red-500",children:[v.jsx("p",{className:"font-medium",children:"Invalid YAML:"}),v.jsx("p",{className:"text-sm mt-1",children:o})]}):v.jsx("p",{children:"Loading API preview..."})})})]})]})]}),v.jsx(qn,{open:d,onOpenChange:ne=>{f(ne),ne||(B(null),S(null))},children:v.jsxs(In,{className:"max-w-4xl max-h-[80vh] overflow-y-auto z-[9999]",children:[v.jsx(Fn,{children:v.jsxs(Bn,{children:["cURL Command - ",x==null?void 0:x.method," ",x==null?void 0:x.path]})}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Server URL:"}),v.jsxs(ui,{value:w,onValueChange:k,children:[v.jsx(zr,{children:v.jsx(hi,{placeholder:"Select server"})}),v.jsx(Hr,{children:(Jt=n==null?void 0:n.servers)==null?void 0:Jt.map((ne,ke)=>v.jsxs(At,{value:ne.url,children:[ne.url," - ",ne.description]},ke))})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Auth Token:"}),v.jsx(ct,{placeholder:"Bearer token (optional)",value:L,onChange:ne=>E(ne.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Custom Headers:"}),v.jsx(rr,{placeholder:`X-Custom-Header: value
Another-Header: value`,value:N,onChange:ne=>_(ne.target.value),rows:3})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Generated cURL:"}),v.jsxs("div",{className:"relative",children:[v.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap break-all max-h-96",children:g}),v.jsx(pe,{size:"sm",variant:"secondary",onClick:()=>we(g),className:"absolute top-2 right-2",children:v.jsx(pi,{className:"w-4 h-4"})})]})]})]}),v.jsxs(pl,{children:[v.jsx(pe,{variant:"outline",onClick:()=>f(!1),children:"Close"}),v.jsxs(pe,{onClick:()=>he(x),children:[v.jsx(nC,{className:"w-4 h-4 mr-2"}),"Open in ReqNest"]})]})]})}),v.jsx(qn,{open:p,onOpenChange:ne=>{m(ne),ne||(Q(!1),re(null))},children:v.jsxs(In,{className:"max-w-6xl max-h-[80vh] overflow-y-auto z-[9999]",children:[v.jsx(Fn,{children:v.jsx(Bn,{children:"Bulk cURL Commands"})}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Server URL:"}),v.jsxs(ui,{value:w,onValueChange:k,children:[v.jsx(zr,{children:v.jsx(hi,{placeholder:"Select server"})}),v.jsx(Hr,{children:(Kt=n==null?void 0:n.servers)==null?void 0:Kt.map((ne,ke)=>v.jsxs(At,{value:ne.url,children:[ne.url," - ",ne.description]},ke))})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Auth Token:"}),v.jsx(ct,{placeholder:"Bearer token (optional)",value:L,onChange:ne=>E(ne.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-sm font-medium",children:"Custom Headers:"}),v.jsx(rr,{placeholder:`X-Custom-Header: value
Another-Header: value`,value:N,onChange:ne=>_(ne.target.value),rows:3})]}),v.jsxs("div",{className:"flex justify-end mb-2",children:[v.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>_r(),className:"mr-2",children:[v.jsx(iC,{className:"w-4 h-4 mr-1"}),"Regenerate"]}),v.jsxs(pe,{size:"sm",variant:"outline",onClick:Me,children:[v.jsx(pi,{className:"w-4 h-4 mr-1"}),"Copy All"]})]}),v.jsx("div",{className:"max-h-96 overflow-y-auto",children:v.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-sm whitespace-pre-wrap break-all",children:b.join(`

`)})})]}),v.jsxs(pl,{children:[v.jsx(pe,{variant:"outline",onClick:()=>m(!1),children:"Close"}),v.jsxs(pe,{onClick:le,children:[v.jsx(nC,{className:"w-4 h-4 mr-2"}),"Open Collection in ReqNest"]})]})]})}),v.jsx(qn,{open:O,onOpenChange:ne=>{P(ne),ne||(Q(!1),re(null),B(null),be(null),Le(!1),Ue(""))},children:v.jsxs(In,{className:"sm:max-w-md",children:[v.jsxs(Fn,{className:"space-y-3",children:[v.jsx(Bn,{className:"text-lg font-semibold",children:K?`Save ${((sn=ee==null?void 0:ee.requests)==null?void 0:sn.length)||0} Requests`:"Save Request to Collection"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:K?`Save ${((Mt=ee==null?void 0:ee.requests)==null?void 0:Mt.length)||0} imported requests to an existing collection or create a new one`:"Save your imported request to an existing collection or create a new one"})]}),v.jsxs("div",{className:"space-y-6 py-2",children:[!K&&v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"request-name",className:"text-sm font-medium",children:"Request Name"}),v.jsx(ct,{id:"request-name",value:(I==null?void 0:I.name)||(I==null?void 0:I.url)||"",readOnly:!0,className:"h-10"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"The request will be saved with this name"})]}),K&&ee&&v.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsxs(Mr,{variant:"outline",children:[ee.requests.length," requests"]}),v.jsx("span",{className:"text-sm font-medium",children:"Ready to import"})]}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:[ee.requests.slice(0,3).map((ne,ke)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-mono text-xs",children:ne.method}),v.jsx("span",{className:"truncate",children:ne.url})]},ke)),ee.requests.length>3&&v.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["... and ",ee.requests.length-3," more requests"]}),v.jsx("div",{className:"text-xs text-blue-600 mt-2 font-medium",children:"📁 Organized by resource folders"})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(Ge,{className:"text-sm font-medium",children:"Select Collection"}),Y.length>0?v.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Y.map(ne=>v.jsxs("div",{className:"border rounded-lg p-3 space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between hover:bg-accent/50 cursor-pointer",onClick:()=>{if(K){const Ee=st.getCollections().find($e=>$e.id===ne.id);if(Ee&&ee){const $e=new Map;let Ne=[];ee.requests.forEach(Oe=>{if(Oe.method==="FOLDER"){const qe=`folder_${Date.now()}_${Math.random().toString(36).substr(2,5)}`;$e.set(Oe.id,qe),Ne=[...Ne,{...Oe,id:qe}]}}),ee.requests.forEach(Oe=>{if(Oe.method!=="FOLDER"){const qe=Oe.parentId?$e.get(Oe.parentId):void 0;Ne=[...Ne,{...Oe,id:Date.now().toString()+Math.random().toString(36).substr(2,5),parentId:qe}]}}),Ee.requests=[...Ee.requests||[],...Ne],Ee.updatedAt=new Date,st.saveCollection(Ee),Qs({title:"Collection Updated",description:`${ee.requests.length} items added to "${Ee.name}"`}),P(!1),Q(!1),re(null)}}else ft(ne.id)},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ss,{className:"w-4 h-4 text-violet-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:ne.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[ne.requests.length," request",ne.requests.length!==1?"s":""]})]})]}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 px-3",children:K?"Select Collection":"Save to Collection"})]}),!K&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-xs text-muted-foreground",children:"Save to folder:"}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>Le(!Ae),children:Ae?"Cancel":"New Folder"})]}),(()=>{const ke=ne.requests.filter(Ee=>Ee.method==="FOLDER");return ke.length>0?v.jsx("div",{className:"space-y-1",children:ke.map(Ee=>v.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded text-xs",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Ss,{className:"w-3 h-3"}),Ee.name]}),v.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>ft(ne.id,Ee.id),children:"Save"})]},Ee.id))}):null})(),Ae&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(ct,{value:He,onChange:ke=>Ue(ke.target.value),placeholder:"Folder name",className:"h-8 text-xs",autoFocus:!0}),v.jsx(pe,{size:"sm",className:"h-8 px-3 text-xs",onClick:()=>pt(ne.id),disabled:!He.trim(),children:"Create & Save"})]})]})]},ne.id))}):v.jsx("div",{className:"text-center py-4 text-muted-foreground",children:v.jsx("p",{className:"text-sm",children:"No collections yet"})}),v.jsxs("div",{className:"pt-2 border-t",children:[v.jsxs(pe,{variant:"outline",onClick:()=>{if(K){const ne=new Map;let ke=[];ee.requests.forEach($e=>{if($e.method==="FOLDER"){const Ne=`folder_${Date.now()}_${Math.random().toString(36).substr(2,5)}`;ne.set($e.id,Ne),ke=[...ke,{...$e,id:Ne}]}}),ee.requests.forEach($e=>{if($e.method!=="FOLDER"){const Ne=$e.parentId?ne.get($e.parentId):void 0;ke=[...ke,{...$e,id:Date.now().toString()+Math.random().toString(36).substr(2,5),parentId:Ne}]}});const Ee={id:`collection-${Date.now()}`,name:U||ee.name,requests:ke,createdAt:new Date,updatedAt:new Date};st.saveCollection(Ee),H($e=>[...$e,Ee]),q(""),Qs({title:"Collection Created",description:`Collection "${Ee.name}" created with ${ee.requests.length} requests`}),P(!1),Q(!1),re(null)}else U.trim()?Pt():Qs({title:"Collection name required",description:"Please enter a name for your collection",variant:"destructive"})},className:"w-full",children:[v.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Create New Collection"]}),!K&&v.jsx(ct,{value:U,onChange:ne=>q(ne.target.value),placeholder:"Collection name",className:"h-8 mt-2"})]})]}),v.jsx("div",{className:"flex gap-2 pt-2",children:v.jsx(pe,{variant:"outline",onClick:()=>{P(!1),Q(!1),re(null),be(null),Le(!1),Ue("")},className:"flex-1",children:"Skip"})})]})]})})]})}const UQ=VR,vj=j.forwardRef(({className:t,...e},n)=>v.jsx(xw,{ref:n,className:tt("flex justify-center gap-8 mb-4 border-b border-gray-200 bg-transparent p-0",t),...e}));vj.displayName="JWTTabsList";const Yb=j.forwardRef(({className:t,...e},n)=>v.jsx(ww,{ref:n,className:tt("relative px-6 py-2 text-lg font-semibold bg-transparent border-none outline-none transition-colors duration-200","data-[state=active]:text-black data-[state=active]:font-bold data-[state=active]:bg-white data-[state=active]:z-10","after:absolute after:left-1/2 after:-translate-x-1/2 after:bottom-[-6px] after:h-2 after:w-3/4 after:rounded-b-full after:bg-black after:transition-all after:duration-200 after:opacity-0 data-[state=active]:after:opacity-100","text-gray-500 hover:text-black",t),...e}));Yb.displayName="JWTTabsTrigger";const Qb=j.forwardRef(({className:t,...e},n)=>v.jsx(Sw,{ref:n,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qb.displayName="JWTTabsContent";const Ls=new TextEncoder,Sl=new TextDecoder;function yj(...t){const e=t.reduce((i,{length:s})=>i+s,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function VQ(t){if(Uint8Array.prototype.toBase64)return t.toBase64();const e=32768,n=[];for(let r=0;r<t.length;r+=e)n.push(String.fromCharCode.apply(null,t.subarray(r,r+e)));return btoa(n.join(""))}function KQ(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function fp(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:Sl.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=Sl.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return KQ(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function N0(t){let e=t;return typeof e=="string"&&(e=Ls.encode(e)),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64url",omitPadding:!0}):VQ(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class Ml extends Error{constructor(n,r){var i;super(n,r);Nn(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(i=Error.captureStackTrace)==null||i.call(Error,this,this.constructor)}}Nn(Ml,"code","ERR_JOSE_GENERIC");class Fi extends Ml{constructor(n,r,i="unspecified",s="unspecified"){super(n,{cause:{claim:i,reason:s,payload:r}});Nn(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");Nn(this,"claim");Nn(this,"reason");Nn(this,"payload");this.claim=i,this.reason=s,this.payload=r}}Nn(Fi,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class Jb extends Ml{constructor(n,r,i="unspecified",s="unspecified"){super(n,{cause:{claim:i,reason:s,payload:r}});Nn(this,"code","ERR_JWT_EXPIRED");Nn(this,"claim");Nn(this,"reason");Nn(this,"payload");this.claim=i,this.reason=s,this.payload=r}}Nn(Jb,"code","ERR_JWT_EXPIRED");class Xo extends Ml{constructor(){super(...arguments);Nn(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Nn(Xo,"code","ERR_JOSE_NOT_SUPPORTED");class xn extends Ml{constructor(){super(...arguments);Nn(this,"code","ERR_JWS_INVALID")}}Nn(xn,"code","ERR_JWS_INVALID");class zg extends Ml{constructor(){super(...arguments);Nn(this,"code","ERR_JWT_INVALID")}}Nn(zg,"code","ERR_JWT_INVALID");class bj extends Ml{constructor(n="signature verification failed",r){super(n,r);Nn(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}Nn(bj,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");function qs(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function $u(t,e){return t.name===e}function R0(t){return parseInt(t.name.slice(4),10)}function GQ(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function qQ(t,e){if(e&&!t.usages.includes(e))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${e}.`)}function YQ(t,e,n){switch(e){case"HS256":case"HS384":case"HS512":{if(!$u(t.algorithm,"HMAC"))throw qs("HMAC");const r=parseInt(e.slice(2),10);if(R0(t.algorithm.hash)!==r)throw qs(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!$u(t.algorithm,"RSASSA-PKCS1-v1_5"))throw qs("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(R0(t.algorithm.hash)!==r)throw qs(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!$u(t.algorithm,"RSA-PSS"))throw qs("RSA-PSS");const r=parseInt(e.slice(2),10);if(R0(t.algorithm.hash)!==r)throw qs(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!$u(t.algorithm,"Ed25519"))throw qs("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!$u(t.algorithm,"ECDSA"))throw qs("ECDSA");const r=GQ(e);if(t.algorithm.namedCurve!==r)throw qs(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}qQ(t,n)}function xj(t,e,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const QQ=(t,...e)=>xj("Key must be ",t,...e);function wj(t,e,...n){return xj(`Key for the ${t} algorithm must be `,e,...n)}function Sj(t){return(t==null?void 0:t[Symbol.toStringTag])==="CryptoKey"}function Cj(t){return(t==null?void 0:t[Symbol.toStringTag])==="KeyObject"}const kj=t=>Sj(t)||Cj(t),Aj=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const s of i){if(n.has(s))return!1;n.add(s)}}return!0};function JQ(t){return typeof t=="object"&&t!==null}const nd=t=>{if(!JQ(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Ej=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},pp=(t,e,n=0)=>{n===0&&(e.unshift(e.length),e.unshift(6));const r=t.indexOf(e[0],n);if(r===-1)return!1;const i=t.subarray(r,r+e.length);return i.length!==e.length?!1:i.every((s,o)=>s===e[o])||pp(t,e,r+1)},XQ=t=>{switch(!0){case pp(t,[42,134,72,206,61,3,1,7]):return"P-256";case pp(t,[43,129,4,0,34]):return"P-384";case pp(t,[43,129,4,0,35]):return"P-521";default:return}},Tj=async(t,e,n,r,i)=>{let s,o;const a=new Uint8Array(atob(n.replace(t,"")).split("").map(u=>u.charCodeAt(0))),l=e==="spki";switch(r){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},o=l?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},o=l?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},o=l?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},o=l?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},o=l?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},o=l?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const u=XQ(a);s=u!=null&&u.startsWith("P-")?{name:"ECDH",namedCurve:u}:{name:"X25519"},o=l?[]:["deriveBits"];break}case"Ed25519":case"EdDSA":s={name:"Ed25519"},o=l?["verify"]:["sign"];break;default:throw new Xo('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(e,a,s,!!l,o)},ZQ=(t,e,n)=>Tj(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",t,e),eJ=(t,e,n)=>Tj(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",t,e);function tJ(t){let e,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Xo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new Xo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":case"EdDSA":e={name:"Ed25519"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new Xo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Xo('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const nJ=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=tJ(t),r={...t};return delete r.alg,delete r.use,crypto.subtle.importKey("jwk",r,e,t.ext??!t.d,t.key_ops??n)};async function rJ(t,e,n){if(typeof t!="string"||t.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return eJ(t,e)}async function iJ(t,e,n){if(typeof t!="string"||t.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return ZQ(t,e)}const Mj=(t,e,n,r,i)=>{if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;n!==void 0?s=new Map([...Object.entries(n),...e.entries()]):s=e;for(const o of r.crit){if(!s.has(o))throw new Xo(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new t(`Extension Header Parameter "${o}" is missing`);if(s.get(o)&&r[o]===void 0)throw new t(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)};function w1(t){return nd(t)&&typeof t.kty=="string"}function sJ(t){return t.kty!=="oct"&&typeof t.d=="string"}function oJ(t){return t.kty!=="oct"&&typeof t.d>"u"}function aJ(t){return t.kty==="oct"&&typeof t.k=="string"}let Ec;const cE=async(t,e,n,r=!1)=>{Ec||(Ec=new WeakMap);let i=Ec.get(t);if(i!=null&&i[n])return i[n];const s=await nJ({...e,alg:n});return r&&Object.freeze(t),i?i[n]=s:Ec.set(t,{[n]:s}),s},lJ=(t,e)=>{var o;Ec||(Ec=new WeakMap);let n=Ec.get(t);if(n!=null&&n[e])return n[e];const r=t.type==="public",i=!!r;let s;if(t.asymmetricKeyType==="x25519"){switch(e){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}s=t.toCryptoKey(t.asymmetricKeyType,i,r?[]:["deriveBits"])}if(t.asymmetricKeyType==="ed25519"){if(e!=="EdDSA"&&e!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");s=t.toCryptoKey(t.asymmetricKeyType,i,[r?"verify":"sign"])}if(t.asymmetricKeyType==="rsa"){let a;switch(e){case"RSA-OAEP":a="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":a="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":a="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":a="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(e.startsWith("RSA-OAEP"))return t.toCryptoKey({name:"RSA-OAEP",hash:a},i,r?["encrypt"]:["decrypt"]);s=t.toCryptoKey({name:e.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:a},i,[r?"verify":"sign"])}if(t.asymmetricKeyType==="ec"){const l=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((o=t.asymmetricKeyDetails)==null?void 0:o.namedCurve);if(!l)throw new TypeError("given KeyObject instance cannot be used for this algorithm");e==="ES256"&&l==="P-256"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:l},i,[r?"verify":"sign"])),e==="ES384"&&l==="P-384"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:l},i,[r?"verify":"sign"])),e==="ES512"&&l==="P-521"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:l},i,[r?"verify":"sign"])),e.startsWith("ECDH-ES")&&(s=t.toCryptoKey({name:"ECDH",namedCurve:l},i,r?[]:["deriveBits"]))}if(!s)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[e]=s:Ec.set(t,{[e]:s}),s},Nj=async(t,e)=>{if(t instanceof Uint8Array||Sj(t))return t;if(Cj(t)){if(t.type==="secret")return t.export();if("toCryptoKey"in t&&typeof t.toCryptoKey=="function")try{return lJ(t,e)}catch(r){if(r instanceof TypeError)throw r}let n=t.export({format:"jwk"});return cE(t,n,e)}if(w1(t))return t.k?fp(t.k):cE(t,t,e,!0);throw new Error("unreachable")},Ul=t=>t==null?void 0:t[Symbol.toStringTag],Xb=(t,e,n)=>{var r,i;if(e.use!==void 0){let s;switch(n){case"sign":case"verify":s="sig";break;case"encrypt":case"decrypt":s="enc";break}if(e.use!==s)throw new TypeError(`Invalid key for this operation, its "use" must be "${s}" when present`)}if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, its "alg" must be "${t}" when present`);if(Array.isArray(e.key_ops)){let s;switch(!0){case(n==="sign"||n==="verify"):case t==="dir":case t.includes("CBC-HS"):s=n;break;case t.startsWith("PBES2"):s="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(t):!t.includes("GCM")&&t.endsWith("KW")?s=n==="encrypt"?"wrapKey":"unwrapKey":s=n;break;case(n==="encrypt"&&t.startsWith("RSA")):s="wrapKey";break;case n==="decrypt":s=t.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(s&&((i=(r=e.key_ops)==null?void 0:r.includes)==null?void 0:i.call(r,s))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${s}" when present`)}return!0},cJ=(t,e,n)=>{if(!(e instanceof Uint8Array)){if(w1(e)){if(aJ(e)&&Xb(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!kj(e))throw new TypeError(wj(t,e,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(e.type!=="secret")throw new TypeError(`${Ul(e)} instances for symmetric algorithms must be of type "secret"`)}},uJ=(t,e,n)=>{if(w1(e))switch(n){case"decrypt":case"sign":if(sJ(e)&&Xb(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(oJ(e)&&Xb(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!kj(e))throw new TypeError(wj(t,e,"CryptoKey","KeyObject","JSON Web Key"));if(e.type==="secret")throw new TypeError(`${Ul(e)} instances for asymmetric algorithms must not be of type "secret"`);if(e.type==="public")switch(n){case"sign":throw new TypeError(`${Ul(e)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${Ul(e)} instances for asymmetric algorithm decryption must be of type "private"`)}if(e.type==="private")switch(n){case"verify":throw new TypeError(`${Ul(e)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${Ul(e)} instances for asymmetric algorithm encryption must be of type "public"`)}},Rj=(t,e,n)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(t)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(t)?cJ(t,e,n):uJ(t,e,n)},Lj=(t,e)=>{const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:parseInt(t.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new Xo(`alg ${t} is not supported either by JOSE or your javascript runtime`)}},$j=async(t,e,n)=>{if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(QQ(e,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}return YQ(e,t,n),e},hJ=async(t,e,n,r)=>{const i=await $j(t,e,"verify");Ej(t,i);const s=Lj(t,i.algorithm);try{return await crypto.subtle.verify(s,i,n,r)}catch{return!1}};async function dJ(t,e,n){if(!nd(t))throw new xn("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new xn('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new xn("JWS Protected Header incorrect type");if(t.payload===void 0)throw new xn("JWS Payload missing");if(typeof t.signature!="string")throw new xn("JWS Signature missing or incorrect type");if(t.header!==void 0&&!nd(t.header))throw new xn("JWS Unprotected Header incorrect type");let r={};if(t.protected)try{const m=fp(t.protected);r=JSON.parse(Sl.decode(m))}catch{throw new xn("JWS Protected Header is invalid")}if(!Aj(r,t.header))throw new xn("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...t.header},s=Mj(xn,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let o=!0;if(s.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new xn('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:a}=i;if(typeof a!="string"||!a)throw new xn('JWS "alg" (Algorithm) Header Parameter missing or invalid');if(o){if(typeof t.payload!="string")throw new xn("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new xn("JWS Payload must be a string or an Uint8Array instance");let l=!1;typeof e=="function"&&(e=await e(r,t),l=!0),Rj(a,e,"verify");const u=yj(Ls.encode(t.protected??""),Ls.encode("."),typeof t.payload=="string"?Ls.encode(t.payload):t.payload);let c;try{c=fp(t.signature)}catch{throw new xn("Failed to base64url decode the signature")}const h=await Nj(e,a);if(!await hJ(a,h,c,u))throw new bj;let f;if(o)try{f=fp(t.payload)}catch{throw new xn("Failed to base64url decode the payload")}else typeof t.payload=="string"?f=Ls.encode(t.payload):f=t.payload;const p={payload:f};return t.protected!==void 0&&(p.protectedHeader=r),t.header!==void 0&&(p.unprotectedHeader=t.header),l?{...p,key:h}:p}async function fJ(t,e,n){if(t instanceof Uint8Array&&(t=Sl.decode(t)),typeof t!="string")throw new xn("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:s,length:o}=t.split(".");if(o!==3)throw new xn("Invalid Compact JWS");const a=await dJ({payload:i,protected:r,signature:s},e,n),l={payload:a.payload,protectedHeader:a.protectedHeader};return typeof e=="function"?{...l,key:a.key}:l}const Ro=t=>Math.floor(t.getTime()/1e3),Oj=60,_j=Oj*60,S1=_j*24,pJ=S1*7,mJ=S1*365.25,gJ=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,uh=t=>{const e=gJ.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*Oj);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*_j);break;case"day":case"days":case"d":i=Math.round(n*S1);break;case"week":case"weeks":case"w":i=Math.round(n*pJ);break;default:i=Math.round(n*mJ);break}return e[1]==="-"||e[4]==="ago"?-i:i};function Oa(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}const uE=t=>t.includes("/")?t.toLowerCase():`application/${t.toLowerCase()}`,vJ=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1;function yJ(t,e,n={}){let r;try{r=JSON.parse(Sl.decode(e))}catch{}if(!nd(r))throw new zg("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof t.typ!="string"||uE(t.typ)!==uE(i)))throw new Fi('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:s=[],issuer:o,subject:a,audience:l,maxTokenAge:u}=n,c=[...s];u!==void 0&&c.push("iat"),l!==void 0&&c.push("aud"),a!==void 0&&c.push("sub"),o!==void 0&&c.push("iss");for(const p of new Set(c.reverse()))if(!(p in r))throw new Fi(`missing required "${p}" claim`,r,p,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new Fi('unexpected "iss" claim value',r,"iss","check_failed");if(a&&r.sub!==a)throw new Fi('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!vJ(r.aud,typeof l=="string"?[l]:l))throw new Fi('unexpected "aud" claim value',r,"aud","check_failed");let h;switch(typeof n.clockTolerance){case"string":h=uh(n.clockTolerance);break;case"number":h=n.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:d}=n,f=Ro(d||new Date);if((r.iat!==void 0||u)&&typeof r.iat!="number")throw new Fi('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Fi('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>f+h)throw new Fi('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Fi('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=f-h)throw new Jb('"exp" claim timestamp check failed',r,"exp","check_failed")}if(u){const p=f-r.iat,m=typeof u=="number"?u:uh(u);if(p-h>m)throw new Jb('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(p<0-h)throw new Fi('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r}var An;class bJ{constructor(e){Nt(this,An);if(!nd(e))throw new TypeError("JWT Claims Set MUST be an object");it(this,An,structuredClone(e))}data(){return Ls.encode(JSON.stringify(ue(this,An)))}get iss(){return ue(this,An).iss}set iss(e){ue(this,An).iss=e}get sub(){return ue(this,An).sub}set sub(e){ue(this,An).sub=e}get aud(){return ue(this,An).aud}set aud(e){ue(this,An).aud=e}set jti(e){ue(this,An).jti=e}set nbf(e){typeof e=="number"?ue(this,An).nbf=Oa("setNotBefore",e):e instanceof Date?ue(this,An).nbf=Oa("setNotBefore",Ro(e)):ue(this,An).nbf=Ro(new Date)+uh(e)}set exp(e){typeof e=="number"?ue(this,An).exp=Oa("setExpirationTime",e):e instanceof Date?ue(this,An).exp=Oa("setExpirationTime",Ro(e)):ue(this,An).exp=Ro(new Date)+uh(e)}set iat(e){typeof e>"u"?ue(this,An).iat=Ro(new Date):e instanceof Date?ue(this,An).iat=Oa("setIssuedAt",Ro(e)):typeof e=="string"?ue(this,An).iat=Oa("setIssuedAt",Ro(new Date)+uh(e)):ue(this,An).iat=Oa("setIssuedAt",e)}}An=new WeakMap;async function xJ(t,e,n){var o;const r=await fJ(t,e,n);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new zg("JWTs MUST NOT use unencoded payload");const s={payload:yJ(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof e=="function"?{...s,key:r.key}:s}const wJ=async(t,e,n)=>{const r=await $j(t,e,"sign");Ej(t,r);const i=await crypto.subtle.sign(Lj(t,r.algorithm),r,n);return new Uint8Array(i)};var sd,ri,ws;class SJ{constructor(e){Nt(this,sd);Nt(this,ri);Nt(this,ws);if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");it(this,sd,e)}setProtectedHeader(e){if(ue(this,ri))throw new TypeError("setProtectedHeader can only be called once");return it(this,ri,e),this}setUnprotectedHeader(e){if(ue(this,ws))throw new TypeError("setUnprotectedHeader can only be called once");return it(this,ws,e),this}async sign(e,n){if(!ue(this,ri)&&!ue(this,ws))throw new xn("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Aj(ue(this,ri),ue(this,ws)))throw new xn("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...ue(this,ri),...ue(this,ws)},i=Mj(xn,new Map([["b64",!0]]),n==null?void 0:n.crit,ue(this,ri),r);let s=!0;if(i.has("b64")&&(s=ue(this,ri).b64,typeof s!="boolean"))throw new xn('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new xn('JWS "alg" (Algorithm) Header Parameter missing or invalid');Rj(o,e,"sign");let a=ue(this,sd);s&&(a=Ls.encode(N0(a)));let l;ue(this,ri)?l=Ls.encode(N0(JSON.stringify(ue(this,ri)))):l=Ls.encode("");const u=yj(l,Ls.encode("."),a),c=await Nj(e,o),h=await wJ(o,c,u),d={signature:N0(h),payload:""};return s&&(d.payload=Sl.decode(a)),ue(this,ws)&&(d.header=ue(this,ws)),ue(this,ri)&&(d.protected=Sl.decode(l)),d}}sd=new WeakMap,ri=new WeakMap,ws=new WeakMap;var jc;class CJ{constructor(e){Nt(this,jc);it(this,jc,new SJ(e))}setProtectedHeader(e){return ue(this,jc).setProtectedHeader(e),this}async sign(e,n){const r=await ue(this,jc).sign(e,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}jc=new WeakMap;var Vo,wi;class hE{constructor(e={}){Nt(this,Vo);Nt(this,wi);it(this,wi,new bJ(e))}setIssuer(e){return ue(this,wi).iss=e,this}setSubject(e){return ue(this,wi).sub=e,this}setAudience(e){return ue(this,wi).aud=e,this}setJti(e){return ue(this,wi).jti=e,this}setNotBefore(e){return ue(this,wi).nbf=e,this}setExpirationTime(e){return ue(this,wi).exp=e,this}setIssuedAt(e){return ue(this,wi).iat=e,this}setProtectedHeader(e){return it(this,Vo,e),this}async sign(e,n){var i;const r=new CJ(ue(this,wi).data());if(r.setProtectedHeader(ue(this,Vo)),Array.isArray((i=ue(this,Vo))==null?void 0:i.crit)&&ue(this,Vo).crit.includes("b64")&&ue(this,Vo).b64===!1)throw new zg("JWTs MUST NOT use unencoded payload");return r.sign(e,n)}}Vo=new WeakMap,wi=new WeakMap;var jj={exports:{}};(function(t,e){(function(n,r){t.exports=r(j)})($n,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)s.d(l,u,(function(c){return o[c]}).bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=48)}([function(r,i){r.exports=n},function(r,i){var s=r.exports={version:"2.6.12"};typeof __e=="number"&&(__e=s)},function(r,i,s){var o=s(26)("wks"),a=s(17),l=s(3).Symbol,u=typeof l=="function";(r.exports=function(c){return o[c]||(o[c]=u&&l[c]||(u?l:a)("Symbol."+c))}).store=o},function(r,i){var s=r.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=s)},function(r,i,s){r.exports=!s(8)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(r,i){var s={}.hasOwnProperty;r.exports=function(o,a){return s.call(o,a)}},function(r,i,s){var o=s(7),a=s(16);r.exports=s(4)?function(l,u,c){return o.f(l,u,a(1,c))}:function(l,u,c){return l[u]=c,l}},function(r,i,s){var o=s(10),a=s(35),l=s(23),u=Object.defineProperty;i.f=s(4)?Object.defineProperty:function(c,h,d){if(o(c),h=l(h,!0),o(d),a)try{return u(c,h,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(c[h]=d.value),c}},function(r,i){r.exports=function(s){try{return!!s()}catch{return!0}}},function(r,i,s){var o=s(40),a=s(22);r.exports=function(l){return o(a(l))}},function(r,i,s){var o=s(11);r.exports=function(a){if(!o(a))throw TypeError(a+" is not an object!");return a}},function(r,i){r.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},function(r,i){r.exports={}},function(r,i,s){var o=s(39),a=s(27);r.exports=Object.keys||function(l){return o(l,a)}},function(r,i){r.exports=!0},function(r,i,s){var o=s(3),a=s(1),l=s(53),u=s(6),c=s(5),h=function(d,f,p){var m,g,y,b=d&h.F,C=d&h.G,x=d&h.S,S=d&h.P,w=d&h.B,k=d&h.W,L=C?a:a[f]||(a[f]={}),E=L.prototype,N=C?o:x?o[f]:(o[f]||{}).prototype;for(m in C&&(p=f),p)(g=!b&&N&&N[m]!==void 0)&&c(L,m)||(y=g?N[m]:p[m],L[m]=C&&typeof N[m]!="function"?p[m]:w&&g?l(y,o):k&&N[m]==y?function(_){var R=function(M,T,A){if(this instanceof _){switch(arguments.length){case 0:return new _;case 1:return new _(M);case 2:return new _(M,T)}return new _(M,T,A)}return _.apply(this,arguments)};return R.prototype=_.prototype,R}(y):S&&typeof y=="function"?l(Function.call,y):y,S&&((L.virtual||(L.virtual={}))[m]=y,d&h.R&&E&&!E[m]&&u(E,m,y)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,r.exports=h},function(r,i){r.exports=function(s,o){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:o}}},function(r,i){var s=0,o=Math.random();r.exports=function(a){return"Symbol(".concat(a===void 0?"":a,")_",(++s+o).toString(36))}},function(r,i,s){var o=s(22);r.exports=function(a){return Object(o(a))}},function(r,i){i.f={}.propertyIsEnumerable},function(r,i,s){var o=s(52)(!0);s(34)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,l=this._t,u=this._i;return u>=l.length?{value:void 0,done:!0}:(a=o(l,u),this._i+=a.length,{value:a,done:!1})})},function(r,i){var s=Math.ceil,o=Math.floor;r.exports=function(a){return isNaN(a=+a)?0:(a>0?o:s)(a)}},function(r,i){r.exports=function(s){if(s==null)throw TypeError("Can't call method on  "+s);return s}},function(r,i,s){var o=s(11);r.exports=function(a,l){if(!o(a))return a;var u,c;if(l&&typeof(u=a.toString)=="function"&&!o(c=u.call(a))||typeof(u=a.valueOf)=="function"&&!o(c=u.call(a))||!l&&typeof(u=a.toString)=="function"&&!o(c=u.call(a)))return c;throw TypeError("Can't convert object to primitive value")}},function(r,i){var s={}.toString;r.exports=function(o){return s.call(o).slice(8,-1)}},function(r,i,s){var o=s(26)("keys"),a=s(17);r.exports=function(l){return o[l]||(o[l]=a(l))}},function(r,i,s){var o=s(1),a=s(3),l=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(r.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:o.version,mode:s(14)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(r,i){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(r,i,s){var o=s(7).f,a=s(5),l=s(2)("toStringTag");r.exports=function(u,c,h){u&&!a(u=h?u:u.prototype,l)&&o(u,l,{configurable:!0,value:c})}},function(r,i,s){s(62);for(var o=s(3),a=s(6),l=s(12),u=s(2)("toStringTag"),c="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),h=0;h<c.length;h++){var d=c[h],f=o[d],p=f&&f.prototype;p&&!p[u]&&a(p,u,d),l[d]=l.Array}},function(r,i,s){i.f=s(2)},function(r,i,s){var o=s(3),a=s(1),l=s(14),u=s(30),c=s(7).f;r.exports=function(h){var d=a.Symbol||(a.Symbol=l?{}:o.Symbol||{});h.charAt(0)=="_"||h in d||c(d,h,{value:u.f(h)})}},function(r,i){i.f=Object.getOwnPropertySymbols},function(r,i){r.exports=function(s,o,a){return Math.min(Math.max(s,o),a)}},function(r,i,s){var o=s(14),a=s(15),l=s(37),u=s(6),c=s(12),h=s(55),d=s(28),f=s(61),p=s(2)("iterator"),m=!([].keys&&"next"in[].keys()),g=function(){return this};r.exports=function(y,b,C,x,S,w,k){h(C,b,x);var L,E,N,_=function(I){if(!m&&I in A)return A[I];switch(I){case"keys":case"values":return function(){return new C(this,I)}}return function(){return new C(this,I)}},R=b+" Iterator",M=S=="values",T=!1,A=y.prototype,$=A[p]||A["@@iterator"]||S&&A[S],D=$||_(S),O=S?M?_("entries"):D:void 0,P=b=="Array"&&A.entries||$;if(P&&(N=f(P.call(new y)))!==Object.prototype&&N.next&&(d(N,R,!0),o||typeof N[p]=="function"||u(N,p,g)),M&&$&&$.name!=="values"&&(T=!0,D=function(){return $.call(this)}),o&&!k||!m&&!T&&A[p]||u(A,p,D),c[b]=D,c[R]=g,S)if(L={values:M?D:_("values"),keys:w?D:_("keys"),entries:O},k)for(E in L)E in A||l(A,E,L[E]);else a(a.P+a.F*(m||T),b,L);return L}},function(r,i,s){r.exports=!s(4)&&!s(8)(function(){return Object.defineProperty(s(36)("div"),"a",{get:function(){return 7}}).a!=7})},function(r,i,s){var o=s(11),a=s(3).document,l=o(a)&&o(a.createElement);r.exports=function(u){return l?a.createElement(u):{}}},function(r,i,s){r.exports=s(6)},function(r,i,s){var o=s(10),a=s(56),l=s(27),u=s(25)("IE_PROTO"),c=function(){},h=function(){var d,f=s(36)("iframe"),p=l.length;for(f.style.display="none",s(60).appendChild(f),f.src="javascript:",(d=f.contentWindow.document).open(),d.write("<script>document.F=Object<\/script>"),d.close(),h=d.F;p--;)delete h.prototype[l[p]];return h()};r.exports=Object.create||function(d,f){var p;return d!==null?(c.prototype=o(d),p=new c,c.prototype=null,p[u]=d):p=h(),f===void 0?p:a(p,f)}},function(r,i,s){var o=s(5),a=s(9),l=s(57)(!1),u=s(25)("IE_PROTO");r.exports=function(c,h){var d,f=a(c),p=0,m=[];for(d in f)d!=u&&o(f,d)&&m.push(d);for(;h.length>p;)o(f,d=h[p++])&&(~l(m,d)||m.push(d));return m}},function(r,i,s){var o=s(24);r.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return o(a)=="String"?a.split(""):Object(a)}},function(r,i,s){var o=s(39),a=s(27).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(l){return o(l,a)}},function(r,i,s){var o=s(24),a=s(2)("toStringTag"),l=o(function(){return arguments}())=="Arguments";r.exports=function(u){var c,h,d;return u===void 0?"Undefined":u===null?"Null":typeof(h=function(f,p){try{return f[p]}catch{}}(c=Object(u),a))=="string"?h:l?o(c):(d=o(c))=="Object"&&typeof c.callee=="function"?"Arguments":d}},function(r,i){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}r.exports=s},function(r,i){var s=/-?\d+(\.\d+)?%?/g;r.exports=function(o){return o.match(s)}},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.getBase16Theme=i.createStyling=i.invertTheme=void 0;var o=g(s(49)),a=g(s(76)),l=g(s(81)),u=g(s(89)),c=g(s(93)),h=function(E){if(E&&E.__esModule)return E;var N={};if(E!=null)for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(N[_]=E[_]);return N.default=E,N}(s(94)),d=g(s(132)),f=g(s(133)),p=g(s(138)),m=s(139);function g(E){return E&&E.__esModule?E:{default:E}}var y=h.default,b=(0,u.default)(y),C=(0,p.default)(f.default,m.rgb2yuv,function(E){var N,_=(0,l.default)(E,3),R=_[0],M=_[1],T=_[2];return[(N=R,N<.25?1:N<.5?.9-N:1.1-N),M,T]},m.yuv2rgb,d.default),x=function(E){return function(N){return{className:[N.className,E.className].filter(Boolean).join(" "),style:(0,a.default)({},N.style||{},E.style||{})}}},S=function(E,N){var _=(0,u.default)(N);for(var R in E)_.indexOf(R)===-1&&_.push(R);return _.reduce(function(M,T){return M[T]=function(A,$){if(A===void 0)return $;if($===void 0)return A;var D=A===void 0?"undefined":(0,o.default)(A),O=$===void 0?"undefined":(0,o.default)($);switch(D){case"string":switch(O){case"string":return[$,A].filter(Boolean).join(" ");case"object":return x({className:A,style:$});case"function":return function(P){for(var I=arguments.length,B=Array(I>1?I-1:0),Y=1;Y<I;Y++)B[Y-1]=arguments[Y];return x({className:A})($.apply(void 0,[P].concat(B)))}}case"object":switch(O){case"string":return x({className:$,style:A});case"object":return(0,a.default)({},$,A);case"function":return function(P){for(var I=arguments.length,B=Array(I>1?I-1:0),Y=1;Y<I;Y++)B[Y-1]=arguments[Y];return x({style:A})($.apply(void 0,[P].concat(B)))}}case"function":switch(O){case"string":return function(P){for(var I=arguments.length,B=Array(I>1?I-1:0),Y=1;Y<I;Y++)B[Y-1]=arguments[Y];return A.apply(void 0,[x(P)({className:$})].concat(B))};case"object":return function(P){for(var I=arguments.length,B=Array(I>1?I-1:0),Y=1;Y<I;Y++)B[Y-1]=arguments[Y];return A.apply(void 0,[x(P)({style:$})].concat(B))};case"function":return function(P){for(var I=arguments.length,B=Array(I>1?I-1:0),Y=1;Y<I;Y++)B[Y-1]=arguments[Y];return A.apply(void 0,[$.apply(void 0,[P].concat(B))].concat(B))}}}}(E[T],N[T]),M},{})},w=function(E,N){for(var _=arguments.length,R=Array(_>2?_-2:0),M=2;M<_;M++)R[M-2]=arguments[M];if(N===null)return E;Array.isArray(N)||(N=[N]);var T=N.map(function($){return E[$]}).filter(Boolean),A=T.reduce(function($,D){return typeof D=="string"?$.className=[$.className,D].filter(Boolean).join(" "):(D===void 0?"undefined":(0,o.default)(D))==="object"?$.style=(0,a.default)({},$.style,D):typeof D=="function"&&($=(0,a.default)({},$,D.apply(void 0,[$].concat(R)))),$},{className:"",style:{}});return A.className||delete A.className,(0,u.default)(A.style).length===0&&delete A.style,A},k=i.invertTheme=function(E){return(0,u.default)(E).reduce(function(N,_){return N[_]=/^base/.test(_)?C(E[_]):_==="scheme"?E[_]+":inverted":E[_],N},{})},L=(i.createStyling=(0,c.default)(function(E){for(var N=arguments.length,_=Array(N>3?N-3:0),R=3;R<N;R++)_[R-3]=arguments[R];var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=M.defaultBase16,$=A===void 0?y:A,D=M.base16Themes,O=D===void 0?null:D,P=L(T,O);P&&(T=(0,a.default)({},P,T));var I=b.reduce(function(U,q){return U[q]=T[q]||$[q],U},{}),B=(0,u.default)(T).reduce(function(U,q){return b.indexOf(q)===-1&&(U[q]=T[q]),U},{}),Y=E(I),H=S(B,Y);return(0,c.default)(w,2).apply(void 0,[H].concat(_))},3),i.getBase16Theme=function(E,N){if(E&&E.extend&&(E=E.extend),typeof E=="string"){var _=E.split(":"),R=(0,l.default)(_,2),M=R[0],T=R[1];E=(N||{})[M]||h[M],T==="inverted"&&(E=k(E))}return E&&E.hasOwnProperty("base00")?E:void 0})},function(r,i,s){var o,a=typeof Reflect=="object"?Reflect:null,l=a&&typeof a.apply=="function"?a.apply:function(x,S,w){return Function.prototype.apply.call(x,S,w)};o=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)};var u=Number.isNaN||function(x){return x!=x};function c(){c.init.call(this)}r.exports=c,r.exports.once=function(x,S){return new Promise(function(w,k){function L(){E!==void 0&&x.removeListener("error",E),w([].slice.call(arguments))}var E;S!=="error"&&(E=function(N){x.removeListener(S,L),k(N)},x.once("error",E)),x.once(S,L)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var h=10;function d(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}function f(x){return x._maxListeners===void 0?c.defaultMaxListeners:x._maxListeners}function p(x,S,w,k){var L,E,N,_;if(d(w),(E=x._events)===void 0?(E=x._events=Object.create(null),x._eventsCount=0):(E.newListener!==void 0&&(x.emit("newListener",S,w.listener?w.listener:w),E=x._events),N=E[S]),N===void 0)N=E[S]=w,++x._eventsCount;else if(typeof N=="function"?N=E[S]=k?[w,N]:[N,w]:k?N.unshift(w):N.push(w),(L=f(x))>0&&N.length>L&&!N.warned){N.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");R.name="MaxListenersExceededWarning",R.emitter=x,R.type=S,R.count=N.length,_=R,console&&console.warn&&console.warn(_)}return x}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(x,S,w){var k={fired:!1,wrapFn:void 0,target:x,type:S,listener:w},L=m.bind(k);return L.listener=w,k.wrapFn=L,L}function y(x,S,w){var k=x._events;if(k===void 0)return[];var L=k[S];return L===void 0?[]:typeof L=="function"?w?[L.listener||L]:[L]:w?function(E){for(var N=new Array(E.length),_=0;_<N.length;++_)N[_]=E[_].listener||E[_];return N}(L):C(L,L.length)}function b(x){var S=this._events;if(S!==void 0){var w=S[x];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}function C(x,S){for(var w=new Array(S),k=0;k<S;++k)w[k]=x[k];return w}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(x){if(typeof x!="number"||x<0||u(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");h=x}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||u(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(x){for(var S=[],w=1;w<arguments.length;w++)S.push(arguments[w]);var k=x==="error",L=this._events;if(L!==void 0)k=k&&L.error===void 0;else if(!k)return!1;if(k){var E;if(S.length>0&&(E=S[0]),E instanceof Error)throw E;var N=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw N.context=E,N}var _=L[x];if(_===void 0)return!1;if(typeof _=="function")l(_,this,S);else{var R=_.length,M=C(_,R);for(w=0;w<R;++w)l(M[w],this,S)}return!0},c.prototype.addListener=function(x,S){return p(this,x,S,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(x,S){return p(this,x,S,!0)},c.prototype.once=function(x,S){return d(S),this.on(x,g(this,x,S)),this},c.prototype.prependOnceListener=function(x,S){return d(S),this.prependListener(x,g(this,x,S)),this},c.prototype.removeListener=function(x,S){var w,k,L,E,N;if(d(S),(k=this._events)===void 0)return this;if((w=k[x])===void 0)return this;if(w===S||w.listener===S)--this._eventsCount==0?this._events=Object.create(null):(delete k[x],k.removeListener&&this.emit("removeListener",x,w.listener||S));else if(typeof w!="function"){for(L=-1,E=w.length-1;E>=0;E--)if(w[E]===S||w[E].listener===S){N=w[E].listener,L=E;break}if(L<0)return this;L===0?w.shift():function(_,R){for(;R+1<_.length;R++)_[R]=_[R+1];_.pop()}(w,L),w.length===1&&(k[x]=w[0]),k.removeListener!==void 0&&this.emit("removeListener",x,N||S)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(x){var S,w,k;if((w=this._events)===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[x]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete w[x]),this;if(arguments.length===0){var L,E=Object.keys(w);for(k=0;k<E.length;++k)(L=E[k])!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(S=w[x])=="function")this.removeListener(x,S);else if(S!==void 0)for(k=S.length-1;k>=0;k--)this.removeListener(x,S[k]);return this},c.prototype.listeners=function(x){return y(this,x,!0)},c.prototype.rawListeners=function(x){return y(this,x,!1)},c.listenerCount=function(x,S){return typeof x.listenerCount=="function"?x.listenerCount(S):b.call(x,S)},c.prototype.listenerCount=b,c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(r,i,s){r.exports.Dispatcher=s(140)},function(r,i,s){r.exports=s(142)},function(r,i,s){i.__esModule=!0;var o=u(s(50)),a=u(s(65)),l=typeof a.default=="function"&&typeof o.default=="symbol"?function(c){return typeof c}:function(c){return c&&typeof a.default=="function"&&c.constructor===a.default&&c!==a.default.prototype?"symbol":typeof c};function u(c){return c&&c.__esModule?c:{default:c}}i.default=typeof a.default=="function"&&l(o.default)==="symbol"?function(c){return c===void 0?"undefined":l(c)}:function(c){return c&&typeof a.default=="function"&&c.constructor===a.default&&c!==a.default.prototype?"symbol":c===void 0?"undefined":l(c)}},function(r,i,s){r.exports={default:s(51),__esModule:!0}},function(r,i,s){s(20),s(29),r.exports=s(30).f("iterator")},function(r,i,s){var o=s(21),a=s(22);r.exports=function(l){return function(u,c){var h,d,f=String(a(u)),p=o(c),m=f.length;return p<0||p>=m?l?"":void 0:(h=f.charCodeAt(p))<55296||h>56319||p+1===m||(d=f.charCodeAt(p+1))<56320||d>57343?l?f.charAt(p):h:l?f.slice(p,p+2):d-56320+(h-55296<<10)+65536}}},function(r,i,s){var o=s(54);r.exports=function(a,l,u){if(o(a),l===void 0)return a;switch(u){case 1:return function(c){return a.call(l,c)};case 2:return function(c,h){return a.call(l,c,h)};case 3:return function(c,h,d){return a.call(l,c,h,d)}}return function(){return a.apply(l,arguments)}}},function(r,i){r.exports=function(s){if(typeof s!="function")throw TypeError(s+" is not a function!");return s}},function(r,i,s){var o=s(38),a=s(16),l=s(28),u={};s(6)(u,s(2)("iterator"),function(){return this}),r.exports=function(c,h,d){c.prototype=o(u,{next:a(1,d)}),l(c,h+" Iterator")}},function(r,i,s){var o=s(7),a=s(10),l=s(13);r.exports=s(4)?Object.defineProperties:function(u,c){a(u);for(var h,d=l(c),f=d.length,p=0;f>p;)o.f(u,h=d[p++],c[h]);return u}},function(r,i,s){var o=s(9),a=s(58),l=s(59);r.exports=function(u){return function(c,h,d){var f,p=o(c),m=a(p.length),g=l(d,m);if(u&&h!=h){for(;m>g;)if((f=p[g++])!=f)return!0}else for(;m>g;g++)if((u||g in p)&&p[g]===h)return u||g||0;return!u&&-1}}},function(r,i,s){var o=s(21),a=Math.min;r.exports=function(l){return l>0?a(o(l),9007199254740991):0}},function(r,i,s){var o=s(21),a=Math.max,l=Math.min;r.exports=function(u,c){return(u=o(u))<0?a(u+c,0):l(u,c)}},function(r,i,s){var o=s(3).document;r.exports=o&&o.documentElement},function(r,i,s){var o=s(5),a=s(18),l=s(25)("IE_PROTO"),u=Object.prototype;r.exports=Object.getPrototypeOf||function(c){return c=a(c),o(c,l)?c[l]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?u:null}},function(r,i,s){var o=s(63),a=s(64),l=s(12),u=s(9);r.exports=s(34)(Array,"Array",function(c,h){this._t=u(c),this._i=0,this._k=h},function(){var c=this._t,h=this._k,d=this._i++;return!c||d>=c.length?(this._t=void 0,a(1)):a(0,h=="keys"?d:h=="values"?c[d]:[d,c[d]])},"values"),l.Arguments=l.Array,o("keys"),o("values"),o("entries")},function(r,i){r.exports=function(){}},function(r,i){r.exports=function(s,o){return{value:o,done:!!s}}},function(r,i,s){r.exports={default:s(66),__esModule:!0}},function(r,i,s){s(67),s(73),s(74),s(75),r.exports=s(1).Symbol},function(r,i,s){var o=s(3),a=s(5),l=s(4),u=s(15),c=s(37),h=s(68).KEY,d=s(8),f=s(26),p=s(28),m=s(17),g=s(2),y=s(30),b=s(31),C=s(69),x=s(70),S=s(10),w=s(11),k=s(18),L=s(9),E=s(23),N=s(16),_=s(38),R=s(71),M=s(72),T=s(32),A=s(7),$=s(13),D=M.f,O=A.f,P=R.f,I=o.Symbol,B=o.JSON,Y=B&&B.stringify,H=g("_hidden"),U=g("toPrimitive"),q={}.propertyIsEnumerable,K=f("symbol-registry"),Q=f("symbols"),ee=f("op-symbols"),re=Object.prototype,ae=typeof I=="function"&&!!T.f,be=o.QObject,Ae=!be||!be.prototype||!be.prototype.findChild,Le=l&&d(function(){return _(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a!=7})?function(le,we,Me){var De=D(re,we);De&&delete re[we],O(le,we,Me),De&&le!==re&&O(re,we,De)}:O,He=function(le){var we=Q[le]=_(I.prototype);return we._k=le,we},Ue=ae&&typeof I.iterator=="symbol"?function(le){return typeof le=="symbol"}:function(le){return le instanceof I},yt=function(le,we,Me){return le===re&&yt(ee,we,Me),S(le),we=E(we,!0),S(Me),a(Q,we)?(Me.enumerable?(a(le,H)&&le[H][we]&&(le[H][we]=!1),Me=_(Me,{enumerable:N(0,!1)})):(a(le,H)||O(le,H,N(1,{})),le[H][we]=!0),Le(le,we,Me)):O(le,we,Me)},Gt=function(le,we){S(le);for(var Me,De=C(we=L(we)),ft=0,pt=De.length;pt>ft;)yt(le,Me=De[ft++],we[Me]);return le},bt=function(le){var we=q.call(this,le=E(le,!0));return!(this===re&&a(Q,le)&&!a(ee,le))&&(!(we||!a(this,le)||!a(Q,le)||a(this,H)&&this[H][le])||we)},Mn=function(le,we){if(le=L(le),we=E(we,!0),le!==re||!a(Q,we)||a(ee,we)){var Me=D(le,we);return!Me||!a(Q,we)||a(le,H)&&le[H][we]||(Me.enumerable=!0),Me}},cr=function(le){for(var we,Me=P(L(le)),De=[],ft=0;Me.length>ft;)a(Q,we=Me[ft++])||we==H||we==h||De.push(we);return De},Qt=function(le){for(var we,Me=le===re,De=P(Me?ee:L(le)),ft=[],pt=0;De.length>pt;)!a(Q,we=De[pt++])||Me&&!a(re,we)||ft.push(Q[we]);return ft};ae||(c((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var le=m(arguments.length>0?arguments[0]:void 0),we=function(Me){this===re&&we.call(ee,Me),a(this,H)&&a(this[H],le)&&(this[H][le]=!1),Le(this,le,N(1,Me))};return l&&Ae&&Le(re,le,{configurable:!0,set:we}),He(le)}).prototype,"toString",function(){return this._k}),M.f=Mn,A.f=yt,s(41).f=R.f=cr,s(19).f=bt,T.f=Qt,l&&!s(14)&&c(re,"propertyIsEnumerable",bt,!0),y.f=function(le){return He(g(le))}),u(u.G+u.W+u.F*!ae,{Symbol:I});for(var bn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),cn=0;bn.length>cn;)g(bn[cn++]);for(var _r=$(g.store),ye=0;_r.length>ye;)b(_r[ye++]);u(u.S+u.F*!ae,"Symbol",{for:function(le){return a(K,le+="")?K[le]:K[le]=I(le)},keyFor:function(le){if(!Ue(le))throw TypeError(le+" is not a symbol!");for(var we in K)if(K[we]===le)return we},useSetter:function(){Ae=!0},useSimple:function(){Ae=!1}}),u(u.S+u.F*!ae,"Object",{create:function(le,we){return we===void 0?_(le):Gt(_(le),we)},defineProperty:yt,defineProperties:Gt,getOwnPropertyDescriptor:Mn,getOwnPropertyNames:cr,getOwnPropertySymbols:Qt});var he=d(function(){T.f(1)});u(u.S+u.F*he,"Object",{getOwnPropertySymbols:function(le){return T.f(k(le))}}),B&&u(u.S+u.F*(!ae||d(function(){var le=I();return Y([le])!="[null]"||Y({a:le})!="{}"||Y(Object(le))!="{}"})),"JSON",{stringify:function(le){for(var we,Me,De=[le],ft=1;arguments.length>ft;)De.push(arguments[ft++]);if(Me=we=De[1],(w(we)||le!==void 0)&&!Ue(le))return x(we)||(we=function(pt,Pt){if(typeof Me=="function"&&(Pt=Me.call(this,pt,Pt)),!Ue(Pt))return Pt}),De[1]=we,Y.apply(B,De)}}),I.prototype[U]||s(6)(I.prototype,U,I.prototype.valueOf),p(I,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(r,i,s){var o=s(17)("meta"),a=s(11),l=s(5),u=s(7).f,c=0,h=Object.isExtensible||function(){return!0},d=!s(8)(function(){return h(Object.preventExtensions({}))}),f=function(m){u(m,o,{value:{i:"O"+ ++c,w:{}}})},p=r.exports={KEY:o,NEED:!1,fastKey:function(m,g){if(!a(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!l(m,o)){if(!h(m))return"F";if(!g)return"E";f(m)}return m[o].i},getWeak:function(m,g){if(!l(m,o)){if(!h(m))return!0;if(!g)return!1;f(m)}return m[o].w},onFreeze:function(m){return d&&p.NEED&&h(m)&&!l(m,o)&&f(m),m}}},function(r,i,s){var o=s(13),a=s(32),l=s(19);r.exports=function(u){var c=o(u),h=a.f;if(h)for(var d,f=h(u),p=l.f,m=0;f.length>m;)p.call(u,d=f[m++])&&c.push(d);return c}},function(r,i,s){var o=s(24);r.exports=Array.isArray||function(a){return o(a)=="Array"}},function(r,i,s){var o=s(9),a=s(41).f,l={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(c){return u&&l.call(c)=="[object Window]"?function(h){try{return a(h)}catch{return u.slice()}}(c):a(o(c))}},function(r,i,s){var o=s(19),a=s(16),l=s(9),u=s(23),c=s(5),h=s(35),d=Object.getOwnPropertyDescriptor;i.f=s(4)?d:function(f,p){if(f=l(f),p=u(p,!0),h)try{return d(f,p)}catch{}if(c(f,p))return a(!o.f.call(f,p),f[p])}},function(r,i){},function(r,i,s){s(31)("asyncIterator")},function(r,i,s){s(31)("observable")},function(r,i,s){i.__esModule=!0;var o,a=s(77),l=(o=a)&&o.__esModule?o:{default:o};i.default=l.default||function(u){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(u[d]=h[d])}return u}},function(r,i,s){r.exports={default:s(78),__esModule:!0}},function(r,i,s){s(79),r.exports=s(1).Object.assign},function(r,i,s){var o=s(15);o(o.S+o.F,"Object",{assign:s(80)})},function(r,i,s){var o=s(4),a=s(13),l=s(32),u=s(19),c=s(18),h=s(40),d=Object.assign;r.exports=!d||s(8)(function(){var f={},p={},m=Symbol(),g="abcdefghijklmnopqrst";return f[m]=7,g.split("").forEach(function(y){p[y]=y}),d({},f)[m]!=7||Object.keys(d({},p)).join("")!=g})?function(f,p){for(var m=c(f),g=arguments.length,y=1,b=l.f,C=u.f;g>y;)for(var x,S=h(arguments[y++]),w=b?a(S).concat(b(S)):a(S),k=w.length,L=0;k>L;)x=w[L++],o&&!C.call(S,x)||(m[x]=S[x]);return m}:d},function(r,i,s){i.__esModule=!0;var o=l(s(82)),a=l(s(85));function l(u){return u&&u.__esModule?u:{default:u}}i.default=function(u,c){if(Array.isArray(u))return u;if((0,o.default)(Object(u)))return function(h,d){var f=[],p=!0,m=!1,g=void 0;try{for(var y,b=(0,a.default)(h);!(p=(y=b.next()).done)&&(f.push(y.value),!d||f.length!==d);p=!0);}catch(C){m=!0,g=C}finally{try{!p&&b.return&&b.return()}finally{if(m)throw g}}return f}(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(r,i,s){r.exports={default:s(83),__esModule:!0}},function(r,i,s){s(29),s(20),r.exports=s(84)},function(r,i,s){var o=s(42),a=s(2)("iterator"),l=s(12);r.exports=s(1).isIterable=function(u){var c=Object(u);return c[a]!==void 0||"@@iterator"in c||l.hasOwnProperty(o(c))}},function(r,i,s){r.exports={default:s(86),__esModule:!0}},function(r,i,s){s(29),s(20),r.exports=s(87)},function(r,i,s){var o=s(10),a=s(88);r.exports=s(1).getIterator=function(l){var u=a(l);if(typeof u!="function")throw TypeError(l+" is not iterable!");return o(u.call(l))}},function(r,i,s){var o=s(42),a=s(2)("iterator"),l=s(12);r.exports=s(1).getIteratorMethod=function(u){if(u!=null)return u[a]||u["@@iterator"]||l[o(u)]}},function(r,i,s){r.exports={default:s(90),__esModule:!0}},function(r,i,s){s(91),r.exports=s(1).Object.keys},function(r,i,s){var o=s(18),a=s(13);s(92)("keys",function(){return function(l){return a(o(l))}})},function(r,i,s){var o=s(15),a=s(1),l=s(8);r.exports=function(u,c){var h=(a.Object||{})[u]||Object[u],d={};d[u]=c(h),o(o.S+o.F*l(function(){h(1)}),"Object",d)}},function(r,i,s){(function(o){var a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l=/^\s+|\s+$/g,u=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,c=/\{\n\/\* \[wrapped with (.+)\] \*/,h=/,? & /,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^\[object .+?Constructor\]$/,m=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,y=parseInt,b=typeof o=="object"&&o&&o.Object===Object&&o,C=typeof self=="object"&&self&&self.Object===Object&&self,x=b||C||Function("return this")();function S(ye,he,le){switch(le.length){case 0:return ye.call(he);case 1:return ye.call(he,le[0]);case 2:return ye.call(he,le[0],le[1]);case 3:return ye.call(he,le[0],le[1],le[2])}return ye.apply(he,le)}function w(ye,he){return!!(ye&&ye.length)&&function(le,we,Me){if(we!=we)return function(pt,Pt,Jt,Kt){for(var sn=pt.length,Mt=Jt+-1;++Mt<sn;)if(Pt(pt[Mt],Mt,pt))return Mt;return-1}(le,k,Me);for(var De=Me-1,ft=le.length;++De<ft;)if(le[De]===we)return De;return-1}(ye,he,0)>-1}function k(ye){return ye!=ye}function L(ye,he){for(var le=ye.length,we=0;le--;)ye[le]===he&&we++;return we}function E(ye,he){for(var le=-1,we=ye.length,Me=0,De=[];++le<we;){var ft=ye[le];ft!==he&&ft!=="__lodash_placeholder__"||(ye[le]="__lodash_placeholder__",De[Me++]=le)}return De}var N,_,R,M=Function.prototype,T=Object.prototype,A=x["__core-js_shared__"],$=(N=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",D=M.toString,O=T.hasOwnProperty,P=T.toString,I=RegExp("^"+D.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=Object.create,Y=Math.max,H=Math.min,U=(_=He(Object,"defineProperty"),(R=He.name)&&R.length>2?_:void 0);function q(ye){return bn(ye)?B(ye):{}}function K(ye){return!(!bn(ye)||function(he){return!!$&&$ in he}(ye))&&(function(he){var le=bn(he)?P.call(he):"";return le=="[object Function]"||le=="[object GeneratorFunction]"}(ye)||function(he){var le=!1;if(he!=null&&typeof he.toString!="function")try{le=!!(he+"")}catch{}return le}(ye)?I:p).test(function(he){if(he!=null){try{return D.call(he)}catch{}try{return he+""}catch{}}return""}(ye))}function Q(ye,he,le,we){for(var Me=-1,De=ye.length,ft=le.length,pt=-1,Pt=he.length,Jt=Y(De-ft,0),Kt=Array(Pt+Jt),sn=!we;++pt<Pt;)Kt[pt]=he[pt];for(;++Me<ft;)(sn||Me<De)&&(Kt[le[Me]]=ye[Me]);for(;Jt--;)Kt[pt++]=ye[Me++];return Kt}function ee(ye,he,le,we){for(var Me=-1,De=ye.length,ft=-1,pt=le.length,Pt=-1,Jt=he.length,Kt=Y(De-pt,0),sn=Array(Kt+Jt),Mt=!we;++Me<Kt;)sn[Me]=ye[Me];for(var ne=Me;++Pt<Jt;)sn[ne+Pt]=he[Pt];for(;++ft<pt;)(Mt||Me<De)&&(sn[ne+le[ft]]=ye[Me++]);return sn}function re(ye){return function(){var he=arguments;switch(he.length){case 0:return new ye;case 1:return new ye(he[0]);case 2:return new ye(he[0],he[1]);case 3:return new ye(he[0],he[1],he[2]);case 4:return new ye(he[0],he[1],he[2],he[3]);case 5:return new ye(he[0],he[1],he[2],he[3],he[4]);case 6:return new ye(he[0],he[1],he[2],he[3],he[4],he[5]);case 7:return new ye(he[0],he[1],he[2],he[3],he[4],he[5],he[6])}var le=q(ye.prototype),we=ye.apply(le,he);return bn(we)?we:le}}function ae(ye,he,le,we,Me,De,ft,pt,Pt,Jt){var Kt=128&he,sn=1&he,Mt=2&he,ne=24&he,ke=512&he,Ee=Mt?void 0:re(ye);return function $e(){for(var Ne=arguments.length,Oe=Array(Ne),qe=Ne;qe--;)Oe[qe]=arguments[qe];if(ne)var et=Le($e),It=L(Oe,et);if(we&&(Oe=Q(Oe,we,Me,ne)),De&&(Oe=ee(Oe,De,ft,ne)),Ne-=It,ne&&Ne<Jt){var Et=E(Oe,et);return be(ye,he,ae,$e.placeholder,le,Oe,Et,pt,Pt,Jt-Ne)}var xt=sn?le:this,mt=Mt?xt[ye]:ye;return Ne=Oe.length,pt?Oe=bt(Oe,pt):ke&&Ne>1&&Oe.reverse(),Kt&&Pt<Ne&&(Oe.length=Pt),this&&this!==x&&this instanceof $e&&(mt=Ee||re(mt)),mt.apply(xt,Oe)}}function be(ye,he,le,we,Me,De,ft,pt,Pt,Jt){var Kt=8&he;he|=Kt?32:64,4&(he&=~(Kt?64:32))||(he&=-4);var sn=le(ye,he,Me,Kt?De:void 0,Kt?ft:void 0,Kt?void 0:De,Kt?void 0:ft,pt,Pt,Jt);return sn.placeholder=we,Mn(sn,ye,he)}function Ae(ye,he,le,we,Me,De,ft,pt){var Pt=2&he;if(!Pt&&typeof ye!="function")throw new TypeError("Expected a function");var Jt=we?we.length:0;if(Jt||(he&=-97,we=Me=void 0),ft=ft===void 0?ft:Y(_r(ft),0),pt=pt===void 0?pt:_r(pt),Jt-=Me?Me.length:0,64&he){var Kt=we,sn=Me;we=Me=void 0}var Mt=[ye,he,le,we,Me,Kt,sn,De,ft,pt];if(ye=Mt[0],he=Mt[1],le=Mt[2],we=Mt[3],Me=Mt[4],!(pt=Mt[9]=Mt[9]==null?Pt?0:ye.length:Y(Mt[9]-Jt,0))&&24&he&&(he&=-25),he&&he!=1)ne=he==8||he==16?function(ke,Ee,$e){var Ne=re(ke);return function Oe(){for(var qe=arguments.length,et=Array(qe),It=qe,Et=Le(Oe);It--;)et[It]=arguments[It];var xt=qe<3&&et[0]!==Et&&et[qe-1]!==Et?[]:E(et,Et);if((qe-=xt.length)<$e)return be(ke,Ee,ae,Oe.placeholder,void 0,et,xt,void 0,void 0,$e-qe);var mt=this&&this!==x&&this instanceof Oe?Ne:ke;return S(mt,this,et)}}(ye,he,pt):he!=32&&he!=33||Me.length?ae.apply(void 0,Mt):function(ke,Ee,$e,Ne){var Oe=1&Ee,qe=re(ke);return function et(){for(var It=-1,Et=arguments.length,xt=-1,mt=Ne.length,ot=Array(mt+Et),nt=this&&this!==x&&this instanceof et?qe:ke;++xt<mt;)ot[xt]=Ne[xt];for(;Et--;)ot[xt++]=arguments[++It];return S(nt,Oe?$e:this,ot)}}(ye,he,le,we);else var ne=function(ke,Ee,$e){var Ne=1&Ee,Oe=re(ke);return function qe(){var et=this&&this!==x&&this instanceof qe?Oe:ke;return et.apply(Ne?$e:this,arguments)}}(ye,he,le);return Mn(ne,ye,he)}function Le(ye){return ye.placeholder}function He(ye,he){var le=function(we,Me){return we==null?void 0:we[Me]}(ye,he);return K(le)?le:void 0}function Ue(ye){var he=ye.match(c);return he?he[1].split(h):[]}function yt(ye,he){var le=he.length,we=le-1;return he[we]=(le>1?"& ":"")+he[we],he=he.join(le>2?", ":" "),ye.replace(u,`{
/* [wrapped with `+he+`] */
`)}function Gt(ye,he){return!!(he=he??9007199254740991)&&(typeof ye=="number"||g.test(ye))&&ye>-1&&ye%1==0&&ye<he}function bt(ye,he){for(var le=ye.length,we=H(he.length,le),Me=function(ft,pt){var Pt=-1,Jt=ft.length;for(pt||(pt=Array(Jt));++Pt<Jt;)pt[Pt]=ft[Pt];return pt}(ye);we--;){var De=he[we];ye[we]=Gt(De,le)?Me[De]:void 0}return ye}var Mn=U?function(ye,he,le){var we,Me=he+"";return U(ye,"toString",{configurable:!0,enumerable:!1,value:(we=yt(Me,cr(Ue(Me),le)),function(){return we})})}:function(ye){return ye};function cr(ye,he){return function(le,we){for(var Me=-1,De=le?le.length:0;++Me<De&&we(le[Me],Me,le)!==!1;);}(a,function(le){var we="_."+le[0];he&le[1]&&!w(ye,we)&&ye.push(we)}),ye.sort()}function Qt(ye,he,le){var we=Ae(ye,8,void 0,void 0,void 0,void 0,void 0,he=le?void 0:he);return we.placeholder=Qt.placeholder,we}function bn(ye){var he=typeof ye;return!!ye&&(he=="object"||he=="function")}function cn(ye){return ye?(ye=function(he){if(typeof he=="number")return he;if(function(Me){return typeof Me=="symbol"||function(De){return!!De&&typeof De=="object"}(Me)&&P.call(Me)=="[object Symbol]"}(he))return NaN;if(bn(he)){var le=typeof he.valueOf=="function"?he.valueOf():he;he=bn(le)?le+"":le}if(typeof he!="string")return he===0?he:+he;he=he.replace(l,"");var we=f.test(he);return we||m.test(he)?y(he.slice(2),we?2:8):d.test(he)?NaN:+he}(ye))===1/0||ye===-1/0?17976931348623157e292*(ye<0?-1:1):ye==ye?ye:0:ye===0?ye:0}function _r(ye){var he=cn(ye),le=he%1;return he==he?le?he-le:he:0}Qt.placeholder={},r.exports=Qt}).call(this,s(43))},function(r,i,s){function o(ee){return ee&&ee.__esModule?ee.default:ee}i.__esModule=!0;var a=s(95);i.threezerotwofour=o(a);var l=s(96);i.apathy=o(l);var u=s(97);i.ashes=o(u);var c=s(98);i.atelierDune=o(c);var h=s(99);i.atelierForest=o(h);var d=s(100);i.atelierHeath=o(d);var f=s(101);i.atelierLakeside=o(f);var p=s(102);i.atelierSeaside=o(p);var m=s(103);i.bespin=o(m);var g=s(104);i.brewer=o(g);var y=s(105);i.bright=o(y);var b=s(106);i.chalk=o(b);var C=s(107);i.codeschool=o(C);var x=s(108);i.colors=o(x);var S=s(109);i.default=o(S);var w=s(110);i.eighties=o(w);var k=s(111);i.embers=o(k);var L=s(112);i.flat=o(L);var E=s(113);i.google=o(E);var N=s(114);i.grayscale=o(N);var _=s(115);i.greenscreen=o(_);var R=s(116);i.harmonic=o(R);var M=s(117);i.hopscotch=o(M);var T=s(118);i.isotope=o(T);var A=s(119);i.marrakesh=o(A);var $=s(120);i.mocha=o($);var D=s(121);i.monokai=o(D);var O=s(122);i.ocean=o(O);var P=s(123);i.paraiso=o(P);var I=s(124);i.pop=o(I);var B=s(125);i.railscasts=o(B);var Y=s(126);i.shapeshifter=o(Y);var H=s(127);i.solarized=o(H);var U=s(128);i.summerfruit=o(U);var q=s(129);i.tomorrow=o(q);var K=s(130);i.tube=o(K);var Q=s(131);i.twilight=o(Q)},function(r,i,s){i.__esModule=!0,i.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"brewer",author:"timothée poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},r.exports=i.default},function(r,i,s){i.__esModule=!0,i.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},r.exports=i.default},function(r,i,s){var o=s(33);function a(l){var u=Math.round(o(l,0,255)).toString(16);return u.length==1?"0"+u:u}r.exports=function(l){var u=l.length===4?a(255*l[3]):"";return"#"+a(l[0])+a(l[1])+a(l[2])+u}},function(r,i,s){var o=s(134),a=s(135),l=s(136),u=s(137),c={"#":a,hsl:function(d){var f=o(d),p=u(f);return f.length===4&&p.push(f[3]),p},rgb:l};function h(d){for(var f in c)if(d.indexOf(f)===0)return c[f](d)}h.rgb=l,h.hsl=o,h.hex=a,r.exports=h},function(r,i,s){var o=s(44),a=s(33);function l(u,c){switch(u=parseFloat(u),c){case 0:return a(u,0,360);case 1:case 2:return a(u,0,100);case 3:return a(u,0,1)}}r.exports=function(u){return o(u).map(l)}},function(r,i){r.exports=function(s){s.length!==4&&s.length!==5||(s=function(l){for(var u="#",c=1;c<l.length;c++){var h=l.charAt(c);u+=h+h}return u}(s));var o=[parseInt(s.substring(1,3),16),parseInt(s.substring(3,5),16),parseInt(s.substring(5,7),16)];if(s.length===9){var a=parseFloat((parseInt(s.substring(7,9),16)/255).toFixed(2));o.push(a)}return o}},function(r,i,s){var o=s(44),a=s(33);function l(u,c){return c<3?u.indexOf("%")!=-1?Math.round(255*a(parseInt(u,10),0,100)/100):a(parseInt(u,10),0,255):a(parseFloat(u),0,1)}r.exports=function(u){return o(u).map(l)}},function(r,i){r.exports=function(s){var o,a,l,u,c,h=s[0]/360,d=s[1]/100,f=s[2]/100;if(d==0)return[c=255*f,c,c];o=2*f-(a=f<.5?f*(1+d):f+d-f*d),u=[0,0,0];for(var p=0;p<3;p++)(l=h+1/3*-(p-1))<0&&l++,l>1&&l--,c=6*l<1?o+6*(a-o)*l:2*l<1?a:3*l<2?o+(a-o)*(2/3-l)*6:o,u[p]=255*c;return u}},function(r,i,s){(function(o){var a=typeof o=="object"&&o&&o.Object===Object&&o,l=typeof self=="object"&&self&&self.Object===Object&&self,u=a||l||Function("return this")();function c(E,N,_){switch(_.length){case 0:return E.call(N);case 1:return E.call(N,_[0]);case 2:return E.call(N,_[0],_[1]);case 3:return E.call(N,_[0],_[1],_[2])}return E.apply(N,_)}function h(E,N){for(var _=-1,R=N.length,M=E.length;++_<R;)E[M+_]=N[_];return E}var d=Object.prototype,f=d.hasOwnProperty,p=d.toString,m=u.Symbol,g=d.propertyIsEnumerable,y=m?m.isConcatSpreadable:void 0,b=Math.max;function C(E){return x(E)||function(N){return function(_){return function(R){return!!R&&typeof R=="object"}(_)&&function(R){return R!=null&&function(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=9007199254740991}(R.length)&&!function(M){var T=function(A){var $=typeof A;return!!A&&($=="object"||$=="function")}(M)?p.call(M):"";return T=="[object Function]"||T=="[object GeneratorFunction]"}(R)}(_)}(N)&&f.call(N,"callee")&&(!g.call(N,"callee")||p.call(N)=="[object Arguments]")}(E)||!!(y&&E&&E[y])}var x=Array.isArray,S,w,k,L=(w=function(E){var N=(E=function(M,T,A,$,D){var O=-1,P=M.length;for(A||(A=C),D||(D=[]);++O<P;){var I=M[O];A(I)?h(D,I):D[D.length]=I}return D}(E)).length,_=N;for(S;_--;)if(typeof E[_]!="function")throw new TypeError("Expected a function");return function(){for(var R=0,M=N?E[R].apply(this,arguments):arguments[0];++R<N;)M=E[R].call(this,M);return M}},k=b(k===void 0?w.length-1:k,0),function(){for(var E=arguments,N=-1,_=b(E.length-k,0),R=Array(_);++N<_;)R[N]=E[k+N];N=-1;for(var M=Array(k+1);++N<k;)M[N]=E[N];return M[k]=R,c(w,this,M)});r.exports=L}).call(this,s(43))},function(r,i,s){Object.defineProperty(i,"__esModule",{value:!0}),i.yuv2rgb=function(o){var a,l,u,c=o[0],h=o[1],d=o[2];return a=1*c+0*h+1.13983*d,l=1*c+-.39465*h+-.5806*d,u=1*c+2.02311*h+0*d,a=Math.min(Math.max(0,a),1),l=Math.min(Math.max(0,l),1),u=Math.min(Math.max(0,u),1),[255*a,255*l,255*u]},i.rgb2yuv=function(o){var a=o[0]/255,l=o[1]/255,u=o[2]/255;return[.299*a+.587*l+.114*u,-.14713*a+-.28886*l+.436*u,.615*a+-.51499*l+-.10001*u]}},function(r,i,s){function o(u,c,h){return c in u?Object.defineProperty(u,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[c]=h,u}var a=s(141),l=function(){function u(){o(this,"_callbacks",void 0),o(this,"_isDispatching",void 0),o(this,"_isHandled",void 0),o(this,"_isPending",void 0),o(this,"_lastID",void 0),o(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var c=u.prototype;return c.register=function(h){var d="ID_"+this._lastID++;return this._callbacks[d]=h,d},c.unregister=function(h){this._callbacks[h]||a(!1),delete this._callbacks[h]},c.waitFor=function(h){this._isDispatching||a(!1);for(var d=0;d<h.length;d++){var f=h[d];this._isPending[f]?this._isHandled[f]||a(!1):(this._callbacks[f]||a(!1),this._invokeCallback(f))}},c.dispatch=function(h){this._isDispatching&&a(!1),this._startDispatching(h);try{for(var d in this._callbacks)this._isPending[d]||this._invokeCallback(d)}finally{this._stopDispatching()}},c.isDispatching=function(){return this._isDispatching},c._invokeCallback=function(h){this._isPending[h]=!0,this._callbacks[h](this._pendingPayload),this._isHandled[h]=!0},c._startDispatching=function(h){for(var d in this._callbacks)this._isPending[d]=!1,this._isHandled[d]=!1;this._pendingPayload=h,this._isDispatching=!0},c._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},u}();r.exports=l},function(r,i,s){r.exports=function(o,a){for(var l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];if(!o){var h;if(a===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=0;(h=new Error(a.replace(/%s/g,function(){return String(u[d++])}))).name="Invariant Violation"}throw h.framesToPop=1,h}}},function(r,i,s){function o(G,J,W){return J in G?Object.defineProperty(G,J,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[J]=W,G}function a(G,J){var W=Object.keys(G);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(G);J&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(G,X).enumerable})),W.push.apply(W,V)}return W}function l(G){for(var J=1;J<arguments.length;J++){var W=arguments[J]!=null?arguments[J]:{};J%2?a(Object(W),!0).forEach(function(V){o(G,V,W[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(W)):a(Object(W)).forEach(function(V){Object.defineProperty(G,V,Object.getOwnPropertyDescriptor(W,V))})}return G}function u(G,J){if(!(G instanceof J))throw new TypeError("Cannot call a class as a function")}function c(G,J){for(var W=0;W<J.length;W++){var V=J[W];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(G,V.key,V)}}function h(G,J,W){return J&&c(G.prototype,J),W&&c(G,W),G}function d(G,J){return(d=Object.setPrototypeOf||function(W,V){return W.__proto__=V,W})(G,J)}function f(G,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(J&&J.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),J&&d(G,J)}function p(G){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)})(G)}function m(G){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(G)}function g(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function y(G,J){return!J||m(J)!=="object"&&typeof J!="function"?g(G):J}function b(G){var J=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var W,V=p(G);if(J){var X=p(this).constructor;W=Reflect.construct(V,arguments,X)}else W=V.apply(this,arguments);return y(this,W)}}s.r(i);var C=s(0),x=s.n(C);function S(){var G=this.constructor.getDerivedStateFromProps(this.props,this.state);G!=null&&this.setState(G)}function w(G){this.setState((function(J){var W=this.constructor.getDerivedStateFromProps(G,J);return W??null}).bind(this))}function k(G,J){try{var W=this.props,V=this.state;this.props=G,this.state=J,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(W,V)}finally{this.props=W,this.state=V}}function L(G){var J=G.prototype;if(!J||!J.isReactComponent)throw new Error("Can only polyfill class components");if(typeof G.getDerivedStateFromProps!="function"&&typeof J.getSnapshotBeforeUpdate!="function")return G;var W=null,V=null,X=null;if(typeof J.componentWillMount=="function"?W="componentWillMount":typeof J.UNSAFE_componentWillMount=="function"&&(W="UNSAFE_componentWillMount"),typeof J.componentWillReceiveProps=="function"?V="componentWillReceiveProps":typeof J.UNSAFE_componentWillReceiveProps=="function"&&(V="UNSAFE_componentWillReceiveProps"),typeof J.componentWillUpdate=="function"?X="componentWillUpdate":typeof J.UNSAFE_componentWillUpdate=="function"&&(X="UNSAFE_componentWillUpdate"),W!==null||V!==null||X!==null){var ce=G.displayName||G.name,ve=typeof G.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+ce+" uses "+ve+" but also contains the following legacy lifecycles:"+(W!==null?`
  `+W:"")+(V!==null?`
  `+V:"")+(X!==null?`
  `+X:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof G.getDerivedStateFromProps=="function"&&(J.componentWillMount=S,J.componentWillReceiveProps=w),typeof J.getSnapshotBeforeUpdate=="function"){if(typeof J.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");J.componentWillUpdate=k;var de=J.componentDidUpdate;J.componentDidUpdate=function(ie,Se,Fe){var gt=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Fe;de.call(this,ie,Se,gt)}}return G}function E(G,J){if(G==null)return{};var W,V,X=function(ve,de){if(ve==null)return{};var ie,Se,Fe={},gt=Object.keys(ve);for(Se=0;Se<gt.length;Se++)ie=gt[Se],de.indexOf(ie)>=0||(Fe[ie]=ve[ie]);return Fe}(G,J);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(G);for(V=0;V<ce.length;V++)W=ce[V],J.indexOf(W)>=0||Object.prototype.propertyIsEnumerable.call(G,W)&&(X[W]=G[W])}return X}function N(G){var J=function(W){return{}.toString.call(W).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(G);return J==="number"&&(J=isNaN(G)?"nan":(0|G)!=G?"float":"integer"),J}S.__suppressDeprecationWarning=!0,w.__suppressDeprecationWarning=!0,k.__suppressDeprecationWarning=!0;var _={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},R={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},M={globalFontFamily:"monospace",globalCursor:"default",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},T=s(45),A=function(G){var J=function(W){return{backgroundColor:W.base00,ellipsisColor:W.base09,braceColor:W.base07,expandedIcon:W.base0D,collapsedIcon:W.base0E,keyColor:W.base07,arrayKeyColor:W.base0C,objectSize:W.base04,copyToClipboard:W.base0F,copyToClipboardCheck:W.base0D,objectBorder:W.base02,dataTypes:{boolean:W.base0E,date:W.base0D,float:W.base0B,function:W.base0D,integer:W.base0F,string:W.base09,nan:W.base08,null:W.base0A,undefined:W.base05,regexp:W.base0A,background:W.base02},editVariable:{editIcon:W.base0E,cancelIcon:W.base09,removeIcon:W.base09,addIcon:W.base0E,checkIcon:W.base0E,background:W.base01,color:W.base0A,border:W.base07},addKeyModal:{background:W.base05,border:W.base04,color:W.base0A,labelColor:W.base01},validationFailure:{background:W.base09,iconColor:W.base01,fontColor:W.base01}}}(G);return{"app-container":{fontFamily:M.globalFontFamily,cursor:M.globalCursor,backgroundColor:J.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:J.ellipsisColor,fontSize:M.ellipsisFontSize,lineHeight:M.ellipsisLineHeight,cursor:M.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:M.braceCursor,fontWeight:M.braceFontWeight,color:J.braceColor},"expanded-icon":{color:J.expandedIcon},"collapsed-icon":{color:J.collapsedIcon},colon:{display:"inline-block",margin:M.keyMargin,color:J.keyColor,verticalAlign:"top"},objectKeyVal:function(W,V){return{style:l({paddingTop:M.keyValPaddingTop,paddingRight:M.keyValPaddingRight,paddingBottom:M.keyValPaddingBottom,borderLeft:M.keyValBorderLeft+" "+J.objectBorder,":hover":{paddingLeft:V.paddingLeft-1+"px",borderLeft:M.keyValBorderHover+" "+J.objectBorder}},V)}},"object-key-val-no-border":{padding:M.keyValPadding},"pushed-content":{marginLeft:M.pushedContentMarginLeft},variableValue:function(W,V){return{style:l({display:"inline-block",paddingRight:M.variableValuePaddingRight,position:"relative"},V)}},"object-name":{display:"inline-block",color:J.keyColor,letterSpacing:M.keyLetterSpacing,fontStyle:M.keyFontStyle,verticalAlign:M.keyVerticalAlign,opacity:M.keyOpacity,":hover":{opacity:M.keyOpacityHover}},"array-key":{display:"inline-block",color:J.arrayKeyColor,letterSpacing:M.keyLetterSpacing,fontStyle:M.keyFontStyle,verticalAlign:M.keyVerticalAlign,opacity:M.keyOpacity,":hover":{opacity:M.keyOpacityHover}},"object-size":{color:J.objectSize,borderRadius:M.objectSizeBorderRadius,fontStyle:M.objectSizeFontStyle,margin:M.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:M.dataTypeFontSize,marginRight:M.dataTypeMarginRight,opacity:M.datatypeOpacity},boolean:{display:"inline-block",color:J.dataTypes.boolean},date:{display:"inline-block",color:J.dataTypes.date},"date-value":{marginLeft:M.dateValueMarginLeft},float:{display:"inline-block",color:J.dataTypes.float},function:{display:"inline-block",color:J.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:J.dataTypes.integer},string:{display:"inline-block",color:J.dataTypes.string},nan:{display:"inline-block",color:J.dataTypes.nan,fontSize:M.nanFontSize,fontWeight:M.nanFontWeight,backgroundColor:J.dataTypes.background,padding:M.nanPadding,borderRadius:M.nanBorderRadius},null:{display:"inline-block",color:J.dataTypes.null,fontSize:M.nullFontSize,fontWeight:M.nullFontWeight,backgroundColor:J.dataTypes.background,padding:M.nullPadding,borderRadius:M.nullBorderRadius},undefined:{display:"inline-block",color:J.dataTypes.undefined,fontSize:M.undefinedFontSize,padding:M.undefinedPadding,borderRadius:M.undefinedBorderRadius,backgroundColor:J.dataTypes.background},regexp:{display:"inline-block",color:J.dataTypes.regexp},"copy-to-clipboard":{cursor:M.clipboardCursor},"copy-icon":{color:J.copyToClipboard,fontSize:M.iconFontSize,marginRight:M.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:J.copyToClipboardCheck,marginLeft:M.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:M.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:M.metaDataPadding},"icon-container":{display:"inline-block",width:M.iconContainerWidth},tooltip:{padding:M.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:J.editVariable.removeIcon,cursor:M.iconCursor,fontSize:M.iconFontSize,marginRight:M.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:J.editVariable.addIcon,cursor:M.iconCursor,fontSize:M.iconFontSize,marginRight:M.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:J.editVariable.editIcon,cursor:M.iconCursor,fontSize:M.iconFontSize,marginRight:M.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:M.iconCursor,color:J.editVariable.checkIcon,fontSize:M.iconFontSize,paddingRight:M.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:M.iconCursor,color:J.editVariable.cancelIcon,fontSize:M.iconFontSize,paddingRight:M.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:M.editInputMinWidth,borderRadius:M.editInputBorderRadius,backgroundColor:J.editVariable.background,color:J.editVariable.color,padding:M.editInputPadding,marginRight:M.editInputMarginRight,fontFamily:M.editInputFontFamily},"detected-row":{paddingTop:M.detectedRowPaddingTop},"key-modal-request":{position:M.addKeyCoverPosition,top:M.addKeyCoverPositionPx,left:M.addKeyCoverPositionPx,right:M.addKeyCoverPositionPx,bottom:M.addKeyCoverPositionPx,backgroundColor:M.addKeyCoverBackground},"key-modal":{width:M.addKeyModalWidth,backgroundColor:J.addKeyModal.background,marginLeft:M.addKeyModalMargin,marginRight:M.addKeyModalMargin,padding:M.addKeyModalPadding,borderRadius:M.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:J.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:J.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:J.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:J.addKeyModal.labelColor,fontSize:M.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:J.editVariable.addIcon,fontSize:M.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:J.ellipsisColor,fontSize:M.ellipsisFontSize,lineHeight:M.ellipsisLineHeight,cursor:M.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:J.validationFailure.fontColor,backgroundColor:J.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:J.validationFailure.iconColor,fontSize:M.iconFontSize,transform:"rotate(45deg)"}}};function $(G,J,W){return G||console.error("theme has not been set"),function(V){var X=_;return V!==!1&&V!=="none"||(X=R),Object(T.createStyling)(A,{defaultBase16:X})(V)}(G)(J,W)}var D=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=(V.rjvId,V.type_name),ce=V.displayDataTypes,ve=V.theme;return ce?x.a.createElement("span",Object.assign({className:"data-type-label"},$(ve,"data-type-label")),X):null}}]),W}(x.a.PureComponent),O=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props;return x.a.createElement("div",$(V.theme,"boolean"),x.a.createElement(D,Object.assign({type_name:"bool"},V)),V.value?"true":"false")}}]),W}(x.a.PureComponent),P=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props;return x.a.createElement("div",$(V.theme,"date"),x.a.createElement(D,Object.assign({type_name:"date"},V)),x.a.createElement("span",Object.assign({className:"date-value"},$(V.theme,"date-value")),V.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),W}(x.a.PureComponent),I=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props;return x.a.createElement("div",$(V.theme,"float"),x.a.createElement(D,Object.assign({type_name:"float"},V)),this.props.value)}}]),W}(x.a.PureComponent);function B(G,J){(J==null||J>G.length)&&(J=G.length);for(var W=0,V=new Array(J);W<J;W++)V[W]=G[W];return V}function Y(G,J){if(G){if(typeof G=="string")return B(G,J);var W=Object.prototype.toString.call(G).slice(8,-1);return W==="Object"&&G.constructor&&(W=G.constructor.name),W==="Map"||W==="Set"?Array.from(G):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?B(G,J):void 0}}function H(G,J){var W;if(typeof Symbol>"u"||G[Symbol.iterator]==null){if(Array.isArray(G)||(W=Y(G))||J){W&&(G=W);var V=0,X=function(){};return{s:X,n:function(){return V>=G.length?{done:!0}:{done:!1,value:G[V++]}},e:function(ie){throw ie},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ce,ve=!0,de=!1;return{s:function(){W=G[Symbol.iterator]()},n:function(){var ie=W.next();return ve=ie.done,ie},e:function(ie){de=!0,ce=ie},f:function(){try{ve||W.return==null||W.return()}finally{if(de)throw ce}}}}function U(G){return function(J){if(Array.isArray(J))return B(J)}(G)||function(J){if(typeof Symbol<"u"&&Symbol.iterator in Object(J))return Array.from(J)}(G)||Y(G)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var q=s(46),K=new(s(47)).Dispatcher,Q=new(function(G){f(W,G);var J=b(W);function W(){var V;u(this,W);for(var X=arguments.length,ce=new Array(X),ve=0;ve<X;ve++)ce[ve]=arguments[ve];return(V=J.call.apply(J,[this].concat(ce))).objects={},V.set=function(de,ie,Se,Fe){V.objects[de]===void 0&&(V.objects[de]={}),V.objects[de][ie]===void 0&&(V.objects[de][ie]={}),V.objects[de][ie][Se]=Fe},V.get=function(de,ie,Se,Fe){return V.objects[de]===void 0||V.objects[de][ie]===void 0||V.objects[de][ie][Se]==null?Fe:V.objects[de][ie][Se]},V.handleAction=function(de){var ie=de.rjvId,Se=de.data;switch(de.name){case"RESET":V.emit("reset-"+ie);break;case"VARIABLE_UPDATED":de.data.updated_src=V.updateSrc(ie,Se),V.set(ie,"action","variable-update",l(l({},Se),{},{type:"variable-edited"})),V.emit("variable-update-"+ie);break;case"VARIABLE_REMOVED":de.data.updated_src=V.updateSrc(ie,Se),V.set(ie,"action","variable-update",l(l({},Se),{},{type:"variable-removed"})),V.emit("variable-update-"+ie);break;case"VARIABLE_ADDED":de.data.updated_src=V.updateSrc(ie,Se),V.set(ie,"action","variable-update",l(l({},Se),{},{type:"variable-added"})),V.emit("variable-update-"+ie);break;case"ADD_VARIABLE_KEY_REQUEST":V.set(ie,"action","new-key-request",Se),V.emit("add-key-request-"+ie)}},V.updateSrc=function(de,ie){var Se=ie.name,Fe=ie.namespace,gt=ie.new_value,Ot=(ie.existing_value,ie.variable_removed);Fe.shift();var Ut,vt=V.get(de,"global","src"),jt=V.deepCopy(vt,U(Fe)),on=jt,ht=H(Fe);try{for(ht.s();!(Ut=ht.n()).done;)on=on[Ut.value]}catch(Xt){ht.e(Xt)}finally{ht.f()}return Ot?N(on)=="array"?on.splice(Se,1):delete on[Se]:Se!==null?on[Se]=gt:jt=gt,V.set(de,"global","src",jt),jt},V.deepCopy=function(de,ie){var Se,Fe=N(de),gt=ie.shift();return Fe=="array"?Se=U(de):Fe=="object"&&(Se=l({},de)),gt!==void 0&&(Se[gt]=V.deepCopy(de[gt],ie)),Se},V}return W}(q.EventEmitter));K.register(Q.handleAction.bind(Q));var ee=Q,re=function(G){f(W,G);var J=b(W);function W(V){var X;return u(this,W),(X=J.call(this,V)).toggleCollapsed=function(){X.setState({collapsed:!X.state.collapsed},function(){ee.set(X.props.rjvId,X.props.namespace,"collapsed",X.state.collapsed)})},X.getFunctionDisplay=function(ce){var ve=g(X).props;return ce?x.a.createElement("span",null,X.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),x.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},x.a.createElement("span",null,"{"),x.a.createElement("span",$(ve.theme,"ellipsis"),"..."),x.a.createElement("span",null,"}"))):X.props.value.toString().slice(9,-1)},X.state={collapsed:ee.get(V.rjvId,V.namespace,"collapsed",!0)},X}return h(W,[{key:"render",value:function(){var V=this.props,X=this.state.collapsed;return x.a.createElement("div",$(V.theme,"function"),x.a.createElement(D,Object.assign({type_name:"function"},V)),x.a.createElement("span",Object.assign({},$(V.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(X)))}}]),W}(x.a.PureComponent),ae=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){return x.a.createElement("div",$(this.props.theme,"nan"),"NaN")}}]),W}(x.a.PureComponent),be=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){return x.a.createElement("div",$(this.props.theme,"null"),"NULL")}}]),W}(x.a.PureComponent),Ae=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props;return x.a.createElement("div",$(V.theme,"integer"),x.a.createElement(D,Object.assign({type_name:"int"},V)),this.props.value)}}]),W}(x.a.PureComponent),Le=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props;return x.a.createElement("div",$(V.theme,"regexp"),x.a.createElement(D,Object.assign({type_name:"regexp"},V)),this.props.value.toString())}}]),W}(x.a.PureComponent),He=function(G){f(W,G);var J=b(W);function W(V){var X;return u(this,W),(X=J.call(this,V)).toggleCollapsed=function(){X.setState({collapsed:!X.state.collapsed},function(){ee.set(X.props.rjvId,X.props.namespace,"collapsed",X.state.collapsed)})},X.state={collapsed:ee.get(V.rjvId,V.namespace,"collapsed",!0)},X}return h(W,[{key:"render",value:function(){this.state.collapsed;var V=this.props,X=V.collapseStringsAfterLength,ce=V.theme,ve=V.value,de={style:{cursor:"default"}};return N(X)==="integer"&&ve.length>X&&(de.style.cursor="pointer",this.state.collapsed&&(ve=x.a.createElement("span",null,ve.substring(0,X),x.a.createElement("span",$(ce,"ellipsis")," ...")))),x.a.createElement("div",$(ce,"string"),x.a.createElement(D,Object.assign({type_name:"string"},V)),x.a.createElement("span",Object.assign({className:"string-value"},de,{onClick:this.toggleCollapsed}),'"',ve,'"'))}}]),W}(x.a.PureComponent),Ue=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){return x.a.createElement("div",$(this.props.theme,"undefined"),"undefined")}}]),W}(x.a.PureComponent);function yt(){return(yt=Object.assign||function(G){for(var J=1;J<arguments.length;J++){var W=arguments[J];for(var V in W)Object.prototype.hasOwnProperty.call(W,V)&&(G[V]=W[V])}return G}).apply(this,arguments)}var Gt=C.useLayoutEffect,bt=function(G){var J=Object(C.useRef)(G);return Gt(function(){J.current=G}),J},Mn=function(G,J){typeof G!="function"?G.current=J:G(J)},cr=function(G,J){var W=Object(C.useRef)();return Object(C.useCallback)(function(V){G.current=V,W.current&&Mn(W.current,null),W.current=J,J&&Mn(J,V)},[J])},Qt={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},bn=function(G){Object.keys(Qt).forEach(function(J){G.style.setProperty(J,Qt[J],"important")})},cn=null,_r=function(){},ye=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],he=!!document.documentElement.currentStyle,le=function(G,J){var W=G.cacheMeasurements,V=G.maxRows,X=G.minRows,ce=G.onChange,ve=ce===void 0?_r:ce,de=G.onHeightChange,ie=de===void 0?_r:de,Se=function(ht,Xt){if(ht==null)return{};var Kn,Qr,Vs={},Jr=Object.keys(ht);for(Qr=0;Qr<Jr.length;Qr++)Kn=Jr[Qr],Xt.indexOf(Kn)>=0||(Vs[Kn]=ht[Kn]);return Vs}(G,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),Fe,gt=Se.value!==void 0,Ot=Object(C.useRef)(null),Ut=cr(Ot,J),vt=Object(C.useRef)(0),jt=Object(C.useRef)(),on=function(){var ht=Ot.current,Xt=W&&jt.current?jt.current:function(Jr){var xo=window.getComputedStyle(Jr);if(xo===null)return null;var ls,un=(ls=xo,ye.reduce(function(Xr,Zr){return Xr[Zr]=ls[Zr],Xr},{})),cs=un.boxSizing;return cs===""?null:(he&&cs==="border-box"&&(un.width=parseFloat(un.width)+parseFloat(un.borderRightWidth)+parseFloat(un.borderLeftWidth)+parseFloat(un.paddingRight)+parseFloat(un.paddingLeft)+"px"),{sizingStyle:un,paddingSize:parseFloat(un.paddingBottom)+parseFloat(un.paddingTop),borderSize:parseFloat(un.borderBottomWidth)+parseFloat(un.borderTopWidth)})}(ht);if(Xt){jt.current=Xt;var Kn=function(Jr,xo,ls,un){ls===void 0&&(ls=1),un===void 0&&(un=1/0),cn||((cn=document.createElement("textarea")).setAttribute("tab-index","-1"),cn.setAttribute("aria-hidden","true"),bn(cn)),cn.parentNode===null&&document.body.appendChild(cn);var cs=Jr.paddingSize,Xr=Jr.borderSize,Zr=Jr.sizingStyle,wo=Zr.boxSizing;Object.keys(Zr).forEach(function(So){var us=So;cn.style[us]=Zr[us]}),bn(cn),cn.value=xo;var ur=function(So,us){var Nl=So.scrollHeight;return us.sizingStyle.boxSizing==="border-box"?Nl+us.borderSize:Nl-us.paddingSize}(cn,Jr);cn.value="x";var Ta=cn.scrollHeight-cs,Ma=Ta*ls;wo==="border-box"&&(Ma=Ma+cs+Xr),ur=Math.max(Ma,ur);var Na=Ta*un;return wo==="border-box"&&(Na=Na+cs+Xr),[ur=Math.min(Na,ur),Ta]}(Xt,ht.value||ht.placeholder||"x",X,V),Qr=Kn[0],Vs=Kn[1];vt.current!==Qr&&(vt.current=Qr,ht.style.setProperty("height",Qr+"px","important"),ie(Qr,{rowHeight:Vs}))}};return Object(C.useLayoutEffect)(on),Fe=bt(on),Object(C.useLayoutEffect)(function(){var ht=function(Xt){Fe.current(Xt)};return window.addEventListener("resize",ht),function(){window.removeEventListener("resize",ht)}},[]),Object(C.createElement)("textarea",yt({},Se,{onChange:function(ht){gt||on(),ve(ht)},ref:Ut}))},we=Object(C.forwardRef)(le);function Me(G){G=G.trim();try{if((G=JSON.stringify(JSON.parse(G)))[0]==="[")return De("array",JSON.parse(G));if(G[0]==="{")return De("object",JSON.parse(G));if(G.match(/\-?\d+\.\d+/)&&G.match(/\-?\d+\.\d+/)[0]===G)return De("float",parseFloat(G));if(G.match(/\-?\d+e-\d+/)&&G.match(/\-?\d+e-\d+/)[0]===G)return De("float",Number(G));if(G.match(/\-?\d+/)&&G.match(/\-?\d+/)[0]===G)return De("integer",parseInt(G));if(G.match(/\-?\d+e\+\d+/)&&G.match(/\-?\d+e\+\d+/)[0]===G)return De("integer",Number(G))}catch{}switch(G=G.toLowerCase()){case"undefined":return De("undefined",void 0);case"nan":return De("nan",NaN);case"null":return De("null",null);case"true":return De("boolean",!0);case"false":return De("boolean",!1);default:if(G=Date.parse(G))return De("date",new Date(G))}return De(!1,null)}function De(G,J){return{type:G,value:J}}var ft=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),W}(x.a.PureComponent),pt=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),W}(x.a.PureComponent),Pt=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]),ve=Oe(X).style;return x.a.createElement("span",ce,x.a.createElement("svg",{fill:ve.color,width:ve.height,height:ve.width,style:ve,viewBox:"0 0 1792 1792"},x.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),W}(x.a.PureComponent),Jt=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]),ve=Oe(X).style;return x.a.createElement("span",ce,x.a.createElement("svg",{fill:ve.color,width:ve.height,height:ve.width,style:ve,viewBox:"0 0 1792 1792"},x.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),W}(x.a.PureComponent),Kt=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",{style:l(l({},Oe(X).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},x.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),W}(x.a.PureComponent),sn=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",{style:l(l({},Oe(X).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},x.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),W}(x.a.PureComponent),Mt=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("g",null,x.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),W}(x.a.PureComponent),ne=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("g",null,x.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),W}(x.a.PureComponent),ke=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("g",null,x.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),W}(x.a.PureComponent),Ee=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("g",null,x.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),W}(x.a.PureComponent),$e=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("g",null,x.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),W}(x.a.PureComponent),Ne=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.style,ce=E(V,["style"]);return x.a.createElement("span",ce,x.a.createElement("svg",Object.assign({},Oe(X),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),x.a.createElement("g",null,x.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),W}(x.a.PureComponent);function Oe(G){return G||(G={}),{style:l(l({verticalAlign:"middle"},G),{},{color:G.color?G.color:"#000000",height:"1em",width:"1em"})}}var qe=function(G){f(W,G);var J=b(W);function W(V){var X;return u(this,W),(X=J.call(this,V)).copiedTimer=null,X.handleCopy=function(){var ce=document.createElement("textarea"),ve=X.props,de=ve.clickCallback,ie=ve.src,Se=ve.namespace;ce.innerHTML=JSON.stringify(X.clipboardValue(ie),null,"  "),document.body.appendChild(ce),ce.select(),document.execCommand("copy"),document.body.removeChild(ce),X.copiedTimer=setTimeout(function(){X.setState({copied:!1})},5500),X.setState({copied:!0},function(){typeof de=="function"&&de({src:ie,namespace:Se,name:Se[Se.length-1]})})},X.getClippyIcon=function(){var ce=X.props.theme;return X.state.copied?x.a.createElement("span",null,x.a.createElement(Mt,Object.assign({className:"copy-icon"},$(ce,"copy-icon"))),x.a.createElement("span",$(ce,"copy-icon-copied"),"✔")):x.a.createElement(Mt,Object.assign({className:"copy-icon"},$(ce,"copy-icon")))},X.clipboardValue=function(ce){switch(N(ce)){case"function":case"regexp":return ce.toString();default:return ce}},X.state={copied:!1},X}return h(W,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var V=this.props,X=(V.src,V.theme),ce=V.hidden,ve=V.rowHovered,de=$(X,"copy-to-clipboard").style,ie="inline";return ce&&(ie="none"),x.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:ve?"inline-block":"none"}},x.a.createElement("span",{style:l(l({},de),{},{display:ie}),onClick:this.handleCopy},this.getClippyIcon()))}}]),W}(x.a.PureComponent),et=function(G){f(W,G);var J=b(W);function W(V){var X;return u(this,W),(X=J.call(this,V)).getEditIcon=function(){var ce=X.props,ve=ce.variable,de=ce.theme;return x.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:X.state.hovered?"inline-block":"none"}},x.a.createElement($e,Object.assign({className:"click-to-edit-icon"},$(de,"editVarIcon"),{onClick:function(){X.prepopInput(ve)}})))},X.prepopInput=function(ce){if(X.props.onEdit!==!1){var ve=function(ie){var Se;switch(N(ie)){case"undefined":Se="undefined";break;case"nan":Se="NaN";break;case"string":Se=ie;break;case"date":case"function":case"regexp":Se=ie.toString();break;default:try{Se=JSON.stringify(ie,null,"  ")}catch{Se=""}}return Se}(ce.value),de=Me(ve);X.setState({editMode:!0,editValue:ve,parsedInput:{type:de.type,value:de.value}})}},X.getRemoveIcon=function(){var ce=X.props,ve=ce.variable,de=ce.namespace,ie=ce.theme,Se=ce.rjvId;return x.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:X.state.hovered?"inline-block":"none"}},x.a.createElement(ne,Object.assign({className:"click-to-remove-icon"},$(ie,"removeVarIcon"),{onClick:function(){K.dispatch({name:"VARIABLE_REMOVED",rjvId:Se,data:{name:ve.name,namespace:de,existing_value:ve.value,variable_removed:!0}})}})))},X.getValue=function(ce,ve){var de=!ve&&ce.type,ie=g(X).props;switch(de){case!1:return X.getEditInput();case"string":return x.a.createElement(He,Object.assign({value:ce.value},ie));case"integer":return x.a.createElement(Ae,Object.assign({value:ce.value},ie));case"float":return x.a.createElement(I,Object.assign({value:ce.value},ie));case"boolean":return x.a.createElement(O,Object.assign({value:ce.value},ie));case"function":return x.a.createElement(re,Object.assign({value:ce.value},ie));case"null":return x.a.createElement(be,ie);case"nan":return x.a.createElement(ae,ie);case"undefined":return x.a.createElement(Ue,ie);case"date":return x.a.createElement(P,Object.assign({value:ce.value},ie));case"regexp":return x.a.createElement(Le,Object.assign({value:ce.value},ie));default:return x.a.createElement("div",{className:"object-value"},JSON.stringify(ce.value))}},X.getEditInput=function(){var ce=X.props.theme,ve=X.state.editValue;return x.a.createElement("div",null,x.a.createElement(we,Object.assign({type:"text",inputRef:function(de){return de&&de.focus()},value:ve,className:"variable-editor",onChange:function(de){var ie=de.target.value,Se=Me(ie);X.setState({editValue:ie,parsedInput:{type:Se.type,value:Se.value}})},onKeyDown:function(de){switch(de.key){case"Escape":X.setState({editMode:!1,editValue:""});break;case"Enter":(de.ctrlKey||de.metaKey)&&X.submitEdit(!0)}de.stopPropagation()},placeholder:"update this value",minRows:2},$(ce,"edit-input"))),x.a.createElement("div",$(ce,"edit-icon-container"),x.a.createElement(ne,Object.assign({className:"edit-cancel"},$(ce,"cancel-icon"),{onClick:function(){X.setState({editMode:!1,editValue:""})}})),x.a.createElement(Ne,Object.assign({className:"edit-check string-value"},$(ce,"check-icon"),{onClick:function(){X.submitEdit()}})),x.a.createElement("div",null,X.showDetected())))},X.submitEdit=function(ce){var ve=X.props,de=ve.variable,ie=ve.namespace,Se=ve.rjvId,Fe=X.state,gt=Fe.editValue,Ot=Fe.parsedInput,Ut=gt;ce&&Ot.type&&(Ut=Ot.value),X.setState({editMode:!1}),K.dispatch({name:"VARIABLE_UPDATED",rjvId:Se,data:{name:de.name,namespace:ie,existing_value:de.value,new_value:Ut,variable_removed:!1}})},X.showDetected=function(){var ce=X.props,ve=ce.theme,de=(ce.variable,ce.namespace,ce.rjvId,X.state.parsedInput),ie=(de.type,de.value,X.getDetectedInput());if(ie)return x.a.createElement("div",null,x.a.createElement("div",$(ve,"detected-row"),ie,x.a.createElement(Ne,{className:"edit-check detected",style:l({verticalAlign:"top",paddingLeft:"3px"},$(ve,"check-icon").style),onClick:function(){X.submitEdit(!0)}})))},X.getDetectedInput=function(){var ce=X.state.parsedInput,ve=ce.type,de=ce.value,ie=g(X).props,Se=ie.theme;if(ve!==!1)switch(ve.toLowerCase()){case"object":return x.a.createElement("span",null,x.a.createElement("span",{style:l(l({},$(Se,"brace").style),{},{cursor:"default"})},"{"),x.a.createElement("span",{style:l(l({},$(Se,"ellipsis").style),{},{cursor:"default"})},"..."),x.a.createElement("span",{style:l(l({},$(Se,"brace").style),{},{cursor:"default"})},"}"));case"array":return x.a.createElement("span",null,x.a.createElement("span",{style:l(l({},$(Se,"brace").style),{},{cursor:"default"})},"["),x.a.createElement("span",{style:l(l({},$(Se,"ellipsis").style),{},{cursor:"default"})},"..."),x.a.createElement("span",{style:l(l({},$(Se,"brace").style),{},{cursor:"default"})},"]"));case"string":return x.a.createElement(He,Object.assign({value:de},ie));case"integer":return x.a.createElement(Ae,Object.assign({value:de},ie));case"float":return x.a.createElement(I,Object.assign({value:de},ie));case"boolean":return x.a.createElement(O,Object.assign({value:de},ie));case"function":return x.a.createElement(re,Object.assign({value:de},ie));case"null":return x.a.createElement(be,ie);case"nan":return x.a.createElement(ae,ie);case"undefined":return x.a.createElement(Ue,ie);case"date":return x.a.createElement(P,Object.assign({value:new Date(de)},ie))}},X.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},X}return h(W,[{key:"render",value:function(){var V=this,X=this.props,ce=X.variable,ve=X.singleIndent,de=X.type,ie=X.theme,Se=X.namespace,Fe=X.indentWidth,gt=X.enableClipboard,Ot=X.onEdit,Ut=X.onDelete,vt=X.onSelect,jt=X.displayArrayKey,on=X.quotesOnKeys,ht=this.state.editMode;return x.a.createElement("div",Object.assign({},$(ie,"objectKeyVal",{paddingLeft:Fe*ve}),{onMouseEnter:function(){return V.setState(l(l({},V.state),{},{hovered:!0}))},onMouseLeave:function(){return V.setState(l(l({},V.state),{},{hovered:!1}))},className:"variable-row",key:ce.name}),de=="array"?jt?x.a.createElement("span",Object.assign({},$(ie,"array-key"),{key:ce.name+"_"+Se}),ce.name,x.a.createElement("div",$(ie,"colon"),":")):null:x.a.createElement("span",null,x.a.createElement("span",Object.assign({},$(ie,"object-name"),{className:"object-key",key:ce.name+"_"+Se}),!!on&&x.a.createElement("span",{style:{verticalAlign:"top"}},'"'),x.a.createElement("span",{style:{display:"inline-block"}},ce.name),!!on&&x.a.createElement("span",{style:{verticalAlign:"top"}},'"')),x.a.createElement("span",$(ie,"colon"),":")),x.a.createElement("div",Object.assign({className:"variable-value",onClick:vt===!1&&Ot===!1?null:function(Xt){var Kn=U(Se);(Xt.ctrlKey||Xt.metaKey)&&Ot!==!1?V.prepopInput(ce):vt!==!1&&(Kn.shift(),vt(l(l({},ce),{},{namespace:Kn})))}},$(ie,"variableValue",{cursor:vt===!1?"default":"pointer"})),this.getValue(ce,ht)),gt?x.a.createElement(qe,{rowHovered:this.state.hovered,hidden:ht,src:ce.value,clickCallback:gt,theme:ie,namespace:[].concat(U(Se),[ce.name])}):null,Ot!==!1&&ht==0?this.getEditIcon():null,Ut!==!1&&ht==0?this.getRemoveIcon():null)}}]),W}(x.a.PureComponent),It=function(G){f(W,G);var J=b(W);function W(){var V;u(this,W);for(var X=arguments.length,ce=new Array(X),ve=0;ve<X;ve++)ce[ve]=arguments[ve];return(V=J.call.apply(J,[this].concat(ce))).getObjectSize=function(){var de=V.props,ie=de.size,Se=de.theme;if(de.displayObjectSize)return x.a.createElement("span",Object.assign({className:"object-size"},$(Se,"object-size")),ie," item",ie===1?"":"s")},V.getAddAttribute=function(de){var ie=V.props,Se=ie.theme,Fe=ie.namespace,gt=ie.name,Ot=ie.src,Ut=ie.rjvId,vt=ie.depth;return x.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:de?"inline-block":"none"}},x.a.createElement(ke,Object.assign({className:"click-to-add-icon"},$(Se,"addVarIcon"),{onClick:function(){var jt={name:vt>0?gt:null,namespace:Fe.splice(0,Fe.length-1),existing_value:Ot,variable_removed:!1,key_name:null};N(Ot)==="object"?K.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:Ut,data:jt}):K.dispatch({name:"VARIABLE_ADDED",rjvId:Ut,data:l(l({},jt),{},{new_value:[].concat(U(Ot),[null])})})}})))},V.getRemoveObject=function(de){var ie=V.props,Se=ie.theme,Fe=(ie.hover,ie.namespace),gt=ie.name,Ot=ie.src,Ut=ie.rjvId;if(Fe.length!==1)return x.a.createElement("span",{className:"click-to-remove",style:{display:de?"inline-block":"none"}},x.a.createElement(ne,Object.assign({className:"click-to-remove-icon"},$(Se,"removeVarIcon"),{onClick:function(){K.dispatch({name:"VARIABLE_REMOVED",rjvId:Ut,data:{name:gt,namespace:Fe.splice(0,Fe.length-1),existing_value:Ot,variable_removed:!0}})}})))},V.render=function(){var de=V.props,ie=de.theme,Se=de.onDelete,Fe=de.onAdd,gt=de.enableClipboard,Ot=de.src,Ut=de.namespace,vt=de.rowHovered;return x.a.createElement("div",Object.assign({},$(ie,"object-meta-data"),{className:"object-meta-data",onClick:function(jt){jt.stopPropagation()}}),V.getObjectSize(),gt?x.a.createElement(qe,{rowHovered:vt,clickCallback:gt,src:Ot,theme:ie,namespace:Ut}):null,Fe!==!1?V.getAddAttribute(vt):null,Se!==!1?V.getRemoveObject(vt):null)},V}return W}(x.a.PureComponent);function Et(G){var J=G.parent_type,W=G.namespace,V=G.quotesOnKeys,X=G.theme,ce=G.jsvRoot,ve=G.name,de=G.displayArrayKey,ie=G.name?G.name:"";return!ce||ve!==!1&&ve!==null?J=="array"?de?x.a.createElement("span",Object.assign({},$(X,"array-key"),{key:W}),x.a.createElement("span",{className:"array-key"},ie),x.a.createElement("span",$(X,"colon"),":")):x.a.createElement("span",null):x.a.createElement("span",Object.assign({},$(X,"object-name"),{key:W}),x.a.createElement("span",{className:"object-key"},V&&x.a.createElement("span",{style:{verticalAlign:"top"}},'"'),x.a.createElement("span",null,ie),V&&x.a.createElement("span",{style:{verticalAlign:"top"}},'"')),x.a.createElement("span",$(X,"colon"),":")):x.a.createElement("span",null)}function xt(G){var J=G.theme;switch(G.iconStyle){case"triangle":return x.a.createElement(sn,Object.assign({},$(J,"expanded-icon"),{className:"expanded-icon"}));case"square":return x.a.createElement(Pt,Object.assign({},$(J,"expanded-icon"),{className:"expanded-icon"}));default:return x.a.createElement(ft,Object.assign({},$(J,"expanded-icon"),{className:"expanded-icon"}))}}function mt(G){var J=G.theme;switch(G.iconStyle){case"triangle":return x.a.createElement(Kt,Object.assign({},$(J,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return x.a.createElement(Jt,Object.assign({},$(J,"collapsed-icon"),{className:"collapsed-icon"}));default:return x.a.createElement(pt,Object.assign({},$(J,"collapsed-icon"),{className:"collapsed-icon"}))}}var ot=function(G){f(W,G);var J=b(W);function W(V){var X;return u(this,W),(X=J.call(this,V)).toggleCollapsed=function(ce){var ve=[];for(var de in X.state.expanded)ve.push(X.state.expanded[de]);ve[ce]=!ve[ce],X.setState({expanded:ve})},X.state={expanded:[]},X}return h(W,[{key:"getExpandedIcon",value:function(V){var X=this.props,ce=X.theme,ve=X.iconStyle;return this.state.expanded[V]?x.a.createElement(xt,{theme:ce,iconStyle:ve}):x.a.createElement(mt,{theme:ce,iconStyle:ve})}},{key:"render",value:function(){var V=this,X=this.props,ce=X.src,ve=X.groupArraysAfterLength,de=(X.depth,X.name),ie=X.theme,Se=X.jsvRoot,Fe=X.namespace,gt=(X.parent_type,E(X,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),Ot=0,Ut=5*this.props.indentWidth;Se||(Ot=5*this.props.indentWidth);var vt=ve,jt=Math.ceil(ce.length/vt);return x.a.createElement("div",Object.assign({className:"object-key-val"},$(ie,Se?"jsv-root":"objectKeyVal",{paddingLeft:Ot})),x.a.createElement(Et,this.props),x.a.createElement("span",null,x.a.createElement(It,Object.assign({size:ce.length},this.props))),U(Array(jt)).map(function(on,ht){return x.a.createElement("div",Object.assign({key:ht,className:"object-key-val array-group"},$(ie,"objectKeyVal",{marginLeft:6,paddingLeft:Ut})),x.a.createElement("span",$(ie,"brace-row"),x.a.createElement("div",Object.assign({className:"icon-container"},$(ie,"icon-container"),{onClick:function(Xt){V.toggleCollapsed(ht)}}),V.getExpandedIcon(ht)),V.state.expanded[ht]?x.a.createElement(Ft,Object.assign({key:de+ht,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:vt,index_offset:ht*vt,src:ce.slice(ht*vt,ht*vt+vt),namespace:Fe,type:"array",parent_type:"array_group",theme:ie},gt)):x.a.createElement("span",Object.assign({},$(ie,"brace"),{onClick:function(Xt){V.toggleCollapsed(ht)},className:"array-group-brace"}),"[",x.a.createElement("div",Object.assign({},$(ie,"array-group-meta-data"),{className:"array-group-meta-data"}),x.a.createElement("span",Object.assign({className:"object-size"},$(ie,"object-size")),ht*vt," - ",ht*vt+vt>ce.length?ce.length:ht*vt+vt)),"]")))}))}}]),W}(x.a.PureComponent),nt=function(G){f(W,G);var J=b(W);function W(V){var X;u(this,W),(X=J.call(this,V)).toggleCollapsed=function(){X.setState({expanded:!X.state.expanded},function(){ee.set(X.props.rjvId,X.props.namespace,"expanded",X.state.expanded)})},X.getObjectContent=function(ve,de,ie){return x.a.createElement("div",{className:"pushed-content object-container"},x.a.createElement("div",Object.assign({className:"object-content"},$(X.props.theme,"pushed-content")),X.renderObjectContents(de,ie)))},X.getEllipsis=function(){return X.state.size===0?null:x.a.createElement("div",Object.assign({},$(X.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:X.toggleCollapsed}),"...")},X.getObjectMetaData=function(ve){var de=X.props,ie=(de.rjvId,de.theme,X.state),Se=ie.size,Fe=ie.hovered;return x.a.createElement(It,Object.assign({rowHovered:Fe,size:Se},X.props))},X.renderObjectContents=function(ve,de){var ie,Se=X.props,Fe=Se.depth,gt=Se.parent_type,Ot=Se.index_offset,Ut=Se.groupArraysAfterLength,vt=Se.namespace,jt=X.state.object_type,on=[],ht=Object.keys(ve||{});return X.props.sortKeys&&jt!=="array"&&(ht=ht.sort()),ht.forEach(function(Xt){if(ie=new at(Xt,ve[Xt]),gt==="array_group"&&Ot&&(ie.name=parseInt(ie.name)+Ot),ve.hasOwnProperty(Xt))if(ie.type==="object")on.push(x.a.createElement(Ft,Object.assign({key:ie.name,depth:Fe+1,name:ie.name,src:ie.value,namespace:vt.concat(ie.name),parent_type:jt},de)));else if(ie.type==="array"){var Kn=Ft;Ut&&ie.value.length>Ut&&(Kn=ot),on.push(x.a.createElement(Kn,Object.assign({key:ie.name,depth:Fe+1,name:ie.name,src:ie.value,namespace:vt.concat(ie.name),type:"array",parent_type:jt},de)))}else on.push(x.a.createElement(et,Object.assign({key:ie.name+"_"+vt,variable:ie,singleIndent:5,namespace:vt,type:X.props.type},de)))}),on};var ce=W.getState(V);return X.state=l(l({},ce),{},{prevProps:{}}),X}return h(W,[{key:"getBraceStart",value:function(V,X){var ce=this,ve=this.props,de=ve.src,ie=ve.theme,Se=ve.iconStyle;if(ve.parent_type==="array_group")return x.a.createElement("span",null,x.a.createElement("span",$(ie,"brace"),V==="array"?"[":"{"),X?this.getObjectMetaData(de):null);var Fe=X?xt:mt;return x.a.createElement("span",null,x.a.createElement("span",Object.assign({onClick:function(gt){ce.toggleCollapsed()}},$(ie,"brace-row")),x.a.createElement("div",Object.assign({className:"icon-container"},$(ie,"icon-container")),x.a.createElement(Fe,{theme:ie,iconStyle:Se})),x.a.createElement(Et,this.props),x.a.createElement("span",$(ie,"brace"),V==="array"?"[":"{")),X?this.getObjectMetaData(de):null)}},{key:"render",value:function(){var V=this,X=this.props,ce=X.depth,ve=X.src,de=(X.namespace,X.name,X.type,X.parent_type),ie=X.theme,Se=X.jsvRoot,Fe=X.iconStyle,gt=E(X,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),Ot=this.state,Ut=Ot.object_type,vt=Ot.expanded,jt={};return Se||de==="array_group"?de==="array_group"&&(jt.borderLeft=0,jt.display="inline"):jt.paddingLeft=5*this.props.indentWidth,x.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return V.setState(l(l({},V.state),{},{hovered:!0}))},onMouseLeave:function(){return V.setState(l(l({},V.state),{},{hovered:!1}))}},$(ie,Se?"jsv-root":"objectKeyVal",jt)),this.getBraceStart(Ut,vt),vt?this.getObjectContent(ce,ve,l({theme:ie,iconStyle:Fe},gt)):this.getEllipsis(),x.a.createElement("span",{className:"brace-row"},x.a.createElement("span",{style:l(l({},$(ie,"brace").style),{},{paddingLeft:vt?"3px":"0px"})},Ut==="array"?"]":"}"),vt?null:this.getObjectMetaData(ve)))}}],[{key:"getDerivedStateFromProps",value:function(V,X){var ce=X.prevProps;return V.src!==ce.src||V.collapsed!==ce.collapsed||V.name!==ce.name||V.namespace!==ce.namespace||V.rjvId!==ce.rjvId?l(l({},W.getState(V)),{},{prevProps:V}):null}}]),W}(x.a.PureComponent);nt.getState=function(G){var J=Object.keys(G.src).length,W=(G.collapsed===!1||G.collapsed!==!0&&G.collapsed>G.depth)&&(!G.shouldCollapse||G.shouldCollapse({name:G.name,src:G.src,type:N(G.src),namespace:G.namespace})===!1)&&J!==0;return{expanded:ee.get(G.rjvId,G.namespace,"expanded",W),object_type:G.type==="array"?"array":"object",parent_type:G.type==="array"?"array":"object",size:J,hovered:!1}};var at=function G(J,W){u(this,G),this.name=J,this.value=W,this.type=N(W)};L(nt);var Ft=nt,$t=function(G){f(W,G);var J=b(W);function W(){var V;u(this,W);for(var X=arguments.length,ce=new Array(X),ve=0;ve<X;ve++)ce[ve]=arguments[ve];return(V=J.call.apply(J,[this].concat(ce))).render=function(){var de=g(V).props,ie=[de.name],Se=Ft;return Array.isArray(de.src)&&de.groupArraysAfterLength&&de.src.length>de.groupArraysAfterLength&&(Se=ot),x.a.createElement("div",{className:"pretty-json-container object-container"},x.a.createElement("div",{className:"object-content"},x.a.createElement(Se,Object.assign({namespace:ie,depth:0,jsvRoot:!0},de))))},V}return W}(x.a.PureComponent),Ve=function(G){f(W,G);var J=b(W);function W(V){var X;return u(this,W),(X=J.call(this,V)).closeModal=function(){K.dispatch({rjvId:X.props.rjvId,name:"RESET"})},X.submit=function(){X.props.submit(X.state.input)},X.state={input:V.input?V.input:""},X}return h(W,[{key:"render",value:function(){var V=this,X=this.props,ce=X.theme,ve=X.rjvId,de=X.isValid,ie=this.state.input,Se=de(ie);return x.a.createElement("div",Object.assign({className:"key-modal-request"},$(ce,"key-modal-request"),{onClick:this.closeModal}),x.a.createElement("div",Object.assign({},$(ce,"key-modal"),{onClick:function(Fe){Fe.stopPropagation()}}),x.a.createElement("div",$(ce,"key-modal-label"),"Key Name:"),x.a.createElement("div",{style:{position:"relative"}},x.a.createElement("input",Object.assign({},$(ce,"key-modal-input"),{className:"key-modal-input",ref:function(Fe){return Fe&&Fe.focus()},spellCheck:!1,value:ie,placeholder:"...",onChange:function(Fe){V.setState({input:Fe.target.value})},onKeyPress:function(Fe){Se&&Fe.key==="Enter"?V.submit():Fe.key==="Escape"&&V.closeModal()}})),Se?x.a.createElement(Ne,Object.assign({},$(ce,"key-modal-submit"),{className:"key-modal-submit",onClick:function(Fe){return V.submit()}})):null),x.a.createElement("span",$(ce,"key-modal-cancel"),x.a.createElement(Ee,Object.assign({},$(ce,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){K.dispatch({rjvId:ve,name:"RESET"})}})))))}}]),W}(x.a.PureComponent),We=function(G){f(W,G);var J=b(W);function W(){var V;u(this,W);for(var X=arguments.length,ce=new Array(X),ve=0;ve<X;ve++)ce[ve]=arguments[ve];return(V=J.call.apply(J,[this].concat(ce))).isValid=function(de){var ie=V.props.rjvId,Se=ee.get(ie,"action","new-key-request");return de!=""&&Object.keys(Se.existing_value).indexOf(de)===-1},V.submit=function(de){var ie=V.props.rjvId,Se=ee.get(ie,"action","new-key-request");Se.new_value=l({},Se.existing_value),Se.new_value[de]=V.props.defaultValue,K.dispatch({name:"VARIABLE_ADDED",rjvId:ie,data:Se})},V}return h(W,[{key:"render",value:function(){var V=this.props,X=V.active,ce=V.theme,ve=V.rjvId;return X?x.a.createElement(Ve,{rjvId:ve,theme:ce,isValid:this.isValid,submit:this.submit}):null}}]),W}(x.a.PureComponent),Ke=function(G){f(W,G);var J=b(W);function W(){return u(this,W),J.apply(this,arguments)}return h(W,[{key:"render",value:function(){var V=this.props,X=V.message,ce=V.active,ve=V.theme,de=V.rjvId;return ce?x.a.createElement("div",Object.assign({className:"validation-failure"},$(ve,"validation-failure"),{onClick:function(){K.dispatch({rjvId:de,name:"RESET"})}}),x.a.createElement("span",$(ve,"validation-failure-label"),X),x.a.createElement(Ee,$(ve,"validation-failure-clear"))):null}}]),W}(x.a.PureComponent),ut=function(G){f(W,G);var J=b(W);function W(V){var X;return u(this,W),(X=J.call(this,V)).rjvId=Date.now().toString(),X.getListeners=function(){return{reset:X.resetState,"variable-update":X.updateSrc,"add-key-request":X.addKeyRequest}},X.updateSrc=function(){var ce,ve=ee.get(X.rjvId,"action","variable-update"),de=ve.name,ie=ve.namespace,Se=ve.new_value,Fe=ve.existing_value,gt=(ve.variable_removed,ve.updated_src),Ot=ve.type,Ut=X.props,vt=Ut.onEdit,jt=Ut.onDelete,on=Ut.onAdd,ht={existing_src:X.state.src,new_value:Se,updated_src:gt,name:de,namespace:ie,existing_value:Fe};switch(Ot){case"variable-added":ce=on(ht);break;case"variable-edited":ce=vt(ht);break;case"variable-removed":ce=jt(ht)}ce!==!1?(ee.set(X.rjvId,"global","src",gt),X.setState({src:gt})):X.setState({validationFailure:!0})},X.addKeyRequest=function(){X.setState({addKeyRequest:!0})},X.resetState=function(){X.setState({validationFailure:!1,addKeyRequest:!1})},X.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:W.defaultProps.src,name:W.defaultProps.name,theme:W.defaultProps.theme,validationMessage:W.defaultProps.validationMessage,prevSrc:W.defaultProps.src,prevName:W.defaultProps.name,prevTheme:W.defaultProps.theme},X}return h(W,[{key:"componentDidMount",value:function(){ee.set(this.rjvId,"global","src",this.state.src);var V=this.getListeners();for(var X in V)ee.on(X+"-"+this.rjvId,V[X]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(V,X){X.addKeyRequest!==!1&&this.setState({addKeyRequest:!1}),X.editKeyRequest!==!1&&this.setState({editKeyRequest:!1}),V.src!==this.state.src&&ee.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var V=this.getListeners();for(var X in V)ee.removeListener(X+"-"+this.rjvId,V[X])}},{key:"render",value:function(){var V=this.state,X=V.validationFailure,ce=V.validationMessage,ve=V.addKeyRequest,de=V.theme,ie=V.src,Se=V.name,Fe=this.props,gt=Fe.style,Ot=Fe.defaultValue;return x.a.createElement("div",{className:"react-json-view",style:l(l({},$(de,"app-container").style),gt)},x.a.createElement(Ke,{message:ce,active:X,theme:de,rjvId:this.rjvId}),x.a.createElement($t,Object.assign({},this.props,{src:ie,name:Se,theme:de,type:N(ie),rjvId:this.rjvId})),x.a.createElement(We,{active:ve,theme:de,rjvId:this.rjvId,defaultValue:Ot}))}}],[{key:"getDerivedStateFromProps",value:function(V,X){if(V.src!==X.prevSrc||V.name!==X.prevName||V.theme!==X.prevTheme){var ce={src:V.src,name:V.name,theme:V.theme,validationMessage:V.validationMessage,prevSrc:V.src,prevName:V.name,prevTheme:V.theme};return W.validateState(ce)}return null}}]),W}(x.a.PureComponent);ut.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},ut.validateState=function(G){var J={};return N(G.theme)!=="object"||function(W){var V=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if(N(W)==="object"){for(var X=0;X<V.length;X++)if(!(V[X]in W))return!1;return!0}return!1}(G.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),J.theme="rjv-default"),N(G.src)!=="object"&&N(G.src)!=="array"&&(console.error("react-json-view error:","src property must be a valid json object"),J.name="ERROR",J.src={message:"src property must be a valid json object"}),l(l({},G),J)},L(ut),i.default=ut}])})})(jj);var kJ=jj.exports;const dE=nx(kJ),fE={iss:"Issuer: Identifies principal that issued the JWT",sub:"Subject: Identifies principal that is the subject of the JWT",aud:"Audience: Identifies recipients that the JWT is intended for",exp:"Expiration Time: Identifies expiration time on or after which the JWT must not be accepted",nbf:"Not Before: Identifies time before which the JWT must not be accepted",iat:"Issued At: Identifies time at which the JWT was issued",jti:"JWT ID: Unique identifier for the JWT"};function pE(t){for(t=t.replace(/-/g,"+").replace(/_/g,"/");t.length%4;)t+="=";return atob(t)}function jf(t){return JSON.stringify(t,null,2)}const L0="devtoolnest-jwt-token";function To(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null?e:{}}catch{return{}}}const AJ=["#2563eb","#059669","#b85c38","#f59e42","#a21caf","#eab308","#dc2626","#0e7490","#7c3aed","#f472b6"];function mE(){return Re.decorations.compute([],t=>{const e=[],r=t.doc.toString().split(".");let i=0;for(let s=0;s<r.length;s++){const o=`cm-jwt-part-${s%AJ.length}`;r[s]&&(e.push(Xe.mark({class:o}).range(i,i+r[s].length)),i+=r[s].length),s<r.length-1&&(i+=1)}return Xe.set(e)})}function EJ(t){if(!t||isNaN(t))return"";const e=new Date(t*1e3);return`${e.toLocaleString()} (local)
${e.toUTCString()} (UTC)`}function Df({data:t,editable:e,onEdit:n}){return v.jsx("table",{className:"w-full text-left border-collapse",children:v.jsx("tbody",{children:Object.entries(t).map(([r,i])=>{const s=["iat","exp","nbf"].includes(r)&&typeof i=="number"&&i>1e9&&i<9999999999,o=s?EJ(i):void 0,a=r==="alg"?"text-[#2563eb] font-bold":r==="typ"?"text-[#a21caf] font-bold":r==="exp"?"text-[#dc2626] font-bold":r==="iat"?"text-[#059669] font-bold":r==="nbf"?"text-[#f59e42] font-bold":"text-[#444]";return v.jsxs("tr",{className:"border-b border-[#f3f3f3]",children:[v.jsx("td",{className:`py-1 pr-4 font-mono text-sm align-top ${a}`,children:v.jsx("span",{title:fE[r]||"",className:fE[r]?"underline decoration-dotted cursor-help":"",children:r})}),v.jsxs("td",{className:"py-1 text-sm text-[#222] align-top",children:[s?v.jsx("span",{title:o,className:"underline decoration-dotted cursor-help",children:i}):typeof i=="object"&&i!==null?JSON.stringify(i):String(i),e&&s&&n&&v.jsx("span",{className:"ml-2 text-xs text-[#888]",children:v.jsx("button",{className:"underline decoration-dotted cursor-pointer hover:text-[#2563eb]",title:"Set to now",onClick:()=>n(r,Math.floor(Date.now()/1e3)),children:"now"})})]})]},r)})})})}function TJ(){const{toast:t}=ss(),[e,n]=j.useState("decode"),[r,i]=j.useState("json"),[s,o]=j.useState("json"),[a,l]=j.useState(""),[u,c]=j.useState(null),[h,d]=j.useState(""),[f,p]=j.useState(""),[m,g]=j.useState(""),[y,b]=j.useState("HS256"),[C,x]=j.useState(""),[S,w]=j.useState(""),[k,L]=j.useState(""),[E,N]=j.useState(null);j.useEffect(()=>{const O=localStorage.getItem(L0);O&&l(O)},[]),j.useEffect(()=>{a&&localStorage.setItem(L0,a)},[a]);const _=()=>{if(d(""),c(null),N(null),!a.trim()){d("Please enter a JWT token");return}try{const O=a.split(".");if(O.length!==3)throw new Error("Invalid JWT format");const P=JSON.parse(pE(O[0])),I=JSON.parse(pE(O[1])),B=O[2];c({header:P,payload:I,signature:B}),p(jf(P)),g(jf(I))}catch(O){d(O instanceof Error?O.message:"Failed to decode token")}},R=()=>{try{const O=To(f),P=To(m),I=U=>btoa(JSON.stringify(U)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),B=a.split("."),Y=B.length===3?B[2]:"",H=`${I(O)}.${I(P)}.${Y}`;l(H),c({header:O,payload:P,signature:Y}),t({title:"Token updated (unsigned)"})}catch(O){t({title:"Invalid JSON",description:O.message,variant:"destructive"})}},M=async()=>{try{const O=To(f),P=To(m);let I="";if(y==="HS256"){if(!C)throw new Error("Secret required for HS256");const Y=new TextEncoder().encode(C);I=await new hE(P).setProtectedHeader({alg:"HS256"}).sign(Y)}else if(y==="RS256"){if(!k)throw new Error("Private key required for RS256");const B=await iJ(k,"RS256");I=await new hE(P).setProtectedHeader({alg:"RS256"}).sign(B)}else throw new Error("Unsupported algorithm");l(I),c(null),t({title:"Token updated and signed!"})}catch(O){t({title:"Invalid JSON or signing error",description:O.message,variant:"destructive"})}},T=async()=>{if(N(null),!a.trim()){N("No token to validate");return}try{let O;if(y==="HS256"){if(!C)throw new Error("Secret required for HS256");O=new TextEncoder().encode(C)}else if(y==="RS256"){if(!S)throw new Error("Public key required for RS256");O=await rJ(S,"RS256")}else throw new Error("Unsupported algorithm");await xJ(a,O),N("Signature is valid!")}catch(O){N(O.message||"Signature validation failed")}},A=O=>{navigator.clipboard.writeText(O),t({title:"Copied",description:"Content copied to clipboard"})},$=()=>{l(""),c(null),d(""),p(""),g(""),x(""),w(""),L(""),N(null),localStorage.removeItem(L0)},D=a.split(".");if(D[0],D[1],D[2],typeof window<"u"&&!document.getElementById("jwt-part-colors")){const O=document.createElement("style");O.id="jwt-part-colors",O.innerHTML=`
      .cm-jwt-part-0 { color: #2563eb !important; }
      .cm-jwt-part-1 { color: #059669 !important; }
      .cm-jwt-part-2 { color: #b85c38 !important; }
      .cm-jwt-part-3 { color: #f59e42 !important; }
      .cm-jwt-part-4 { color: #a21caf !important; }
      .cm-jwt-part-5 { color: #eab308 !important; }
      .cm-jwt-part-6 { color: #dc2626 !important; }
      .cm-jwt-part-7 { color: #0e7490 !important; }
      .cm-jwt-part-8 { color: #7c3aed !important; }
      .cm-jwt-part-9 { color: #f472b6 !important; }
    `,document.head.appendChild(O)}return v.jsx("div",{className:"min-h-screen w-full bg-[#fafafa] flex flex-col items-center font-sans",children:v.jsx("div",{className:"w-[98vw] max-w-[1500px] mx-auto flex flex-col gap-8 py-8 px-0",children:v.jsxs(UQ,{value:e,onValueChange:n,className:"w-full",children:[v.jsxs(vj,{children:[v.jsx(Yb,{value:"decode",children:"JWT Decoder"}),v.jsx(Yb,{value:"edit",children:"JWT Encoder"})]}),v.jsxs(Qb,{value:"decode",className:"flex flex-row gap-8 w-full",children:[v.jsx("div",{className:"flex-1",children:v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg p-0 shadow-none flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:[v.jsx("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:"JSON WEB TOKEN (JWT)"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>A(a),children:"COPY"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:$,children:"CLEAR"})]})]}),u&&v.jsx("div",{className:"bg-[#eafaf1] text-[#217a3c] px-6 py-2 text-sm border-b border-[#e5e7eb]",children:"Valid JWT"}),E&&v.jsx("div",{className:`px-6 py-2 text-sm border-b border-[#e5e7eb] ${E.includes("valid")?"bg-[#eafaf1] text-[#217a3c]":"bg-[#fbeaea] text-[#b94a48]"}`,children:E}),h&&v.jsx("div",{className:"bg-[#fbeaea] text-[#b94a48] px-6 py-2 text-sm border-b border-[#e5e7eb]",children:h}),v.jsxs("div",{className:"px-6 py-4 flex flex-col gap-4",children:[v.jsx(Va,{value:a,onChange:O=>l(O),extensions:[mE(),Re.lineWrapping],basicSetup:{lineNumbers:!1,highlightActiveLine:!1},className:"w-full font-mono text-base border-none min-h-[120px] bg-white text-[#2d1c0f]"}),v.jsx("div",{className:"flex justify-end",children:v.jsx(pe,{size:"lg",className:"bg-[#2d1c0f] text-white hover:bg-[#444] px-8 py-2 rounded",onClick:_,children:"Decode"})})]})]})}),v.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:[v.jsx("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:"DECODED HEADER"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>A(jf((u==null?void 0:u.header)||{})),children:"COPY"})]}),v.jsx("div",{className:"px-6 py-4",children:v.jsxs(Qp,{value:r,onValueChange:i,className:"w-full",children:[v.jsxs(Oh,{className:"mb-2 flex gap-2 bg-transparent border-b border-[#e5e7eb] rounded-none",children:[v.jsx(Ai,{value:"json",className:"px-2 py-1 text-base font-medium border-b-2 border-transparent data-[state=active]:border-[#2d1c0f] data-[state=active]:text-[#2d1c0f]",children:"JSON"}),v.jsx(Ai,{value:"claims",className:"px-2 py-1 text-base font-medium border-b-2 border-transparent data-[state=active]:border-[#2d1c0f] data-[state=active]:text-[#2d1c0f]",children:"CLAIMS TABLE"})]}),v.jsx(Ei,{value:"json",children:v.jsx(dE,{src:(u==null?void 0:u.header)||{},theme:"rjv-default",style:{background:"#fff",borderRadius:8,padding:8,fontSize:"1rem"},displayDataTypes:!1,collapsed:!1,enableClipboard:!1})}),v.jsx(Ei,{value:"claims",children:u!=null&&u.header?v.jsx(Df,{data:u.header}):v.jsx("div",{className:"text-[#a67c52] italic",children:"No claims"})})]})})]}),v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:[v.jsx("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:"DECODED PAYLOAD"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>A(jf((u==null?void 0:u.payload)||{})),children:"COPY"})]}),v.jsx("div",{className:"px-6 py-4",children:v.jsxs(Qp,{value:s,onValueChange:o,className:"w-full",children:[v.jsxs(Oh,{className:"mb-2 flex gap-2 bg-transparent border-b border-[#e5e7eb] rounded-none",children:[v.jsx(Ai,{value:"json",className:"px-2 py-1 text-base font-medium border-b-2 border-transparent data-[state=active]:border-[#2d1c0f] data-[state=active]:text-[#2d1c0f]",children:"JSON"}),v.jsx(Ai,{value:"claims",className:"px-2 py-1 text-base font-medium border-b-2 border-transparent data-[state=active]:border-[#2d1c0f] data-[state=active]:text-[#2d1c0f]",children:"CLAIMS TABLE"})]}),v.jsx(Ei,{value:"json",children:v.jsx(dE,{src:(u==null?void 0:u.payload)||{},theme:"rjv-default",style:{background:"#fff",borderRadius:8,padding:8,fontSize:"1rem"},displayDataTypes:!1,collapsed:!1,enableClipboard:!1})}),v.jsx(Ei,{value:"claims",children:u!=null&&u.payload?v.jsx(Df,{data:u.payload}):v.jsx("div",{className:"text-[#a67c52] italic",children:"No claims"})})]})})]}),v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none",children:[v.jsx("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:v.jsxs("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:["JWT SIGNATURE VERIFICATION ",v.jsx("span",{className:"text-[#888] text-base font-normal",children:"(OPTIONAL)"})]})}),v.jsxs("div",{className:"px-6 py-4 flex flex-col gap-2",children:[v.jsx("label",{className:"text-base font-semibold mb-1",children:"SECRET"}),v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>A(C),children:"COPY"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>x(""),children:"CLEAR"})]}),v.jsx(rr,{placeholder:"Secret",value:C,onChange:O=>x(O.target.value),className:"font-mono text-base bg-[#f8f8f8] border border-[#e5e7eb] text-[#2d1c0f] rounded",rows:2}),v.jsx(pe,{onClick:T,variant:"default",className:"bg-[#2d1c0f] hover:bg-[#444] w-fit mt-2",children:"Validate"})]})]})]})]}),v.jsxs(Qb,{value:"edit",className:"flex flex-row gap-8 w-full",children:[v.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:[v.jsx("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:"HEADER: ALGORITHM & TOKEN TYPE"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>p("{}"),children:"CLEAR"})]}),v.jsxs("div",{className:"px-6 py-4",children:[v.jsx(rr,{value:f,onChange:O=>p(O.target.value),className:"font-mono text-base bg-[#f8f8f8] border border-[#e5e7eb] text-[#2d1c0f] rounded min-h-[80px]"}),v.jsx(Df,{data:To(f),editable:!0,onEdit:(O,P)=>p(JSON.stringify({...To(f),[O]:P},null,2))})]})]}),v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:[v.jsx("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:"PAYLOAD: DATA"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>g("{}"),children:"CLEAR"})]}),v.jsxs("div",{className:"px-6 py-4",children:[v.jsx(rr,{value:m,onChange:O=>g(O.target.value),className:"font-mono text-base bg-[#f8f8f8] border border-[#e5e7eb] text-[#2d1c0f] rounded min-h-[120px]"}),v.jsx(Df,{data:To(m),editable:!0,onEdit:(O,P)=>g(JSON.stringify({...To(m),[O]:P},null,2))})]})]}),v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg shadow-none",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:[v.jsx("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:"SIGN JWT: SECRET"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>x(""),children:"CLEAR"})]}),v.jsxs("div",{className:"px-6 py-4",children:[v.jsx(rr,{placeholder:"Secret",value:C,onChange:O=>x(O.target.value),className:"font-mono text-base bg-[#f8f8f8] border border-[#e5e7eb] text-[#2d1c0f] rounded",rows:2}),v.jsxs("div",{className:"flex gap-2 mt-4",children:[v.jsx(pe,{onClick:R,className:"bg-[#2d1c0f] hover:bg-[#444] text-white",children:"Re-encode (unsigned)"}),v.jsx(pe,{onClick:M,className:"bg-[#2d1c0f] hover:bg-[#444] text-white",children:"Re-encode & Sign"})]})]})]})]}),v.jsx("div",{className:"flex-1",children:v.jsxs("div",{className:"bg-white border border-[#e5e7eb] rounded-lg p-0 shadow-none flex flex-col h-full",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-2 border-b border-[#e5e7eb]",children:[v.jsx("span",{className:"text-lg font-semibold tracking-wide text-[#222]",children:"JSON WEB TOKEN"}),v.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>A(a),children:"COPY"})]}),v.jsx("div",{className:"px-6 py-4 flex-1",children:v.jsx(Va,{value:a,readOnly:!0,extensions:[mE(),Re.lineWrapping],basicSetup:{lineNumbers:!1,highlightActiveLine:!1},className:"w-full font-mono text-base border-none min-h-[120px] bg-white text-[#2d1c0f]"})})]})})]})]})})})}const MJ=[{label:"JSON",value:"json"},{label:"YAML",value:"yaml"},{label:"XML",value:"xml"},{label:"Plain Text",value:"text"}];function NJ(t,e){try{if(e==="json")return JSON.stringify(JSON.parse(t),null,2);if(e==="yaml"){const n=x1(t);return gj(n,{indent:2})}else if(e==="xml"){const n="  ";let r="";const i=/(>)(<)(\/*)/g;let s=t.replace(i,`$1\r
$2$3`),o=0;return s.split(`\r
`).forEach(a=>{let l=0;a.match(/.+<\/.+>$/)?l=0:a.match(/^<\//)?o!==0&&(o-=1):a.match(/^<[^!?]+[^\/>]>.*$/)?l=1:l=0,r+=n.repeat(o)+a+`
`,o+=l}),r.trim()}else return t}catch{return t}}function RJ(t,e){try{if(e==="json")return JSON.stringify(JSON.parse(t));if(e==="yaml"){const n=x1(t);return gj(n,{indent:0,flowLevel:-1})}else return e==="xml"?t.replace(/>\s+</g,"><").trim():t.replace(/\s+/g," ").trim()}catch{return t}}function LJ(){const{toast:t}=ss(),[e,n]=j.useState(""),[r,i]=j.useState(""),[s,o]=j.useState("json"),[a,l]=j.useState("beautify"),[u,c]=j.useState(""),h=()=>{c("");try{const g=a==="beautify"?NJ(e,s):RJ(e,s);i(g),t({title:a==="beautify"?"Beautified!":"Minified!",description:`Your ${s.toUpperCase()} has been ${a==="beautify"?"beautified":"minified"}.`})}catch(g){c(g.message||"Failed to format content"),t({title:"Error",description:g.message||"Failed to format content",variant:"destructive"})}},d=g=>{navigator.clipboard.writeText(g),t({title:"Copied",description:"Content copied to clipboard"})},f=()=>{if(!r)return;const g=new Blob([r],{type:"text/plain"}),y=URL.createObjectURL(g),b=document.createElement("a");b.href=y,b.download=`formatted.${s}`,b.click(),URL.revokeObjectURL(y)},p=g=>{var C;const y=(C=g.target.files)==null?void 0:C[0];if(!y)return;const b=new FileReader;b.onload=x=>{var w;const S=(w=x.target)==null?void 0:w.result;n(S)},b.readAsText(y)},m=()=>{n(""),i(""),c("")};return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"Code Beautifier",subtitle:"Beautify or minify JSON, YAML, XML, or plain text"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsx("div",{className:"max-w-5xl mx-auto space-y-6",children:v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[v.jsx(ln,{children:"Code Beautifier"}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:s,onChange:g=>o(g.target.value),children:MJ.map(g=>v.jsx("option",{value:g.value,children:g.label},g.value))}),v.jsxs(pe,{variant:a==="beautify"?"default":"outline",size:"sm",onClick:()=>l("beautify"),children:[v.jsx(Ly,{className:"w-4 h-4 mr-1"})," Beautify"]}),v.jsxs(pe,{variant:a==="minify"?"default":"outline",size:"sm",onClick:()=>l("minify"),children:[v.jsx($y,{className:"w-4 h-4 mr-1"})," Minify"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{var g;return(g=document.getElementById("file-upload"))==null?void 0:g.click()},children:[v.jsx(WM,{className:"w-4 h-4 mr-2"})," Upload"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:m,children:[v.jsx(ci,{className:"w-4 h-4 mr-2"})," Clear"]})]})]})}),v.jsx(Bt,{children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx(rr,{placeholder:`Paste your ${s.toUpperCase()} here...`,value:e,onChange:g=>n(g.target.value),className:"font-mono text-sm min-h-[300px]"}),v.jsx("input",{id:"file-upload",type:"file",accept:s==="json"?".json":s==="yaml"?".yaml,.yml":s==="xml"?".xml":"*",onChange:p,className:"hidden"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsxs(pe,{onClick:h,children:[v.jsx(Wp,{className:"w-4 h-4 mr-2"}),a==="beautify"?"Beautify":"Minify"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>d(r),disabled:!r,children:[v.jsx(pi,{className:"w-4 h-4 mr-2"})," Copy"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:f,disabled:!r,children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"})," Download"]})]}),v.jsx("div",{className:"code-editor min-h-[300px] overflow-auto bg-muted rounded p-2",children:v.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:r||`Your ${a==="beautify"?"beautified":"minified"} ${s.toUpperCase()} will appear here...`})}),u&&v.jsxs("div",{className:"flex items-center gap-2 text-destructive mt-2",children:[v.jsx(jM,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm",children:u})]})]})]})})]})})})]})}function $J(){const{toast:t}=ss(),[e,n]=j.useState(""),[r,i]=j.useState(""),[s,o]=j.useState("csv-to-json"),a=p=>{const m=p.trim().split(`
`);if(m.length<2)throw new Error("CSV must have at least a header and one data row");const g=m[0].split(",").map(b=>b.trim().replace(/^"|"$/g,"")),y=m.slice(1).map(b=>{const C=b.split(",").map(S=>S.trim().replace(/^"|"$/g,"")),x={};return g.forEach((S,w)=>{x[S]=C[w]||""}),x});return JSON.stringify(y,null,2)},l=p=>{const m=JSON.parse(p);if(!Array.isArray(m))throw new Error("JSON must be an array of objects");if(m.length===0)throw new Error("JSON array cannot be empty");const g=Object.keys(m[0]);return[g.join(","),...m.map(b=>g.map(C=>{const x=b[C];return typeof x=="string"&&x.includes(",")?`"${x}"`:x}).join(","))].join(`
`)},u=()=>{if(!e.trim()){t({title:"Error",description:"Please enter some data to convert",variant:"destructive"});return}try{let p;s==="csv-to-json"?p=a(e):p=l(e),i(p),t({title:"Conversion successful",description:`Data converted from ${s.replace("-"," to ").toUpperCase()}`})}catch(p){t({title:"Conversion failed",description:p instanceof Error?p.message:"Invalid data format",variant:"destructive"})}},c=()=>{navigator.clipboard.writeText(r),t({title:"Copied",description:"Converted data copied to clipboard"})},h=()=>{const p=s==="csv-to-json"?"json":"csv",m=s==="csv-to-json"?"application/json":"text/csv",g=new Blob([r],{type:m}),y=URL.createObjectURL(g),b=document.createElement("a");b.href=y,b.download=`converted.${p}`,b.click(),URL.revokeObjectURL(y)},d=p=>{var y;const m=(y=p.target.files)==null?void 0:y[0];if(!m)return;const g=new FileReader;g.onload=b=>{var x;const C=(x=b.target)==null?void 0:x.result;n(C)},g.readAsText(m)},f=()=>s==="csv-to-json"?`name,age,city
John,30,New York
Jane,25,Los Angeles
Bob,35,Chicago`:`[
  {
    "name": "John",
    "age": 30,
    "city": "New York"
  },
  {
    "name": "Jane",
    "age": 25,
    "city": "Los Angeles"
  }
]`;return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"DataMorph - CSV/JSON Converter",subtitle:"Convert between CSV and JSON formats"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Conversion Type"})}),v.jsx(Bt,{children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs(ui,{value:s,onValueChange:p=>o(p),children:[v.jsx(zr,{className:"w-48",children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"csv-to-json",children:"CSV to JSON"}),v.jsx(At,{value:"json-to-csv",children:"JSON to CSV"})]})]}),v.jsxs(pe,{onClick:u,children:[v.jsx(Hp,{className:"w-4 h-4 mr-2"}),"Convert"]})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs(ln,{children:["Input (",s.split("-")[0].toUpperCase(),")"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{var p;return(p=document.getElementById("file-upload"))==null?void 0:p.click()},children:[v.jsx(WM,{className:"w-4 h-4 mr-2"}),"Upload"]})]})}),v.jsxs(Bt,{children:[v.jsx(rr,{placeholder:f(),value:e,onChange:p=>n(p.target.value),className:"font-mono text-sm min-h-[400px]"}),v.jsx("input",{id:"file-upload",type:"file",accept:s==="csv-to-json"?".csv":".json",onChange:d,className:"hidden"})]})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs(ln,{children:["Output (",s.split("-")[2].toUpperCase(),")"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(pe,{variant:"outline",size:"sm",onClick:c,disabled:!r,children:[v.jsx(pi,{className:"w-4 h-4 mr-2"}),"Copy"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:h,disabled:!r,children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})}),v.jsx(Bt,{children:v.jsx("div",{className:"code-editor min-h-[400px] overflow-auto",children:v.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:r||"Converted data will appear here..."})})})]})]})]})})]})}function OJ(){const{toast:t}=ss(),[e,n]=j.useState(""),[r,i]=j.useState(""),[s,o]=j.useState("UTC"),[a,l]=j.useState([]),u=()=>{if(!e.trim()){t({title:"Error",description:"Please enter an epoch timestamp",variant:"destructive"});return}try{const p=parseInt(e),m=new Date(p*1e3);if(isNaN(m.getTime()))throw new Error("Invalid timestamp");const g=m.toLocaleString("en-US",{timeZone:s==="UTC"?"UTC":s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"});i(g);const y={timestamp:p,human:g,timezone:s};l(b=>[y,...b.slice(0,9)]),t({title:"Conversion successful",description:"Timestamp converted to human-readable format"})}catch{t({title:"Conversion failed",description:"Invalid timestamp format",variant:"destructive"})}},c=()=>{if(!r.trim()){t({title:"Error",description:"Please enter a date and time",variant:"destructive"});return}try{const p=new Date(r);if(isNaN(p.getTime()))throw new Error("Invalid date");const m=Math.floor(p.getTime()/1e3);n(m.toString());const g=p.toLocaleString("en-US",{timeZone:s==="UTC"?"UTC":s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}),y={timestamp:m,human:g,timezone:s};l(b=>[y,...b.slice(0,9)]),t({title:"Conversion successful",description:"Date converted to epoch timestamp"})}catch{t({title:"Conversion failed",description:"Invalid date format",variant:"destructive"})}},h=()=>{const p=Math.floor(Date.now()/1e3);n(p.toString()),u()},d=p=>{navigator.clipboard.writeText(p),t({title:"Copied",description:"Value copied to clipboard"})},f=["UTC","America/New_York","America/Los_Angeles","Europe/London","Europe/Paris","Asia/Tokyo","Asia/Shanghai","Australia/Sydney"];return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"TimeFlip - Epoch Converter",subtitle:"Convert timestamps and dates"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Timezone"})}),v.jsx(Bt,{children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs(ui,{value:s,onValueChange:o,children:[v.jsx(zr,{className:"w-64",children:v.jsx(hi,{})}),v.jsx(Hr,{children:f.map(p=>v.jsx(At,{value:p,children:p},p))})]}),v.jsxs(pe,{variant:"outline",onClick:h,children:[v.jsx(Bp,{className:"w-4 h-4 mr-2"}),"Current Time"]})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Epoch to Human"})}),v.jsxs(Bt,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"epoch-input",children:"Unix Timestamp"}),v.jsx(ct,{id:"epoch-input",placeholder:"1672531200",value:e,onChange:p=>n(p.target.value),className:"font-mono"})]}),v.jsxs(pe,{onClick:u,className:"w-full",children:[v.jsx(Hp,{className:"w-4 h-4 mr-2"}),"Convert to Human"]}),r&&v.jsx("div",{className:"bg-muted rounded p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"font-mono text-sm",children:r}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>d(r),children:v.jsx(pi,{className:"w-4 h-4"})})]})})]})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Human to Epoch"})}),v.jsxs(Bt,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"human-input",children:"Date and Time"}),v.jsx(ct,{id:"human-input",placeholder:"2023-01-01 00:00:00",value:r,onChange:p=>i(p.target.value)})]}),v.jsxs(pe,{onClick:c,className:"w-full",children:[v.jsx(Hp,{className:"w-4 h-4 mr-2"}),"Convert to Epoch"]}),e&&v.jsx("div",{className:"bg-muted rounded p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"font-mono text-sm",children:e}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>d(e),children:v.jsx(pi,{className:"w-4 h-4"})})]})})]})]})]}),a.length>0&&v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Recent Conversions"})}),v.jsx(Bt,{children:v.jsx("div",{className:"space-y-2",children:a.map((p,m)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"font-mono text-sm",children:p.timestamp}),v.jsx("div",{className:"text-sm text-muted-foreground",children:p.human})]}),v.jsx("div",{className:"flex gap-2",children:v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>d(p.timestamp.toString()),children:v.jsx(pi,{className:"w-4 h-4"})})})]},m))})})]})]})})]})}function _J(){const{toast:t}=ss(),[e,n]=j.useState(`{
  "type": "object",
  "properties": {
    "id": {"type": "integer"},
    "name": {"type": "string"},
    "email": {"type": "string", "format": "email"},
    "age": {"type": "integer", "minimum": 18, "maximum": 100},
    "address": {
      "type": "object",
      "properties": {
        "street": {"type": "string"},
        "city": {"type": "string"},
        "country": {"type": "string"}
      }
    },
    "hobbies": {
      "type": "array",
      "items": {"type": "string"}
    }
  }
}`),[r,i]=j.useState(5),[s,o]=j.useState("en_US"),[a,l]=j.useState(12345),[u,c]=j.useState(""),h=()=>{try{const m=JSON.parse(e);let g=[];for(let b=0;b<r;b++){const C=d(m,b+1);g=[...g,C]}const y=JSON.stringify(g,null,2);c(y),t({title:"Mock data generated",description:`Generated ${r} records successfully`})}catch(m){t({title:"Generation failed",description:m instanceof Error?m.message:"Invalid schema format",variant:"destructive"})}},d=(m,g)=>{if(m.type==="object"&&m.properties){const y={};for(const[b,C]of Object.entries(m.properties))y[b]=d(C,g);return y}if(m.type==="array"&&m.items){const y=Math.floor(Math.random()*3)+1;return Array.from({length:y},(b,C)=>d(m.items,C))}if(m.type==="string")return m.format==="email"?`user${g}@example.com`:`Sample ${m.format||"text"} ${g}`;if(m.type==="integer"){const y=m.minimum||1,b=m.maximum||100;return Math.floor(Math.random()*(b-y+1))+y}return m.type==="boolean"?Math.random()>.5:null},f=()=>{navigator.clipboard.writeText(u),t({title:"Copied",description:"Mock data copied to clipboard"})},p=()=>{const m=new Blob([u],{type:"application/json"}),g=URL.createObjectURL(m),y=document.createElement("a");y.href=g,y.download="mock-data.json",y.click(),URL.revokeObjectURL(g)};return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"MockWizard - Mock Data Generator",subtitle:"Generate realistic mock data"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"JSON Schema or Sample"})}),v.jsx(Bt,{children:v.jsx(rr,{placeholder:"Enter your JSON schema or sample data...",value:e,onChange:m=>n(m.target.value),className:"font-mono text-sm min-h-[300px]"})})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Generation Settings"})}),v.jsxs(Bt,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"record-count",children:"Records Count"}),v.jsx(ct,{id:"record-count",type:"number",value:r,onChange:m=>i(Number(m.target.value)),min:1,max:100})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{children:"Locale"}),v.jsxs(ui,{value:s,onValueChange:o,children:[v.jsx(zr,{children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"en_US",children:"English (US)"}),v.jsx(At,{value:"en_UK",children:"English (UK)"}),v.jsx(At,{value:"de_DE",children:"German"}),v.jsx(At,{value:"fr_FR",children:"French"}),v.jsx(At,{value:"es_ES",children:"Spanish"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"seed",children:"Seed"}),v.jsx(ct,{id:"seed",type:"number",value:a,onChange:m=>l(Number(m.target.value))})]})]}),v.jsx("div",{className:"mt-6",children:v.jsxs(pe,{onClick:h,children:[v.jsx(Wp,{className:"w-4 h-4 mr-2"}),"Generate Mock Data"]})})]})]}),u&&v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(ln,{children:"Generated Mock Data"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(pe,{variant:"outline",size:"sm",onClick:f,children:[v.jsx(pi,{className:"w-4 h-4 mr-2"}),"Copy"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:p,children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Download JSON"]})]})]})}),v.jsx(Bt,{children:v.jsx("div",{className:"code-editor max-h-96 overflow-auto",children:v.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:u})})})]})]})})]})}var C1="Progress",k1=100,[jJ,AX]=Fs(C1),[DJ,PJ]=jJ(C1),Dj=j.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=IJ,...o}=t;(i||i===0)&&!gE(i)&&console.error(FJ(`${i}`,"Progress"));const a=gE(i)?i:k1;r!==null&&!vE(r,a)&&console.error(BJ(`${r}`,"Progress"));const l=vE(r,a)?r:null,u=_m(l)?s(l,a):void 0;return v.jsx(DJ,{scope:n,value:l,max:a,children:v.jsx(dt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":_m(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":Fj(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Dj.displayName=C1;var Pj="ProgressIndicator",Ij=j.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=PJ(Pj,n);return v.jsx(dt.div,{"data-state":Fj(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Ij.displayName=Pj;function IJ(t,e){return`${Math.round(t/e*100)}%`}function Fj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function _m(t){return typeof t=="number"}function gE(t){return _m(t)&&!isNaN(t)&&t>0}function vE(t,e){return _m(t)&&!isNaN(t)&&t<=e&&t>=0}function FJ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${k1}\`.`}function BJ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${k1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Bj=Dj,zJ=Ij;const zj=j.forwardRef(({className:t,value:e,...n},r)=>v.jsx(Bj,{ref:r,className:tt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:v.jsx(zJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));zj.displayName=Bj.displayName;function HJ(){var b;ss();const[t,e]=j.useState({algorithm:"token-bucket",rateLimit:10,timeWindow:60,burstSize:5}),[n,r]=j.useState(!1),[i,s]=j.useState({tokens:10,maxTokens:10,refillRate:1,lastRefill:Date.now()}),[o,a]=j.useState([]),[l,u]=j.useState({totalRequests:0,allowedRequests:0,blockedRequests:0,successRate:0}),c=j.useRef(null),h=j.useRef(null),d=()=>{r(!0),a([]),u({totalRequests:0,allowedRequests:0,blockedRequests:0,successRate:0}),s({tokens:t.rateLimit,maxTokens:t.rateLimit,refillRate:t.rateLimit/t.timeWindow,lastRefill:Date.now()}),c.current=setInterval(()=>{s(C=>{const x=Date.now(),w=(x-C.lastRefill)/1e3*C.refillRate,k=Math.min(C.maxTokens,C.tokens+w);return{...C,tokens:k,lastRefill:x}})},1e3),h.current=setInterval(()=>{m()},Math.random()*2e3+500)},f=()=>{r(!1),c.current&&(clearInterval(c.current),c.current=null),h.current&&(clearInterval(h.current),h.current=null)},p=()=>{f(),a([]),u({totalRequests:0,allowedRequests:0,blockedRequests:0,successRate:0}),s({tokens:t.rateLimit,maxTokens:t.rateLimit,refillRate:t.rateLimit/t.timeWindow,lastRefill:Date.now()})},m=()=>{const C=["/api/users","/api/posts","/api/comments","/api/auth"],x=C[Math.floor(Math.random()*C.length)];s(S=>{const w=S.tokens>=1,k=w?S.tokens-1:S.tokens,L={timestamp:Date.now(),status:w?"allowed":"blocked",endpoint:x,tokens:Math.floor(k),maxTokens:S.maxTokens};return a(E=>[L,...E.slice(0,49)]),u(E=>{const N=E.totalRequests+1,_=E.allowedRequests+(w?1:0),R=E.blockedRequests+(w?0:1),M=Math.round(_/N*100);return{totalRequests:N,allowedRequests:_,blockedRequests:R,successRate:M}}),{...S,tokens:k}})},g=()=>{m()};j.useEffect(()=>()=>{c.current&&clearInterval(c.current),h.current&&clearInterval(h.current)},[]);const y=C=>{switch(C){case"token-bucket":return"Tokens are added at a fixed rate. Each request consumes one token.";case"fixed-window":return"Allows a fixed number of requests per time window.";case"sliding-window":return"Maintains a rolling window of recent requests.";case"leaky-bucket":return"Requests are processed at a steady rate, excess requests are dropped.";default:return""}};return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"ThrottleViz - Rate Limiter Visualization",subtitle:"Visualize rate limiting strategies"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Rate Limiting Configuration"})}),v.jsxs(Bt,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{children:"Algorithm"}),v.jsxs(ui,{value:t.algorithm,onValueChange:C=>e(x=>({...x,algorithm:C})),disabled:n,children:[v.jsx(zr,{children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"token-bucket",children:"Token Bucket"}),v.jsx(At,{value:"fixed-window",children:"Fixed Window"}),v.jsx(At,{value:"sliding-window",children:"Sliding Window"}),v.jsx(At,{value:"leaky-bucket",children:"Leaky Bucket"})]})]}),v.jsx("p",{className:"text-xs text-muted-foreground",children:y(t.algorithm)})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"rate-limit",children:"Rate Limit"}),v.jsx(ct,{id:"rate-limit",type:"number",value:t.rateLimit,onChange:C=>e(x=>({...x,rateLimit:Number(C.target.value)})),min:1,max:100,disabled:n}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests per time window"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"time-window",children:"Time Window (seconds)"}),v.jsx(ct,{id:"time-window",type:"number",value:t.timeWindow,onChange:C=>e(x=>({...x,timeWindow:Number(C.target.value)})),min:1,max:3600,disabled:n}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Duration of rate limit window"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"burst-size",children:"Burst Size"}),v.jsx(ct,{id:"burst-size",type:"number",value:t.burstSize,onChange:C=>e(x=>({...x,burstSize:Number(C.target.value)})),min:1,max:50,disabled:n}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum burst requests"})]})]}),v.jsxs("div",{className:"mt-6 flex gap-2",children:[v.jsxs(pe,{onClick:d,disabled:n,children:[v.jsx(zp,{className:"w-4 h-4 mr-2"}),"Start Simulation"]}),v.jsxs(pe,{onClick:f,disabled:!n,children:[v.jsx(aF,{className:"w-4 h-4 mr-2"}),"Pause"]}),v.jsxs(pe,{onClick:p,variant:"outline",children:[v.jsx(HM,{className:"w-4 h-4 mr-2"}),"Reset"]}),v.jsx(pe,{onClick:g,variant:"outline",children:"Send Request"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[v.jsx(_t,{children:v.jsxs(Bt,{className:"pt-6",children:[v.jsx("div",{className:"text-2xl font-bold",children:l.totalRequests}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Requests"})]})}),v.jsx(_t,{children:v.jsxs(Bt,{className:"pt-6",children:[v.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.allowedRequests}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Allowed"})]})}),v.jsx(_t,{children:v.jsxs(Bt,{className:"pt-6",children:[v.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.blockedRequests}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Blocked"})]})}),v.jsx(_t,{children:v.jsxs(Bt,{className:"pt-6",children:[v.jsxs("div",{className:"text-2xl font-bold",children:[l.successRate,"%"]}),v.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Token Bucket Status"})}),v.jsx(Bt,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-medium",children:"Available Tokens"}),v.jsxs("span",{className:"font-mono",children:[Math.floor(i.tokens)," / ",i.maxTokens]})]}),v.jsx(zj,{value:i.tokens/i.maxTokens*100,className:"h-4"}),v.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Refill Rate"}),v.jsxs("span",{className:"font-mono",children:[i.refillRate.toFixed(2)," tokens/sec"]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Algorithm"}),v.jsx("span",{className:"font-mono",children:t.algorithm})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Window"}),v.jsxs("span",{className:"font-mono",children:[t.timeWindow,"s"]})]})]})]})})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Request Rate Over Time"})}),v.jsx(Bt,{children:v.jsx("div",{className:"bg-muted rounded border p-4 h-64 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(U3,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),v.jsx("p",{className:"text-muted-foreground text-sm",children:"Live chart visualization would appear here"}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Showing request rate: ",l.totalRequests>0?Math.round(l.totalRequests/Math.max(1,(Date.now()-(((b=o[o.length-1])==null?void 0:b.timestamp)||Date.now()))/1e3)):0," req/sec"]})]})})})]})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Request Log"})}),v.jsx(Bt,{children:v.jsx("div",{className:"bg-muted rounded border p-4 max-h-64 overflow-y-auto",children:v.jsx("div",{className:"space-y-2 font-mono text-sm",children:o.length===0?v.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No requests yet. Start the simulation to see request logs."}):o.map((C,x)=>v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("span",{className:"text-muted-foreground text-xs",children:new Date(C.timestamp).toLocaleTimeString()}),v.jsx(Mr,{variant:C.status==="allowed"?"default":"destructive",children:C.status.toUpperCase()}),v.jsx("span",{className:"text-sm",children:C.endpoint}),C.tokens!==void 0&&v.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:["tokens: ",C.tokens,"/",C.maxTokens]})]},x))})})})]})]})})]})}function WJ(){const{toast:t}=ss(),[e,n]=j.useState(`@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    @GetMapping("/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        if (user != null) {
            return ResponseEntity.ok(user);
        }
        return ResponseEntity.notFound().build();
    }
    
    @PostMapping
    public ResponseEntity<User> createUser(@RequestBody User user) {
        User savedUser = userService.save(user);
        return ResponseEntity.ok(savedUser);
    }
}

@Service
public class UserService {
    
    @Autowired
    private UserRepository userRepository;
    
    public User findById(Long id) {
        return userRepository.findById(id).orElse(null);
    }
    
    public User save(User user) {
        return userRepository.save(user);
    }
}

@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    // JPA methods are inherited
}`),[r,i]=j.useState(""),[s,o]=j.useState([]),[a,l]=j.useState(""),u=()=>{try{let f=[];const p=e.split(`
`);let m="",g="",y=!1,b=0;for(let C=0;C<p.length;C++){const x=p[C].trim();if(x.includes("class ")&&!x.includes("//")){const S=x.match(/class\s+(\w+)/);S&&(m=S[1])}if(x.includes("public ")&&x.includes("(")&&!x.includes("//")){const S=x.match(/public\s+(\w+(?:<[^>]+>)?)\s+(\w+)\s*\(([^)]*)\)/);if(S){const[,w,k,L]=S,E=L.split(",").map($=>$.trim()).filter($=>$),N={className:m,methodName:k,returnType:w,parameters:E,calls:[]};let _="",R=C+1,M=0,T=!1;for(;R<p.length;){const $=p[R].trim();if($.includes("{")&&(M++,T=!0),$.includes("}")&&(M--,M===0&&T))break;_+=$+`
`,R++}const A=_.match(/(\w+)\.(\w+)\s*\(/g);A&&A.forEach($=>{const[,D,O]=$.match(/(\w+)\.(\w+)\s*\(/)||[];D&&O&&(N.calls=[...N.calls,{className:D,methodName:O,returnType:"Unknown",parameters:[],calls:[]}])}),f=[...f,N]}}}o(f),t({title:"Code parsed successfully",description:`Found ${f.length} methods`})}catch{t({title:"Parsing failed",description:"Failed to parse Java code",variant:"destructive"})}},c=()=>{if(s.length===0){t({title:"No methods found",description:"Please parse Java code first",variant:"destructive"});return}let f=`@startuml
`;f+=`!theme plain
`,f+=`title Method Call Sequence

`;const p=new Set;s.forEach(g=>{p.add(g.className),g.calls.forEach(y=>{p.add(y.className)})}),p.forEach(g=>{f+=`participant ${g}
`}),f+=`
`;const m=s.find(g=>a===`${g.className}.${g.methodName}`||a===""&&s.indexOf(g)===0);m&&(f+=`activate ${m.className}
`,m.calls.forEach((g,y)=>{f+=`${m.className} -> ${g.className} : ${g.methodName}()
`,f+=`activate ${g.className}
`,f+=`${g.className} --> ${m.className} : return
`,f+=`deactivate ${g.className}
`}),f+=`deactivate ${m.className}
`),f+=`
@enduml`,i(f),t({title:"PlantUML generated",description:"Sequence diagram code has been generated"})},h=f=>{navigator.clipboard.writeText(f),t({title:"Copied",description:"Content copied to clipboard"})},d=()=>{const f=new Blob([r],{type:"text/plain"}),p=URL.createObjectURL(f),m=document.createElement("a");m.href=p,m.download="sequence-diagram.puml",m.click(),URL.revokeObjectURL(p)};return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"FlowTrace - PlantUML Generator",subtitle:"Generate sequence diagrams"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs(ln,{className:"flex items-center gap-2",children:[v.jsx(PM,{className:"w-5 h-5"}),"How to Use FlowTrace"]})}),v.jsx(Bt,{children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-medium",children:"1"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"Paste Java Code"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your Java controller, service, or repository code"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-medium",children:"2"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"Parse & Analyze"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"The tool will extract method calls and dependencies"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white text-sm font-medium",children:"3"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:"Generate Diagram"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Get PlantUML code for sequence diagrams"})]})]})]})})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(ln,{children:"Java Code Input"}),v.jsx("div",{className:"flex gap-2",children:v.jsxs(pe,{onClick:u,children:[v.jsx(zp,{className:"w-4 h-4 mr-2"}),"Parse Code"]})})]})}),v.jsx(Bt,{children:v.jsx(rr,{value:e,onChange:f=>n(f.target.value),placeholder:"Paste your Java code here...",className:"font-mono text-sm min-h-[400px]"})})]}),s.length>0&&v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs(ln,{children:["Parsed Methods (",s.length,")"]})}),v.jsx(Bt,{children:v.jsx("div",{className:"space-y-4",children:s.map((f,p)=>v.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("h4",{className:"font-medium",children:[f.className,".",f.methodName]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Returns: ",f.returnType]})]}),v.jsx(pe,{variant:"outline",size:"sm",onClick:()=>{l(`${f.className}.${f.methodName}`),c()},children:"Generate Diagram"})]}),f.parameters.length>0&&v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium",children:"Parameters:"}),v.jsx("div",{className:"flex gap-2 flex-wrap mt-1",children:f.parameters.map((m,g)=>v.jsx(Mr,{variant:"secondary",className:"text-xs",children:m},g))})]}),f.calls.length>0&&v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium",children:"Calls:"}),v.jsx("div",{className:"flex gap-2 flex-wrap mt-1",children:f.calls.map((m,g)=>v.jsxs(Mr,{variant:"outline",className:"text-xs",children:[m.className,".",m.methodName,"()"]},g))})]})]},p))})})]}),r&&v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(ln,{children:"Generated PlantUML"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>h(r),children:[v.jsx(pi,{className:"w-4 h-4 mr-2"}),"Copy"]}),v.jsxs(pe,{variant:"outline",size:"sm",onClick:d,children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})}),v.jsx(Bt,{children:v.jsxs(Qp,{defaultValue:"code",className:"w-full",children:[v.jsxs(Oh,{className:"grid w-full grid-cols-2",children:[v.jsx(Ai,{value:"code",children:"PlantUML Code"}),v.jsx(Ai,{value:"preview",children:"Preview"})]}),v.jsx(Ei,{value:"code",className:"mt-4",children:v.jsx("div",{className:"code-editor max-h-96 overflow-auto",children:v.jsx("pre",{className:"text-sm",children:r})})}),v.jsx(Ei,{value:"preview",className:"mt-4",children:v.jsx("div",{className:"bg-muted rounded border p-4 h-64 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(Rh,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),v.jsx("p",{className:"text-muted-foreground text-sm",children:"Diagram preview would appear here"}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Copy the PlantUML code and paste it into a PlantUML renderer"})]})})})]})})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"PlantUML Usage Guide"})}),v.jsx(Bt,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium mb-2",children:"Online Renderers"}),v.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[v.jsxs("li",{children:["• ",v.jsx("a",{href:"https://plantuml.com/plantuml",className:"text-primary hover:underline",target:"_blank",rel:"noopener",children:"PlantUML Online Server"})]}),v.jsxs("li",{children:["• ",v.jsx("a",{href:"https://www.planttext.com/",className:"text-primary hover:underline",target:"_blank",rel:"noopener",children:"PlantText"})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium mb-2",children:"IDE Extensions"}),v.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[v.jsx("li",{children:"• VS Code: PlantUML extension"}),v.jsx("li",{children:"• IntelliJ IDEA: PlantUML integration plugin"}),v.jsx("li",{children:"• Eclipse: PlantUML plugin"})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium mb-2",children:"Command Line"}),v.jsx("div",{className:"bg-muted rounded p-2 font-mono text-sm",children:"java -jar plantuml.jar sequence-diagram.puml"})]})]})})]})]})})]})}var Hj=["PageUp","PageDown"],Wj=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Uj={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},pu="Slider",[Zb,UJ,VJ]=tg(pu),[Vj,EX]=Fs(pu,[VJ]),[KJ,Hg]=Vj(pu),Kj=j.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:c,onValueChange:h=()=>{},onValueCommit:d=()=>{},inverted:f=!1,form:p,...m}=t,g=j.useRef(new Set),y=j.useRef(0),C=o==="horizontal"?GJ:qJ,[x=[],S]=cl({prop:c,defaultProp:u,onChange:_=>{var M;(M=[...g.current][y.current])==null||M.focus(),h(_)}}),w=j.useRef(x);function k(_){const R=ZJ(x,_);N(_,R)}function L(_){N(_,y.current)}function E(){const _=w.current[y.current];x[y.current]!==_&&d(x)}function N(_,R,{commit:M}={commit:!1}){const T=rX(s),A=iX(Math.round((_-r)/s)*s+r,T),$=qp(A,[r,i]);S((D=[])=>{const O=JJ(D,$,R);if(nX(O,l*s)){y.current=O.indexOf($);const P=String(O)!==String(D);return P&&M&&d(O),P?O:D}else return D})}return v.jsx(KJ,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:y,thumbs:g.current,values:x,orientation:o,form:p,children:v.jsx(Zb.Provider,{scope:t.__scopeSlider,children:v.jsx(Zb.Slot,{scope:t.__scopeSlider,children:v.jsx(C,{"aria-disabled":a,"data-disabled":a?"":void 0,...m,ref:e,onPointerDown:Je(m.onPointerDown,()=>{a||(w.current=x)}),min:r,max:i,inverted:f,onSlideStart:a?void 0:k,onSlideMove:a?void 0:L,onSlideEnd:a?void 0:E,onHomeKeyDown:()=>!a&&N(r,0,{commit:!0}),onEndKeyDown:()=>!a&&N(i,x.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:R})=>{if(!a){const A=Hj.includes(_.key)||_.shiftKey&&Wj.includes(_.key)?10:1,$=y.current,D=x[$],O=s*A*R;N(D+O,$,{commit:!0})}}})})})})});Kj.displayName=pu;var[Gj,qj]=Vj(pu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),GJ=j.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...c}=t,[h,d]=j.useState(null),f=Vt(e,C=>d(C)),p=j.useRef(void 0),m=dg(i),g=m==="ltr",y=g&&!s||!g&&s;function b(C){const x=p.current||h.getBoundingClientRect(),S=[0,x.width],k=A1(S,y?[n,r]:[r,n]);return p.current=x,k(C-x.left)}return v.jsx(Gj,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:v.jsx(Yj,{dir:m,"data-orientation":"horizontal",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const x=b(C.clientX);o==null||o(x)},onSlideMove:C=>{const x=b(C.clientX);a==null||a(x)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:C=>{const S=Uj[y?"from-left":"from-right"].includes(C.key);u==null||u({event:C,direction:S?-1:1})}})})}),qJ=j.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,c=j.useRef(null),h=Vt(e,c),d=j.useRef(void 0),f=!i;function p(m){const g=d.current||c.current.getBoundingClientRect(),y=[0,g.height],C=A1(y,f?[r,n]:[n,r]);return d.current=g,C(m-g.top)}return v.jsx(Gj,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:v.jsx(Yj,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=p(m.clientY);s==null||s(g)},onSlideMove:m=>{const g=p(m.clientY);o==null||o(g)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:m=>{const y=Uj[f?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:y?-1:1})}})})}),Yj=j.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,c=Hg(pu,n);return v.jsx(dt.span,{...u,ref:e,onKeyDown:Je(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):Hj.concat(Wj).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Je(t.onPointerDown,h=>{const d=h.target;d.setPointerCapture(h.pointerId),h.preventDefault(),c.thumbs.has(d)?d.focus():r(h)}),onPointerMove:Je(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Je(t.onPointerUp,h=>{const d=h.target;d.hasPointerCapture(h.pointerId)&&(d.releasePointerCapture(h.pointerId),s(h))})})}),Qj="SliderTrack",Jj=j.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Hg(Qj,n);return v.jsx(dt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Jj.displayName=Qj;var ex="SliderRange",Xj=j.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Hg(ex,n),s=qj(ex,n),o=j.useRef(null),a=Vt(e,o),l=i.values.length,u=i.values.map(d=>tD(d,i.min,i.max)),c=l>1?Math.min(...u):0,h=100-Math.max(...u);return v.jsx(dt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:c+"%",[s.endEdge]:h+"%"}})});Xj.displayName=ex;var tx="SliderThumb",Zj=j.forwardRef((t,e)=>{const n=UJ(t.__scopeSlider),[r,i]=j.useState(null),s=Vt(e,a=>i(a)),o=j.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return v.jsx(YJ,{...t,ref:s,index:o})}),YJ=j.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Hg(tx,n),a=qj(tx,n),[l,u]=j.useState(null),c=Vt(e,b=>u(b)),h=l?o.form||!!l.closest("form"):!0,d=dN(l),f=o.values[r],p=f===void 0?0:tD(f,o.min,o.max),m=XJ(r,o.values.length),g=d==null?void 0:d[a.size],y=g?eX(g,p,a.direction):0;return j.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${p}% + ${y}px)`},children:[v.jsx(Zb.ItemSlot,{scope:t.__scopeSlider,children:v.jsx(dt.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:c,style:f===void 0?{display:"none"}:t.style,onFocus:Je(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&v.jsx(eD,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},r)]})});Zj.displayName=tx;var QJ="RadioBubbleInput",eD=j.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=j.useRef(null),s=Vt(i,r),o=DN(e);return j.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&c){const h=new Event("input",{bubbles:!0});c.call(a,e),a.dispatchEvent(h)}},[o,e]),v.jsx(dt.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});eD.displayName=QJ;function JJ(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function tD(t,e,n){const s=100/(n-e)*(t-e);return qp(s,[0,100])}function XJ(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function ZJ(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function eX(t,e,n){const r=t/2,s=A1([0,50],[0,r]);return(r-s(e)*n)*n}function tX(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function nX(t,e){if(e>0){const n=tX(t);return Math.min(...n)>=e}return!0}function A1(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function rX(t){return(String(t).split(".")[1]||"").length}function iX(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var nD=Kj,sX=Jj,oX=Xj,aX=Zj;const rD=j.forwardRef(({className:t,...e},n)=>v.jsxs(nD,{ref:n,className:tt("relative flex w-full touch-none select-none items-center",t),...e,children:[v.jsx(sX,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:v.jsx(oX,{className:"absolute h-full bg-primary"})}),v.jsx(aX,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));rD.displayName=nD.displayName;function lX(){const{toast:t}=ss(),[e,n]=j.useState([]),[r,i]=j.useState([80]),[s,o]=j.useState(1920),[a,l]=j.useState("keep"),[u,c]=j.useState(!1),h=j.useCallback(x=>{let S=[];Array.from(x).forEach(w=>{if(w.type.startsWith("image/")){const k=URL.createObjectURL(w);S=[...S,{file:w,preview:k}]}}),n(w=>[...w,...S])},[]),d=j.useCallback(x=>{x.preventDefault();const S=x.dataTransfer.files;h(S)},[h]),f=j.useCallback(x=>{x.preventDefault()},[]),p=async x=>new Promise(S=>{const w=document.createElement("canvas"),k=w.getContext("2d"),L=new Image;L.onload=()=>{let{width:E,height:N}=L;E>s&&(N=N*s/E,E=s),w.width=E,w.height=N,k==null||k.drawImage(L,0,0,E,N);const _=a==="keep"?x.file.type:`image/${a}`;w.toBlob(R=>{S(R)},_,r[0]/100)},L.src=x.preview}),m=async()=>{if(e.length===0){t({title:"No images",description:"Please upload some images first",variant:"destructive"});return}c(!0);try{const x=await Promise.all(e.map(async S=>{const w=await p(S),k=URL.createObjectURL(w),L=Math.round((1-w.size/S.file.size)*100);return{...S,optimized:{blob:w,preview:k,size:w.size,compression:L}}}));n(x),t({title:"Images optimized",description:`${x.length} images have been optimized`})}catch{t({title:"Optimization failed",description:"Failed to optimize images",variant:"destructive"})}finally{c(!1)}},g=x=>{if(!x.optimized)return;const S=URL.createObjectURL(x.optimized.blob),w=document.createElement("a");w.href=S,w.download=`optimized-${x.file.name}`,w.click(),URL.revokeObjectURL(S)},y=()=>{e.forEach(x=>{x.optimized&&g(x)})},b=x=>{n(S=>S.filter((w,k)=>k!==x))},C=x=>{if(x===0)return"0 Bytes";const S=1024,w=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(x)/Math.log(S));return parseFloat((x/Math.pow(S,k)).toFixed(2))+" "+w[k]};return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"ImageSqueeze - Image Optimizer",subtitle:"Compress and optimize images"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Image Upload"})}),v.jsx(Bt,{children:v.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors",onDrop:d,onDragOver:f,children:[v.jsx(Y3,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),v.jsx("p",{className:"text-muted-foreground mb-4",children:"Drag and drop your images here, or click to select"}),v.jsx(pe,{onClick:()=>{var x;return(x=document.getElementById("file-input"))==null?void 0:x.click()},children:"Choose Files"}),v.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:"image/*",onChange:x=>x.target.files&&h(x.target.files),className:"hidden"})]})})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Optimization Settings"})}),v.jsxs(Bt,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{children:"Quality"}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(rD,{value:r,onValueChange:i,max:100,min:10,step:5,className:"flex-1"}),v.jsxs("span",{className:"font-mono text-sm w-12",children:[r[0],"%"]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{htmlFor:"max-width",children:"Max Width"}),v.jsx(ct,{id:"max-width",type:"number",value:s,onChange:x=>o(Number(x.target.value)),min:100,max:4e3})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ge,{children:"Format"}),v.jsxs(ui,{value:a,onValueChange:l,children:[v.jsx(zr,{children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"keep",children:"Keep Original"}),v.jsx(At,{value:"jpeg",children:"JPEG"}),v.jsx(At,{value:"png",children:"PNG"}),v.jsx(At,{value:"webp",children:"WebP"})]})]})]})]}),v.jsxs("div",{className:"mt-6 flex gap-2",children:[v.jsx(pe,{onClick:m,disabled:u||e.length===0,children:u?"Processing...":"Optimize Images"}),v.jsxs(pe,{variant:"outline",onClick:y,disabled:!e.some(x=>x.optimized),children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Download All"]})]})]})]}),e.length>0&&v.jsx("div",{className:"space-y-4",children:e.map((x,S)=>v.jsx(_t,{children:v.jsxs(Bt,{className:"pt-6",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("h3",{className:"font-medium",children:x.file.name}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>b(S),children:v.jsx(pd,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium mb-2",children:"Original"}),v.jsx("div",{className:"bg-muted rounded border p-4 mb-4",children:v.jsx("img",{src:x.preview,alt:"Original",className:"w-full h-48 object-contain rounded"})}),v.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[v.jsxs("div",{className:"bg-muted rounded p-2",children:[v.jsx("div",{className:"text-muted-foreground",children:"Size"}),v.jsx("div",{className:"font-mono",children:C(x.file.size)})]}),v.jsxs("div",{className:"bg-muted rounded p-2",children:[v.jsx("div",{className:"text-muted-foreground",children:"Type"}),v.jsx("div",{className:"font-mono",children:x.file.type})]}),v.jsxs("div",{className:"bg-muted rounded p-2",children:[v.jsx("div",{className:"text-muted-foreground",children:"Status"}),v.jsx("div",{className:"font-mono",children:"Original"})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium mb-2",children:"Optimized"}),x.optimized?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"bg-muted rounded border p-4 mb-4",children:v.jsx("img",{src:x.optimized.preview,alt:"Optimized",className:"w-full h-48 object-contain rounded"})}),v.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-4",children:[v.jsxs("div",{className:"bg-muted rounded p-2",children:[v.jsx("div",{className:"text-muted-foreground",children:"Size"}),v.jsx("div",{className:"font-mono",children:C(x.optimized.size)})]}),v.jsxs("div",{className:"bg-muted rounded p-2",children:[v.jsx("div",{className:"text-muted-foreground",children:"Saved"}),v.jsxs("div",{className:"font-mono text-green-600",children:[x.optimized.compression,"%"]})]}),v.jsxs("div",{className:"bg-muted rounded p-2",children:[v.jsx("div",{className:"text-muted-foreground",children:"Status"}),v.jsx("div",{className:"font-mono",children:"Ready"})]})]}),v.jsxs(pe,{onClick:()=>g(x),className:"w-full",children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Download"]})]}):v.jsx("div",{className:"bg-muted rounded border p-4 mb-4 flex items-center justify-center h-48",children:v.jsx("p",{className:"text-muted-foreground",children:'Click "Optimize Images" to process'})})]})]})]})},S))})]})})]})}function cX(){const{toast:t}=ss(),[e,n]=j.useState({personalInfo:{fullName:"",email:"",phone:"",address:"",linkedin:"",github:"",website:"",summary:""},experience:[],education:[],skills:[],template:"modern"}),[r,i]=j.useState(""),[s,o]=j.useState("personal"),a=()=>{const y={id:Date.now().toString(),company:"",position:"",startDate:"",endDate:"",current:!1,description:""};n(b=>({...b,experience:[...b.experience,y]}))},l=(y,b,C)=>{n(x=>({...x,experience:x.experience.map(S=>S.id===y?{...S,[b]:C}:S)}))},u=y=>{n(b=>({...b,experience:b.experience.filter(C=>C.id!==y)}))},c=()=>{const y={id:Date.now().toString(),institution:"",degree:"",field:"",startDate:"",endDate:"",gpa:""};n(b=>({...b,education:[...b.education,y]}))},h=(y,b,C)=>{n(x=>({...x,education:x.education.map(S=>S.id===y?{...S,[b]:C}:S)}))},d=y=>{n(b=>({...b,education:b.education.filter(C=>C.id!==y)}))},f=()=>{r.trim()&&!e.skills.includes(r.trim())&&(n(y=>({...y,skills:[...y.skills,r.trim()]})),i(""))},p=y=>{n(b=>({...b,skills:b.skills.filter(C=>C!==y)}))},m=async()=>{try{const y=`
${e.personalInfo.fullName}
${e.personalInfo.email} | ${e.personalInfo.phone}
${e.personalInfo.address}

PROFESSIONAL SUMMARY
${e.personalInfo.summary}

EXPERIENCE
${e.experience.map(S=>`
${S.position} at ${S.company}
${S.startDate} - ${S.current?"Present":S.endDate}
${S.description}
`).join(`
`)}

EDUCATION
${e.education.map(S=>`
${S.degree} in ${S.field}
${S.institution} (${S.startDate} - ${S.endDate})
${S.gpa?`GPA: ${S.gpa}`:""}
`).join(`
`)}

SKILLS
${e.skills.join(", ")}
      `.trim(),b=new Blob([y],{type:"text/plain"}),C=URL.createObjectURL(b),x=document.createElement("a");x.href=C,x.download=`${e.personalInfo.fullName.replace(/\s+/g,"_")}_Resume.txt`,x.click(),URL.revokeObjectURL(C),t({title:"Resume generated",description:"Your resume has been downloaded as a text file"})}catch{t({title:"Generation failed",description:"Failed to generate resume",variant:"destructive"})}},g=()=>{localStorage.setItem("devtoolnest-resume",JSON.stringify(e)),t({title:"Resume saved",description:"Your resume has been saved locally"})};return v.jsxs(v.Fragment,{children:[v.jsx(zs,{title:"CVForge - Resume Builder",subtitle:"Create professional resumes"}),v.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:v.jsx("div",{className:"max-w-7xl mx-auto",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Template"})}),v.jsx(Bt,{children:v.jsxs(ui,{value:e.template,onValueChange:y=>n(b=>({...b,template:y})),children:[v.jsx(zr,{children:v.jsx(hi,{})}),v.jsxs(Hr,{children:[v.jsx(At,{value:"modern",children:"Modern"}),v.jsx(At,{value:"classic",children:"Classic"}),v.jsx(At,{value:"minimal",children:"Minimal"})]})]})})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx("div",{className:"flex gap-2 flex-wrap",children:["personal","experience","education","skills"].map(y=>v.jsx(pe,{variant:s===y?"default":"outline",size:"sm",onClick:()=>o(y),children:y.charAt(0).toUpperCase()+y.slice(1)},y))})}),v.jsxs(Bt,{children:[s==="personal"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"fullName",children:"Full Name"}),v.jsx(ct,{id:"fullName",value:e.personalInfo.fullName,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,fullName:y.target.value}}))})]}),v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"email",children:"Email"}),v.jsx(ct,{id:"email",type:"email",value:e.personalInfo.email,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,email:y.target.value}}))})]}),v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"phone",children:"Phone"}),v.jsx(ct,{id:"phone",value:e.personalInfo.phone,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,phone:y.target.value}}))})]}),v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"address",children:"Address"}),v.jsx(ct,{id:"address",value:e.personalInfo.address,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,address:y.target.value}}))})]}),v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"linkedin",children:"LinkedIn"}),v.jsx(ct,{id:"linkedin",value:e.personalInfo.linkedin,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,linkedin:y.target.value}}))})]}),v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"github",children:"GitHub"}),v.jsx(ct,{id:"github",value:e.personalInfo.github,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,github:y.target.value}}))})]})]}),v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"website",children:"Website"}),v.jsx(ct,{id:"website",value:e.personalInfo.website,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,website:y.target.value}}))})]}),v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"summary",children:"Professional Summary"}),v.jsx(rr,{id:"summary",rows:4,value:e.personalInfo.summary,onChange:y=>n(b=>({...b,personalInfo:{...b.personalInfo,summary:y.target.value}})),placeholder:"Brief overview of your professional background..."})]})]}),s==="experience"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Work Experience"}),v.jsxs(pe,{onClick:a,children:[v.jsx(Po,{className:"w-4 h-4 mr-2"}),"Add Experience"]})]}),e.experience.map((y,b)=>v.jsxs(_t,{className:"p-4",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("h4",{className:"font-medium",children:["Experience ",b+1]}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>u(y.id),children:v.jsx(ci,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx(Ge,{children:"Company"}),v.jsx(ct,{value:y.company,onChange:C=>l(y.id,"company",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"Position"}),v.jsx(ct,{value:y.position,onChange:C=>l(y.id,"position",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"Start Date"}),v.jsx(ct,{type:"date",value:y.startDate,onChange:C=>l(y.id,"startDate",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"End Date"}),v.jsx(ct,{type:"date",value:y.endDate,onChange:C=>l(y.id,"endDate",C.target.value),disabled:y.current})]})]}),v.jsx("div",{className:"mt-4",children:v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:y.current,onChange:C=>l(y.id,"current",C.target.checked)}),v.jsx("span",{className:"text-sm",children:"Currently working here"})]})}),v.jsxs("div",{className:"mt-4",children:[v.jsx(Ge,{children:"Description"}),v.jsx(rr,{rows:3,value:y.description,onChange:C=>l(y.id,"description",C.target.value),placeholder:"Describe your responsibilities and achievements..."})]})]},y.id)),e.experience.length===0&&v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No work experience added yet. Click "Add Experience" to get started.'})]}),s==="education"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Education"}),v.jsxs(pe,{onClick:c,children:[v.jsx(Po,{className:"w-4 h-4 mr-2"}),"Add Education"]})]}),e.education.map((y,b)=>v.jsxs(_t,{className:"p-4",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("h4",{className:"font-medium",children:["Education ",b+1]}),v.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>d(y.id),children:v.jsx(ci,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx(Ge,{children:"Institution"}),v.jsx(ct,{value:y.institution,onChange:C=>h(y.id,"institution",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"Degree"}),v.jsx(ct,{value:y.degree,onChange:C=>h(y.id,"degree",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"Field of Study"}),v.jsx(ct,{value:y.field,onChange:C=>h(y.id,"field",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"GPA (Optional)"}),v.jsx(ct,{value:y.gpa,onChange:C=>h(y.id,"gpa",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"Start Date"}),v.jsx(ct,{type:"date",value:y.startDate,onChange:C=>h(y.id,"startDate",C.target.value)})]}),v.jsxs("div",{children:[v.jsx(Ge,{children:"End Date"}),v.jsx(ct,{type:"date",value:y.endDate,onChange:C=>h(y.id,"endDate",C.target.value)})]})]})]},y.id)),e.education.length===0&&v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No education added yet. Click "Add Education" to get started.'})]}),s==="skills"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx(Ge,{htmlFor:"newSkill",children:"Add Skill"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(ct,{id:"newSkill",value:r,onChange:y=>i(y.target.value),placeholder:"e.g., JavaScript, React, Node.js",onKeyPress:y=>y.key==="Enter"&&f()}),v.jsx(pe,{onClick:f,children:v.jsx(Po,{className:"w-4 h-4"})})]})]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((y,b)=>v.jsxs(Mr,{variant:"secondary",className:"text-sm",children:[y,v.jsx(pe,{variant:"ghost",size:"sm",className:"ml-2 h-auto p-0",onClick:()=>p(y),children:v.jsx(ci,{className:"w-3 h-3"})})]},b))}),e.skills.length===0&&v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No skills added yet. Add your technical and soft skills above."})]})]})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Actions"})}),v.jsxs(Bt,{className:"space-y-2",children:[v.jsxs(pe,{onClick:m,className:"w-full",children:[v.jsx(Xi,{className:"w-4 h-4 mr-2"}),"Generate PDF"]}),v.jsxs(pe,{variant:"outline",onClick:g,className:"w-full",children:[v.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Save Resume"]})]})]}),v.jsxs(_t,{children:[v.jsx(nn,{children:v.jsx(ln,{children:"Preview"})}),v.jsx(Bt,{children:v.jsxs("div",{className:"bg-muted rounded-lg p-4 text-sm space-y-4 max-h-96 overflow-y-auto",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-lg font-bold",children:e.personalInfo.fullName||"Your Name"}),v.jsxs("p",{className:"text-muted-foreground",children:[e.personalInfo.email," | ",e.personalInfo.phone]}),v.jsx("p",{className:"text-muted-foreground",children:e.personalInfo.address})]}),e.personalInfo.summary&&v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"PROFESSIONAL SUMMARY"}),v.jsx("p",{className:"text-sm",children:e.personalInfo.summary})]}),e.experience.length>0&&v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"EXPERIENCE"}),v.jsx("div",{className:"space-y-3",children:e.experience.map(y=>v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:y.position}),v.jsx("p",{className:"text-muted-foreground",children:y.company})]}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.startDate," - ",y.current?"Present":y.endDate]})]}),y.description&&v.jsx("p",{className:"text-sm mt-1",children:y.description})]},y.id))})]}),e.education.length>0&&v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"EDUCATION"}),v.jsx("div",{className:"space-y-2",children:e.education.map(y=>v.jsxs("div",{children:[v.jsxs("p",{className:"font-medium",children:[y.degree," in ",y.field]}),v.jsx("p",{className:"text-muted-foreground",children:y.institution}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.startDate," - ",y.endDate,y.gpa&&` | GPA: ${y.gpa}`]})]},y.id))})]}),e.skills.length>0&&v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"SKILLS"}),v.jsx("p",{className:"text-sm",children:e.skills.join(", ")})]})]})})]})]})]})})})]})}function uX(){return v.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:v.jsx(_t,{className:"w-full max-w-md mx-4",children:v.jsxs(Bt,{className:"pt-6",children:[v.jsxs("div",{className:"flex mb-4 gap-2",children:[v.jsx(jM,{className:"h-8 w-8 text-red-500"}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),v.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function hX(){return v.jsxs("div",{className:"flex h-screen",children:[v.jsx(DB,{}),v.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:v.jsxs(l4,{children:[v.jsx(ei,{path:"/",component:zB}),v.jsx(ei,{path:"/reqnest",component:GK}),v.jsx(ei,{path:"/spec-craft",component:WQ}),v.jsx(ei,{path:"/token-peek",component:TJ}),v.jsx(ei,{path:"/code-beautifier",component:LJ}),v.jsx(ei,{path:"/data-morph",component:$J}),v.jsx(ei,{path:"/time-flip",component:OJ}),v.jsx(ei,{path:"/mock-wizard",component:_J}),v.jsx(ei,{path:"/throttle-viz",component:HJ}),v.jsx(ei,{path:"/flow-trace",component:WJ}),v.jsx(ei,{path:"/image-squeeze",component:lX}),v.jsx(ei,{path:"/cv-forge",component:cX}),v.jsx(ei,{component:uX})]})})]})}function dX(){return v.jsx(YT,{base:"/DevToolNest",children:v.jsx(D4,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:v.jsx(O4,{client:U4,children:v.jsxs(_B,{children:[v.jsx(YF,{}),v.jsx(hX,{})]})})})})}IT(document.getElementById("root")).render(v.jsx(dX,{}));
